/*! For license information please see main.283d2c7b.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case C:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=L[z],L[z]=null,z--)}function W(e,t){z++,L[z]=e.current,e.current=t}var H,q,V=F(null),B=F(null),K=F(null),Y=F(null);function G(e,t){switch(W(K,t),W(B,e),W(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),W(V,e)}function $(){U(V),U(B),U(K)}function Q(e){null!==e.memoizedState&&W(Y,e);var t=V.current,n=yd(t,e.type);t!==n&&(W(B,e),W(V,n))}function J(e){B.current===e&&(U(V),U(B)),Y.current===e&&(U(Y),uh._currentValue=M)}function Z(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+q}var X=!1;function ee(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var xe=256,Ce=262144,Se=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Ee(r):0!==(a&=o)?i=Ee(a):n||0!==(n=o&~e)&&(i=Ee(n)):0!==(o=r&~s)?i=Ee(o):0!==a?i=Ee(a):n||0!==(n=r&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function Fe(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Ue=Math.random().toString(36).slice(2),We="__reactFiber$"+Ue,He="__reactProps$"+Ue,qe="__reactContainer$"+Ue,Ve="__reactEvents$"+Ue,Be="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ye="__reactResources$"+Ue,Ge="__reactMarker$"+Ue;function $e(e){delete e[We],delete e[He],delete e[Ve],delete e[Be],delete e[Ke]}function Qe(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[We]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[We])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[We]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Xe(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?_t(e,a,dt(t)):null!=n?_t(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Mt=null;function Lt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[He]||null;if(!i)throw Error(a(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Dt||null!==Mt)&&(Xc(),Dt&&(t=Dt,e=Mt,Mt=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Wt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jh){Ht=!1}var Vt=null,Bt=null,Kt=null;function Yt(){if(Kt)return Kt;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Zt,Xt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),sn=Jt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,Xt=e.screenY-en.screenY):Xt=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),on=Jt(an),ln=Jt(f({},an,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Jt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Jt(f({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],Sn=Wt&&"CompositionEvent"in window,En=null;Wt&&"documentMode"in document&&(En=document.documentMode);var Tn=Wt&&"TextEvent"in window&&!En,Nn=Wt&&(!Sn||En&&8<En&&11>=En),In=String.fromCharCode(32),Pn=!1;function An(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Mn(e,t,n,r){Dt?Mt?Mt.push(r):Mt=[r]:Dt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Fn(e){$u(e,0)}function Un(e){if(pt(Ze(e)))return e}function Wn(e,t){if("change"===e)return t}var Hn=!1;if(Wt){var qn;if(Wt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}qn=Vn}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Ln&&(Ln.detachEvent("onpropertychange",Yn),zn=Ln=null)}function Yn(e){if("value"===e.propertyName&&Un(zn)){var t=[];Mn(t,zn,e,Ot(e)),Ft(Fn,t)}}function Gn(e,t,n){"focusin"===e?(Kn(),zn=n,(Ln=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Kn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(zn)}function Qn(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Wt&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=rd(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Wt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),_r=mr("transitionstart"),wr=mr("transitioncancel"),kr=mr("transitionend"),xr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Nr=0,Ir=0;function Pr(){for(var e=Nr,t=Ir=Nr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Ar(e,t,n,r){Tr[Nr++]=e,Tr[Nr++]=t,Tr[Nr++]=n,Tr[Nr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Ar(e,t,n,r),Dr(e)}function Rr(e,t){return Ar(e,null,null,t),Dr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Dr(e){if(50<Vc)throw Vc=0,Bc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,i)).elementType=T,e.lanes=s,e;case v:return qr(n.children,i,s,t);case y:o=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case x:return(e=zr(13,n,t,i)).elementType=x,e.lanes=s,e;case C:return(e=zr(19,n,t,i)).elementType=C,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case _:o=9;break e;case k:o=11;break e;case S:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Br(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $r=[],Qr=0,Jr=null,Zr=0,Xr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){$r[Qr++]=Zr,$r[Qr++]=Jr,Jr=e,Zr=t}function si(e,t,n){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var s=32-_e(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-_e(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function ai(e){null!==e.return&&(ii(e,1),si(e,1,0))}function oi(e){for(;e===Jr;)Jr=$r[--Qr],$r[Qr]=null,Zr=$r[--Qr],$r[Qr]=null;for(;e===ti;)ti=Xr[--ei],Xr[ei]=null,ri=Xr[--ei],Xr[ei]=null,ni=Xr[--ei],Xr[ei]=null}function li(e,t){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(a(519));function mi(e){throw wi(Gr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[We]=e,t[He]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Yu.length;n++)Qu(Yu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=jt),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Dd(e)}else 27===n?(n=ui,Ed(e.type)?(e=Od,Od=null,ui=e):ui=n):ui=ci?Rd(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function _i(){var e=hi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var ki=F(null),xi=null,Ci=null;function Si(e,t,n){W(ki,t._currentValue),t._currentValue=n}function Ei(e){e._currentValue=ki.current,U(ki)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ti(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ii(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Y.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){xi=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ji(e){return Oi(xi,e)}function Ri(e,t){return null===xi&&Ai(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(a(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,zi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Di,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&Mi(Li,function(){e.controller.abort()})}var Wi=null,Hi=0,qi=0,Vi=null;function Bi(){if(0===--Hi&&null!==Wi){null!==Vi&&(Vi.status="fulfilled");var e=Wi;Wi=null,qi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=O.S;O.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wi){var n=Wi=[];Hi=0,qi=Hu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Bi,Bi)}(0,t),null!==Ki&&Ki(e,t)};var Yi=F(null);function Gi(){var e=Yi.current;return null!==e?e:pc.pooledCache}function $i(e,t){W(Yi,null===t?Yi.current:t.pool)}function Qi(){var e=Gi();return null===e?null:{parent:zi._currentValue,pool:e}}var Ji=Error(a(460)),Zi=Error(a(474)),Xi=Error(a(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(jt,jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"===typeof t.status)t.then(jt,jt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw is=t,Ji}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Ji;throw t}}var is=null;function ss(){if(null===is)throw Error(a(459));var e=is;return is=null,e}function as(e){if(e===Ji||e===Xi)throw Error(a(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return us(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case E:return h(e,t=rs(t),n)}if(R(t)||P(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),n);if(t.$$typeof===w)return h(e,Ri(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=rs(n),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,cs(n),r);if(n.$$typeof===w)return f(e,t,Ri(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,r=rs(r),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,cs(r),i);if(r.$$typeof===w)return p(e,t,n,Ri(t,r),i);ds(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&rs(b)===c.type){n(l,c.sibling),us(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(us(d=Hr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case E:return y(l,c,u=rs(u),d)}if(R(u))return function(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),di&&ii(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),di&&ii(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,cs(u),d);if(u.$$typeof===w)return y(l,c,Ri(l,u),d);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ls=0;var i=y(e,t,n,r);return os=null,i}catch(a){if(a===Ji||a===Xi)throw a;var s=zr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=hs(!0),ps=hs(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Or(e,null,n),t}return Ar(e,r,t,n),Dr(e)}function _s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ks=!1;function xs(){if(ks){if(null!==Vi)throw Vi}}function Cs(e,t,n,r){ks=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===qi&&(ks=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ms=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Cc|=a,e.lanes=a,e.memoizedState=d}}function Ss(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Es(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ss(n[e],t)}var Ts=F(null),Ns=F(0);function Is(e,t){W(Ns,e=kc),W(Ts,t),kc=e|t.baseLanes}function Ps(){W(Ns,kc),W(Ts,Ts.current)}function As(){kc=Ns.current,U(Ts),U(Ns)}var js=F(null),Rs=null;function Os(e){var t=e.alternate;W(Fs,1&Fs.current),W(js,e),null===Rs&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Rs=e)}function Ds(e){W(Fs,Fs.current),W(js,e),null===Rs&&(Rs=e)}function Ms(e){22===e.tag?(W(Fs,Fs.current),W(js,e),null===Rs&&(Rs=e)):Ls()}function Ls(){W(Fs,Fs.current),W(js,js.current)}function zs(e){U(js),Rs===e&&(Rs=null),U(Fs)}var Fs=F(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||jd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=0,Hs=null,qs=null,Vs=null,Bs=!1,Ks=!1,Ys=!1,Gs=0,$s=0,Qs=null,Js=0;function Zs(){throw Error(a(321))}function Xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,s){return Ws=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?go:vo,Ys=!1,s=n(r,i),Ys=!1,Ks&&(s=na(t,n,r,i)),ta(e),s}function ta(e){O.H=mo;var t=null!==qs&&null!==qs.next;if(Ws=0,Vs=qs=Hs=null,Bs=!1,$s=0,Qs=null,t)throw Error(a(300));null===e||Ro||null!==(e=e.dependencies)&&Pi(e)&&(Ro=!0)}function na(e,t,n,r){Hs=e;var i=0;do{if(Ks&&(Qs=null),$s=0,Ks=!1,25<=i)throw Error(a(301));if(i+=1,Vs=qs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=yo,s=t(n,r)}while(Ks);return s}function ra(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?ca(t):t,e=e.useState()[0],(null!==qs?qs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function ia(){var e=0!==Gs;return Gs=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function aa(e){if(Bs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Bs=!1}Ws=0,Vs=qs=Hs=null,Ks=!1,$s=Gs=0,Qs=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function la(){if(null===qs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=qs.next;var t=null===Vs?Hs.memoizedState:Vs.next;if(null!==t)Vs=t,qs=e;else{if(null===e){if(null===Hs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(qs=e).memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function ca(e){var t=$s;return $s+=1,null===Qs&&(Qs=[]),e=ns(Qs,e,t),t=Hs,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?go:vo),e}function ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ca(e);if(e.$$typeof===w)return ji(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function ha(e,t){return"function"===typeof t?t(e):t}function fa(e){return pa(la(),qs,e)}function pa(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Ws&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qi&&(d=!0);else{if((Ws&f)===f){u=u.next,f===qi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Hs.lanes|=f,Cc|=f}h=u.action,Ys&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Hs.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Zn(s,e.memoizedState)&&(Ro=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ma(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Zn(s,t.memoizedState)||(Ro=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ga(e,t,n){var r=Hs,i=la(),s=di;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Zn((qs||i).memoizedState,n);if(o&&(i.memoizedState=n,Ro=!0),i=i.queue,Wa(ba.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,Ma(9,{destroy:void 0},ya.bind(null,r,i,n,t),null),null===pc)throw Error(a(349));s||0!==(127&Ws)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ya(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&wa(e)}function ba(e,t,n){return n(function(){_a(t)&&wa(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function wa(e){var t=Rr(e,2);null!==t&&Gc(t,e,2)}function ka(e){var t=oa();if("function"===typeof e){var n=e;if(e=n(),Ys){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function xa(e,t,n,r){return e.baseState=n,pa(e,qs,"function"===typeof r?r:ha)}function Ca(e,t,n,r,i){if(ho(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Sa(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Sa(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),Ea(e,t,o)}catch(c){Na(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),O.T=s}}else try{Ea(e,t,s=n(i,r))}catch(u){Na(e,t,u)}}function Ea(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ta(e,t,n)},function(n){return Na(e,t,n)}):Ta(e,t,n)}function Ta(e,t,n){t.status="fulfilled",t.value=n,Ia(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Sa(e,n)))}function Na(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ia(t),t=t.next}while(t!==r)}e.action=null}function Ia(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pa(e,t){return t}function Aa(e,t){if(di){var n=pc.formState;if(null!==n){e:{var r=Hs;if(di){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=Rd(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=oa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},n.queue=r,n=lo.bind(null,Hs,r),r.dispatch=n,r=ka(!1),s=uo.bind(null,Hs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=oa()).queue=i,n=Ca.bind(null,Hs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ja(e){return Ra(la(),qs,e)}function Ra(e,t,n){if(t=pa(e,t,Pa)[0],e=fa(ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ca(t)}catch(a){if(a===Ji)throw Xi;throw a}else r=t;var i=(t=la()).queue,s=i.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Ma(9,{destroy:void 0},Oa.bind(null,i,n),null)),[r,s,e]}function Oa(e,t){e.action=t}function Da(e){var t=la(),n=qs;if(null!==n)return Ra(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return la().memoizedState}function za(e,t,n,r){var i=oa();Hs.flags|=e,i.memoizedState=Ma(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fa(e,t,n,r){var i=la();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==qs&&null!==r&&Xs(r,qs.memoizedState.deps)?i.memoizedState=Ma(t,s,n,r):(Hs.flags|=e,i.memoizedState=Ma(1|t,s,n,r))}function Ua(e,t){za(8390656,8,e,t)}function Wa(e,t){Fa(2048,8,e,t)}function Ha(e){var t=la().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function qa(e,t){return Fa(4,2,e,t)}function Va(e,t){return Fa(4,4,e,t)}function Ba(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ba.bind(null,t,e),n)}function Ya(){}function Ga(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Xs(t,r[1]))return r[0];if(r=e(),Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Qa(e,t,n){return void 0===n||0!==(1073741824&Ws)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),Hs.lanes|=e,Cc|=e,n)}function Ja(e,t,n,r){return Zn(n,t)?n:null!==Ts.current?(e=Qa(e,n,r),Zn(e,t)||(Ro=!0),e):0===(42&Ws)||0!==(1073741824&Ws)&&0===(261930&gc)?(Ro=!0,e.memoizedState=n):(e=Yc(),Hs.lanes|=e,Cc|=e,t)}function Za(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,uo(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else co(e,t,r,Kc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{D.p=s,null!==a&&null!==o.types&&(a.types=o.types),O.T=a}}function Xa(){}function eo(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=to(e).queue;Za(e,i,t,M,null===n?Xa:function(){return no(e),n(r)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Kc())}function ro(){return ji(uh)}function io(){return la().memoizedState}function so(){return la().memoizedState}function ao(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=bs(t,e=ys(n),n);return null!==r&&(Gc(r,t,n),_s(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?fo(t,n):null!==(n=jr(e,t,n,r))&&(Gc(n,e,r),po(n,t,r))}function lo(e,t,n){co(e,t,n,Kc())}function co(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))fo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,a))return Ar(e,t,i,0),null===pc&&Pr(),!1}catch(l){}if(null!==(n=jr(e,t,i,r)))return Gc(n,e,r),po(n,t,r),!0}return!1}function uo(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(a(479))}else null!==(t=jr(e,n,r,2))&&Gc(t,e,2)}function ho(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function fo(e,t){Ks=Bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var mo={readContext:ji,use:ua,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};mo.useEffectEvent=Zs;var go={readContext:ji,use:ua,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ji,useEffect:Ua,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){za(4,2,e,t)},useMemo:function(e,t){var n=oa();t=void 0===t?null:t;var r=e();if(Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oa();if(void 0!==n){var i=n(t);if(Ys){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=oo.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oa().memoizedState=e},useState:function(e){var t=(e=ka(e)).queue,n=lo.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ya,useDeferredValue:function(e,t){return Qa(oa(),e,t)},useTransition:function(){var e=ka(!1);return e=Za.bind(null,Hs,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hs,i=oa();if(di){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pc)throw Error(a(349));0!==(127&gc)||va(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ua(ba.bind(null,r,s,e),[e]),r.flags|=2048,Ma(9,{destroy:void 0},ya.bind(null,r,s,n,t),null),n},useId:function(){var e=oa(),t=pc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-_e(ni)-1)).toString(32)+n),0<(n=Gs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ro,useFormState:Aa,useActionState:Aa,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return oa().memoizedState=ao.bind(null,Hs)},useEffectEvent:function(e){var t=oa(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:ji,use:ua,useCallback:Ga,useContext:ji,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Va,useMemo:$a,useReducer:fa,useRef:La,useState:function(){return fa(ha)},useDebugValue:Ya,useDeferredValue:function(e,t){return Ja(la(),qs.memoizedState,e,t)},useTransition:function(){var e=fa(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:io,useHostTransitionStatus:ro,useFormState:ja,useActionState:ja,useOptimistic:function(e,t){return xa(la(),0,e,t)},useMemoCache:da,useCacheRefresh:so};vo.useEffectEvent=Ha;var yo={readContext:ji,use:ua,useCallback:Ga,useContext:ji,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Va,useMemo:$a,useReducer:ma,useRef:La,useState:function(){return ma(ha)},useDebugValue:Ya,useDeferredValue:function(e,t){var n=la();return null===qs?Qa(n,e,t):Ja(n,qs.memoizedState,e,t)},useTransition:function(){var e=ma(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:io,useHostTransitionStatus:ro,useFormState:Da,useActionState:Da,useOptimistic:function(e,t){var n=la();return null!==qs?xa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:so};function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}yo.useEffectEvent=Ha;var _o={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ys(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Gc(t,e,r),_s(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ys(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Gc(t,e,r),_s(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=ys(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Gc(t,e,n),_s(t,e,n))}};function wo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function xo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Co(e){Er(e)}function So(e){console.error(e)}function Eo(e){Er(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=ys(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Po(e){return(e=ys(e)).tag=3,e}function Ao(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){No(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var jo=Error(a(461)),Ro=!1;function Oo(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function Do(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ai(t),r=ea(e,t,n,a,s,i),o=ia(),null===e||Ro?(di&&o&&ai(t),t.flags|=1,Oo(e,t,r,i),t.child):(sa(e,t,i),il(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,r,i))}if(s=e.child,!sl(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Ur(s,r)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=r=s,!sl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ro=!0)}}return Vo(e,t,n,r,i)}function zo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Uo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Uo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==s?s.cachePool:null),null!==s?Is(t,s):Ps(),Ms(t)}else null!==s?($i(0,s.cachePool),Is(t,s),Ls(),t.memoizedState=null):(null!==e&&$i(0,null),Ps(),Ls());return Oo(e,t,i,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,r,i){var s=Gi();return s=null===s?null:{parent:zi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&$i(0,null),Ps(),Ms(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Wo(e,t){return(t=Xo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return fs(t,e.child,null,n),(e=Wo(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function qo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vo(e,t,n,r,i){return Ai(t),n=ea(e,t,n,r,void 0,i),r=ia(),null===e||Ro?(di&&r&&ai(t),t.flags|=1,Oo(e,t,n,i),t.child):(sa(e,t,i),il(e,t,i))}function Bo(e,t,n,r,i,s){return Ai(t),t.updateQueue=null,n=na(t,r,n,i),ta(e),r=ia(),null===e||Ro?(di&&r&&ai(t),t.flags|=1,Oo(e,t,n,s),t.child):(sa(e,t,s),il(e,t,s))}function Ko(e,t,n,r,i){if(Ai(t),null===t.stateNode){var s=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(s=ji(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=_o,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),a=n.contextType,s.context="object"===typeof a&&null!==a?ji(a):Mr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(bo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&_o.enqueueReplaceState(s,s.state,null),Cs(t,r,s,i),xs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=xo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Mr,"object"===typeof u&&null!==u&&(a=ji(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&ko(t,s,r,a),ms=!1;var h=t.memoizedState;s.state=h,Cs(t,r,s,i),xs(),c=t.memoizedState,o||h!==c||ms?("function"===typeof d&&(bo(t,n,d,r),c=t.memoizedState),(l=ms||wo(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=xo(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=ji(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&ko(t,s,r,l),ms=!1,h=t.memoizedState,s.state=h,Cs(t,r,s,i),xs();var f=t.memoizedState;a!==d||h!==f||ms||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof o&&(bo(t,n,o,r),f=t.memoizedState),(u=ms||wo(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,qo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Oo(e,t,n,i),t.memoizedState=s.state,e=t.child):e=il(e,t,i),e}function Yo(e,t,n,r){return bi(),t.flags|=256,Oo(e,t,n,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Qi()}}function Qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Jo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(s?Os(t):Ls(),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return jd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ls(),l=Xo({mode:"hidden",children:l},s=t.mode),i=qr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=$o(n),i.childLanes=Qo(e,r,n),t.memoizedState=Go,Fo(null,i)):(Os(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Os(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),l=i.fallback,s=t.mode,i=Xo({mode:"visible",children:i.children},s),(l=qr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=$o(n),i.childLanes=Qo(e,r,n),t.memoizedState=Go,t=Fo(null,i));else if(Os(t),jd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ro||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(r=pc)&&(0!==(i=De(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Gc(r,e,i),jo;Ad(l)||au(),t=el(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Rd(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return s?(Ls(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Ur(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=qr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Fo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=$o(n):(null!==(s=l.cachePool)?(c=zi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qi(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Qo(e,r,n),t.memoizedState=Go,Fo(e.child,i)):(Os(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=Xo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xo(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function nl(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Fs.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,W(Fs,a),Oo(e,t,r,n),r=di?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Si(0,zi,e.memoizedState.cache),bi();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Si(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ds(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Os(t),null!==(e=il(e,t,n))?e.sibling:null);Os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,zo(e,t,n,t.pendingProps);case 24:Si(0,zi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ro=0!==(131072&e.flags)}else Ro=!1,di&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Do(null,t,e,r,n);break e}if(i===S){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=j(e)||e,Error(a(306,t,""))}Fr(e)?(r=xo(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Vo(null,t,e,r,n))}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,i=xo(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),Cs(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Si(0,zi,r),r!==s.cache&&Ni(t,[zi],n,!0),xs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Yo(e,t,r,n);break e}if(r!==i){wi(i=Gr(Error(a(424)),t)),t=Yo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return qo(e,t),null===e?(n=Bd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=gd(K.current).createElement(n))[We]=t,r[He]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Bd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&di&&(r=t.stateNode=Ld(t.type,t.pendingProps,K.current),ci=t,fi=!0,i=ui,Ed(t.type)?(Od=i,ui=Rd(r.firstChild)):ui=i),Oo(e,t,t.pendingProps.children,n),qo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Rd(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),Q(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,bd(i,s)?r=null:null!==o&&bd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ea(e,t,ra,null,null,n),uh._currentValue=i),qo(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Jo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Do(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Si(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=ji(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Lo(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Wo(t,r),t.lanes=536870912,Fo(null,e);if(Ds(t),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Wo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ds(t),i)if(256&t.flags)t.flags&=-257,t=Ho(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(r=pc)&&0!==(o=De(r,n))&&o!==s.retryLane)throw s.retryLane=o,Rr(e,o),Gc(r,e,o),jo;au(),t=Ho(e,t,n)}else e=s.treeContext,ui=Rd(o.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Wo(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zo(e,t,n,t.pendingProps);case 24:return Ai(t),r=ji(zi),null===e?(null===(i=Gi())&&(i=pc,s=Fi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),Si(0,zi,i)):(0!==(e.lanes&n)&&(vs(e,t),Cs(t,null,null,n),xs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Si(0,zi,r)):(r=s.cache,Si(0,zi,r),r!==i.cache&&Ni(t,[zi],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Zi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw is=es,Zi;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Nc|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ei(zi),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,_i())),hl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,i,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),hl(t),ll(t,i,0,0,n)),null;case 27:if(J(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=V.current,yi(t)?gi(t):(e=Ld(i,r,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(s=V.current,yi(t))gi(t);else{var o=gd(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[We]=t,s[He]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=K.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[We]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||mi(t,!0)}else(e=gd(e).createTextNode(r))[We]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[We]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(a(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[We]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return $(),null===e&&Xu(t.stateNode.containerInfo),hl(t),null;case 10:return Ei(t.type),hl(t),null;case 19:if(U(Fs),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)dl(r,!1);else{if(0!==xc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Us(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return W(Fs,1&Fs.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Us(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!di)return hl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Fs.current,W(Fs,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return zs(t),As(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ei(zi),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pl(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ei(zi),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Fs),null;case 4:return $(),null;case 10:return Ei(t.type),null;case 22:case 23:return zs(t),As(),null!==e&&U(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ei(zi),null;default:return null}}function ml(e,t){switch(oi(t),t.tag){case 3:Ei(zi),$();break;case 26:case 27:case 5:J(t);break;case 4:$();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:U(Fs);break;case 10:Ei(t.type);break;case 22:case 23:zs(t),As(),null!==e&&U(Yi);break;case 24:Ei(zi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){xu(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){xu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){xu(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Es(t,n)}catch(r){xu(e,e.return,r)}}}function bl(e,t,n){n.props=xo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){xu(e,t,r)}}function _l(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){xu(e,t,i)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){xu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){xu(e,t,s)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){xu(e,e.return,i)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void yt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||ud(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ud(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&ud(e,t,o,i,r,s)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[He]=t}catch(i){xu(e,e.return,i)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jt));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[We]=e,t[He]=n}catch(s){xu(e,e.return,s)}}var Il=!1,Pl=!1,Al=!1,jl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gl(e,n),4&r&&gl(5,n);break;case 1:if(Gl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){xu(n,n.return,a)}else{var i=xo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){xu(n,n.return,o)}}64&r&&yl(n),512&r&&_l(n,n.return);break;case 3:if(Gl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Es(e,t)}catch(a){xu(n,n.return,a)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Gl(e,n),null===t&&4&r&&kl(n),512&r&&_l(n,n.return);break;case 12:Gl(e,n);break;case 31:Gl(e,n),4&r&&Ul(e,n);break;case 13:Gl(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Pl,i=Il;var s=Pl;Il=r,(Pl=t)&&!s?Ql(e,n,0!==(8772&n.subtreeFlags)):Gl(e,n),Il=i,Pl=s}break;case 30:break;default:Gl(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Ll=!1;function zl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Pl||wl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||wl(n,t);var r=Ml,i=Ll;Ed(n.type)&&(Ml=n.stateNode,Ll=!1),zl(e,t,n),zd(n.stateNode),Ml=r,Ll=i;break;case 5:Pl||wl(n,t);case 6:if(r=Ml,i=Ll,Ml=null,zl(e,t,n),Ll=i,null!==(Ml=r))if(Ll)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(a){xu(n,t,a)}else try{Ml.removeChild(n.stateNode)}catch(a){xu(n,t,a)}break;case 18:null!==Ml&&(Ll?(Td(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Td(Ml,n.stateNode));break;case 4:r=Ml,i=Ll,Ml=n.stateNode.containerInfo,Ll=!0,zl(e,t,n),Ml=r,Ll=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),zl(e,t,n);break;case 1:Pl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,zl(e,t,n),Pl=r;break;default:zl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){xu(t,t.return,n)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){xu(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Ed(l.type)){Ml=l.stateNode,Ll=!1;break e}break;case 5:Ml=l.stateNode,Ll=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Ml)throw Error(a(160));Fl(s,o,i),Ml=null,Ll=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Bl(t,e),t=t.sibling}var Vl=null;function Bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Kl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vl;if(ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ge]||s[We]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),hd(s,r,n),s[We]=e,et(s),r=s;break e;case"link":var o=nh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[We]=e,et(s),r=s}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(m){xu(e,e.return,m)}}4&r&&null!=e.stateNode&&xl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Al=!0);break;case 6:if(ql(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){xu(e,e.return,m)}}break;case 3:if(th=null,i=Vl,Vl=Wd(t.containerInfo),ql(t,e),Vl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(m){xu(e,e.return,m)}Al&&(Al=!1,Yl(e));break;case 4:r=Vl,Vl=Wd(e.stateNode.containerInfo),ql(t,e),Kl(e),Vl=r;break;case 12:default:ql(t,e),Kl(e);break;case 31:case 19:ql(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:ql(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(jc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Pl;if(Il=u||i,Pl=d||c,ql(t,e),Pl=d,Il=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Pl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){xu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){xu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(m){xu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,Sl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Ct(s,""),n.flags&=-33),Tl(e,Sl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;El(e,Sl(e),o);break;default:throw Error(a(161))}}catch(l){xu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),$l(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),$l(t);break;case 27:zd(t.stateNode);case 26:case 5:wl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ql(i,s,n),gl(4,s);break;case 1:if(Ql(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){xu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ss(l[i],o)}catch(c){xu(r,r.return,c)}}n&&64&a&&yl(s),_l(s,s.return);break;case 27:Nl(s);case 26:case 5:Ql(i,s,n),n&&null===r&&4&a&&kl(s),_l(s,s.return);break;case 12:Ql(i,s,n);break;case 31:Ql(i,s,n),n&&4&a&&Ul(i,s);break;case 13:Ql(i,s,n),n&&4&a&&Wl(i,s);break;case 22:null===s.memoizedState&&Ql(i,s,n),_l(s,s.return);break;case 30:break;default:Ql(i,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function Xl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Xl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Xl(e,t,n,r);break;case 3:Xl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){Xl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){xu(t,t.return,l)}}else Xl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Xl(e,t,n,r):nc(e,t):2&s._visibility?Xl(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(a,t);break;case 24:Xl(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(s,a,o,l,i),gl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?tc(s,a,o,l,i):nc(s,a):(u._visibility|=2,tc(s,a,o,l,i)),i&&2048&c&&Jl(a.alternate,a);break;case 24:tc(s,a,o,l,i),i&&2048&c&&Zl(a.alternate,a);break;default:tc(s,a,o,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:nc(n,r),2048&i&&Zl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),s=t.querySelector(Yd(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Gd(r),(i=Fd.get(i))&&Xd(r,i),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Vl;Vl=Wd(e.stateNode.containerInfo),ic(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,s=r.return;if(Dl(r),r===n){Rl=null;break e}if(null!==i){i.return=s,Rl=i;break e}Rl=s}}}var dc={getCacheForType:function(e){var t=ji(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ji(zi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,_c=!1,wc=!1,kc=0,xc=0,Cc=0,Sc=0,Ec=0,Tc=0,Nc=0,Ic=null,Pc=null,Ac=!1,jc=0,Rc=0,Oc=1/0,Dc=null,Mc=null,Lc=0,zc=null,Fc=null,Uc=0,Wc=0,Hc=null,qc=null,Vc=0,Bc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==O.T?Hu():ze()}function Yc(){if(0===Tc)if(0===(536870912&gc)||di){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Tc=e}else Tc=536870912;return null!==(e=js.current)&&(e.flags|=32),Tc}function Gc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Zc(e,gc,Tc,!1)),je(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Sc|=n),4===xc&&Zc(e,gc,Tc,!1)),Du(e))}function $c(e,t,n){if(0!==(6&fc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=su();pc!==e||gc!==t?(Dc=null,Oc=le()+500,tu(e,t)):_c=Ne(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var s=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Du(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ts(s)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,s,7));break;case 5:var o=null;switch(mc.tag){case 26:o=mc.memoizedState;case 5:case 27:var l=mc;if(o?ih(o):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,s,5);break;case 6:vc=0,yc=null,hu(e,t,s,6);break;case 8:eu(),xc=6;break e;default:throw Error(a(462))}}cu();break}catch(d){nu(e,d)}return Ci=xi=null,O.H=r,O.A=i,fc=n,null!==mc?0:(pc=null,gc=0,Pr(),xc)}(e,t):ou(e,t,!0),s=r;;){if(0===i){_c&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Jc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,Sc|=s,i=4;break e}s=Pc,Pc=i,null!==s&&(null===Pc?Pc=s:Pc.push.apply(Pc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!bc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=jc+300-le())){if(Zc(r,t,Tc,!bc),0!==Te(r,0,!0))break e;Uc=t,r.timeoutHandle=wd(Qc.bind(null,r,n,Pc,Dc,Ac,t,Tc,Sc,Nc,bc,s,"Throttled",-0,0),i)}else Qc(r,n,Pc,Dc,Ac,t,Tc,Sc,Nc,bc,s,null,-0,0)}break}i=ou(e,t,!1),s=!1}Du(e)}function Qc(e,t,n,r,i,s,a,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt});var p=(62914560&s)===s?jc-le():(4194048&s)===s?Rc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&fd(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Uc=s,e.cancelPendingCommit=p(mu.bind(null,e,t,s,n,r,i,a,o,l,u,d,null,h,f)),void Zc(e,s,a,!c)}mu(e,t,s,n,r,i,a,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Ec,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-_e(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Re(e,n,t)}function Xc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Ci=xi=null,aa(e=mc),os=null,ls=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,eu(),pc=e,mc=n=Ur(e.current,null),gc=t,vc=0,yc=null,bc=!1,_c=Ne(e,t),wc=!1,Nc=Tc=Ec=Sc=Cc=xc=0,Pc=Ic=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),s=1<<i;t|=e[i],r&=~s}return kc=t,Pr(),n}function nu(e,t){Hs=null,O.H=mo,t===Ji||t===Xi?(t=ss(),vc=3):t===Zi?(t=ss(),vc=4):vc=t===jo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(xc=1,To(e,Gr(t,e.current)))}function ru(){var e=js.current;return null===e||((4194048&gc)===gc?null===Rs:((62914560&gc)===gc||0!==(536870912&gc))&&e===Rs)}function iu(){var e=O.H;return O.H=mo,null===e?mo:e}function su(){var e=O.A;return O.A=dc,e}function au(){xc=4,bc||(4194048&gc)!==gc&&null!==js.current||(_c=!0),0===(134217727&Cc)&&0===(134217727&Sc)||null===pc||Zc(pc,gc,Tc,!1)}function ou(e,t,n){var r=fc;fc|=2;var i=iu(),s=su();pc===e&&gc===t||(Dc=null,tu(e,t)),t=!1;var a=xc;e:for(;;)try{if(0!==vc&&null!==mc){var o=mc,l=yc;switch(vc){case 8:eu(),a=6;break e;case 3:case 2:case 9:case 6:null===js.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,o,l,c),n&&_c){a=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,o,l,c)}}lu(),a=xc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ci=xi=null,fc=r,O.H=i,O.A=s,null===mc&&(pc=null,gc=0,Pr()),a}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!ae();)uu(mc)}function uu(e){var t=al(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bo(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Bo(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:aa(t);default:ml(n,t),t=al(n,t=mc=Wr(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,n,r){Ci=xi=null,aa(t),os=null,ls=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=js.current)){switch(n.tag){case 31:case 13:return null===Rs?au():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(a(435,n.tag))}return Cu(e,r,i),au(),!1}if(di)return null!==(t=js.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&wi(Gr(e=Error(a(422),{cause:r}),n))):(r!==pi&&wi(Gr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Gr(r,n),ws(e,i=Io(e.stateNode,r,i)),4!==xc&&(xc=2)),!1;var s=Error(a(520),{cause:r});if(s=Gr(s,n),null===Ic?Ic=[s]:Ic.push(s),4!==xc&&(xc=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ws(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mc||!Mc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ao(i=Po(i),e,n,r),ws(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return xc=1,To(e,Gr(n,e.current)),void(mc=null)}catch(s){if(null!==i)throw mc=i,s;return xc=1,To(e,Gr(n,e.current)),void(mc=null)}32768&t.flags?(di||1===r?e=!0:_c||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=js.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===xc&&(xc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);xc=6,mc=null}function mu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{_u()}while(0!==Lc);if(0!==(6&fc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-_e(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ir,o,l,c),e===pc&&(mc=pc=null,gc=0),Fc=t,zc=e,Uc=n,Wc=s,Hc=i,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(s=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=xo(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){xu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{fc=o,D.p=i,O.T=r}}Lc=1,gu(),vu(),yu()}}function gu(){if(1===Lc){Lc=0;var e=zc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=fc;fc|=4;try{Bl(t,e);var s=md,a=rr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=tr(o,m),y=tr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var _=d[o];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}bh=!!pd,md=pd=null}finally{fc=i,D.p=r,O.T=n}}e.current=t,Lc=2}}function vu(){if(2===Lc){Lc=0;var e=zc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=fc;fc|=4;try{Ol(e,t.alternate,t)}finally{fc=i,D.p=r,O.T=n}}Lc=3}}function yu(){if(4===Lc||3===Lc){Lc=0,oe();var e=zc,t=Fc,n=Uc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Fc=zc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,D.p=i}}0!==(3&Uc)&&_u(),Du(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Bc?Vc++:(Vc=0,Bc=e):Vc=0,Mu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t)))}function _u(){return gu(),vu(),yu(),wu()}function wu(){if(5!==Lc)return!1;var e=zc,t=Wc;Wc=0;var n=Le(Uc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Hc,Hc=null;var s=zc,o=Uc;if(Lc=0,Fc=zc=null,Uc=0,0!==(6&fc))throw Error(a(331));var l=fc;if(fc|=4,lc(s.current),ec(s,s.current,o,n),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(c){}return!0}finally{D.p=i,O.T=r,bu(e,t)}}function ku(e,t,n){t=Gr(n,t),null!==(e=bs(e,t=Io(e.stateNode,t,2),2))&&(je(e,2),Du(e))}function xu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Gr(n,e),null!==(r=bs(t,n=Po(2),2))&&(Ao(n,r,t,e),je(r,2),Du(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===xc||3===xc&&(62914560&gc)===gc&&300>le()-jc?0===(2&fc)&&tu(e,0):Ec|=n,Nc===gc&&(Nc=0)),Du(e)}function Eu(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(je(e,t),Du(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}var Iu=null,Pu=null,Au=!1,ju=!1,Ru=!1,Ou=0;function Du(e){e!==Pu&&null===e.next&&(null===Pu?Iu=Pu=e:Pu=Pu.next=e),ju=!0,Au||(Au=!0,Cd(function(){0!==(6&fc)?ie(ue,Lu):zu()}))}function Mu(e,t){if(!Ru&&ju){Ru=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-_e(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Wu(r,s))}else s=gc,0===(3&(s=Te(r,r===pc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,s)||(n=!0,Wu(r,s));r=r.next}}while(n);Ru=!1}}function Lu(){zu()}function zu(){ju=Au=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==_d&&(_d=e,!0);return _d=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Iu;null!==r;){var i=r.next,s=Fu(r,t);0===s?(r.next=null,null===n?Iu=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&s))&&(ju=!0)),r=i}0!==Lc&&5!==Lc||Mu(e,!1),0!==Ou&&(Ou=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-_e(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=gc,n=Te(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Te(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Wu(e,t){if(_u())return null;$c(e,t,!0)}function Hu(){if(0===Ou){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Ou=e}return Ou}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Bu=0;Bu<Cr.length;Bu++){var Ku=Cr[Bu];Sr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(vr,"onAnimationIteration"),Sr(yr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(_r,"onTransitionStart"),Sr(wr,"onTransitionCancel"),Sr(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Er(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Er(u)}i.currentTarget=null,s=l}}}}function Qu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Eh(t)){case 2:var i=_h;break;case 8:i=wh;break;default:i=kh}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Qe(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ft(function(){var r=s,i=Ot(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case gr:case vr:case yr:c=un;break;case kr:c=wn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Ze(c),p=null==u?o:Ze(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Qe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(a,o,c,d,!1),null!==u&&null!==h&&sd(a,h,u,d,!0)}if("select"===(c=(o=r?Ze(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Wn;else if(Dn(o))if(Hn)y=Jn;else{y=$n;var b=Gn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(y=Wn):y=Qn;switch(y&&(y=y(e,r))?Mn(a,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&_t(o,"number",o.value)),b=r?Ze(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(ar=b,or=r,lr=null);break;case"focusout":lr=or=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(a,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(a,n,i)}var _;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?An(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Nn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(_=Yt()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,Rn=!0)),0<(b=rd(r,w)).length&&(w=new hn(w,e,null,n,i),a.push({event:w,listeners:b}),_?w.data=_:null!==(_=jn(n))&&(w.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Pn=!0,In);case"textInput":return(e=t.data)===In&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&An(e,t)?(e=Yt(),Kt=Bt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:w}),b.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=qu((i[He]||null).action),a=r.submitter;a&&null!==(t=(t=a[He]||null)?qu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=a?Vu(i,a):new FormData(i);eo(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Vu(i,a):new FormData(i),eo(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}$u(a,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(nd(e,i,s)),null!=(i=Ut(e,t))&&r.push(nd(e,i,s))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ut(n,s))&&a.unshift(nd(n,c,l)):i||null!=(c=Ut(n,s))&&a.push(nd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ad=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=jt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dd(e,t,n,r,i,s){switch(n){case"style":Tt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,r,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ud(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Qu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:ud(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(o in Qu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:ud(e,t,o,l,n,null)}return void xt(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<Yu.length;i++)Qu(Yu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ud(e,t,l,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _d=null;var wd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,xd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xd?function(e){return xd.resolve(null).then(e).catch(Sd)}:wd;function Sd(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);Vh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function jd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Fd=new Map,Ud=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=D.d;D.d={f:function(){var e=Hd.f(),t=Xc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Hd.r(e)},D:function(e){Hd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=qd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Kd(e);break;case"script":s=$d(e)}Fd.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Yd(s))||"script"===t&&r.querySelector(Qd(s))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=qd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=$d(e)}if(!Fd.has(s)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(s)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=qd;if(n&&e){var r=Xe(n).hoistableScripts,i=$d(e),s=r.get(i);s||((s=n.querySelector(Qd(i)))||(e=f({src:e,async:!0},t),(t=Fd.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Hd.S(e,t,n);var r=qd;if(r&&e){var i=Xe(r).hoistableStyles,s=Kd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Yd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&Xd(e,n);var l=a=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Hd.M(e,t);var n=qd;if(n&&e){var r=Xe(n).hoistableScripts,i=$d(e),s=r.get(i);s||((s=n.querySelector(Qd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var qd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=qd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ud.has(i)||(Ud.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Bd(e,t,n,r){var i,s,o,l,c=(c=K.current)?Wd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Xe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hd(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var s=e.querySelector(Yd(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Gd(n),(i=Fd.get(i))&&Xd(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",r),t.state.loading|=4,Zd(s,n.precedence,e),t.instance=s;case"script":return s=$d(n.src),(i=e.querySelector(Qd(s)))?(t.instance=i,et(i),i):(r=n,(i=Fd.get(s))&&eh(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Xd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ge]||s[We]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ah.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var r=n.get(null);else{n=new Map,oh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,s,a,o,l,c,u,d){return e=new dh(e,t,n,a,l,c,u,d,o),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fh(e){return e?e=Mr:Mr}function ph(e,t,n,r,i,s){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ys(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Gc(n,0,t),_s(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Gc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Rr(e,t=Me(t));null!==n&&Gc(n,0,t),gh(e,t)}}var bh=!0;function _h(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=2,kh(e,t,n,r)}finally{D.p=s,O.T=i}}function wh(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=8,kh(e,t,n,r)}finally{D.p=s,O.T=i}}function kh(e,t,n,r){if(bh){var i=xh(r);if(null===i)td(e,t,r,Ch,n),Dh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=Mh(Nh,e,t,n,r,i),!0;case"dragenter":return Ih=Mh(Ih,e,t,n,r,i),!0;case"mouseover":return Ph=Mh(Ph,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ah.set(s,Mh(Ah.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jh.set(s,Mh(jh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var s=Je(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ee(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-_e(a);o.entanglements[1]|=l,a&=~l}Du(s),0===(6&fc)&&(Oc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rr(s,2))&&Gc(o,0,2),Xc(),gh(s,2)}if(null===(s=xh(r))&&td(e,t,r,Ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function xh(e){return Sh(e=Ot(e))}var Ch=null;function Sh(e){if(Ch=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,Nh=null,Ih=null,Ph=null,Ah=new Map,jh=new Map,Rh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(t.pointerId)}}function Mh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Fh(e,t,n){zh(e)&&n.delete(t)}function Uh(){Th=!1,null!==Nh&&zh(Nh)&&(Nh=null),null!==Ih&&zh(Ih)&&(Ih=null),null!==Ph&&zh(Ph)&&(Ph=null),Ah.forEach(Fh),jh.forEach(Fh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var Hh=null;function qh(e){Hh!==e&&(Hh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Sh(r||n))continue;break}var s=Je(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return Wh(t,e)}null!==Nh&&Wh(Nh,e),null!==Ih&&Wh(Ih,e),null!==Ph&&Wh(Ph,e),Ah.forEach(t),jh.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Lh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[He]||null;if("function"===typeof s)a||qh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[He]||null)o=a.formAction;else if(null!==Sh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),qh(n)}}}function Bh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function Yh(e){this._internalRoot=e}Yh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ph(t.current,Kc(),e,t,null,null)},Yh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Xc(),t[qe]=null}},Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Lh(e)}};var Gh=i.version;if("19.2.3"!==Gh)throw Error(a(527,Gh,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d(i),e;if(s===r)return d(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var $h={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ve=Qh.inject($h),ye=Qh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Co,s=So,l=Eo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,s,l,Bh),e[qe]=t.current,Xu(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Co,l=So,c=Eo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,s,l,c,Bh)).context=fh(null),n=t.current,(i=ys(r=Me(r=Kc()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,je(t,n),Du(t),e[qe]=t.current,Xu(e),new Yh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},150(e,t,n){n.d(t,{KO:()=>X,MF:()=>Q,Sx:()=>Z,Wp:()=>J,j6:()=>B,om:()=>V,xZ:()=>K});var r=n(555),i=n(606),s=n(965),a=n(776),o=n(799);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.9",d=new s.Vy("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",_="@firebase/data-connect",w="@firebase/database-compat",k="@firebase/functions",x="@firebase/functions-compat",C="@firebase/installations",S="@firebase/installations-compat",E="@firebase/messaging",T="@firebase/messaging-compat",N="@firebase/performance",I="@firebase/performance-compat",P="@firebase/remote-config",A="@firebase/remote-config-compat",j="@firebase/storage",R="@firebase/storage-compat",O="@firebase/firestore",D="@firebase/ai",M="@firebase/firestore-compat",L="firebase",z="[DEFAULT]",F={[c]:"fire-core",[h]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[_]:"fire-data-connect",[w]:"fire-rtdb-compat",[k]:"fire-fn",[x]:"fire-fn-compat",[C]:"fire-iid",[S]:"fire-iid-compat",[E]:"fire-fcm",[T]:"fire-fcm-compat",[N]:"fire-perf",[I]:"fire-perf-compat",[P]:"fire-rc",[A]:"fire-rc-compat",[j]:"fire-gcs",[R]:"fire-gcs-compat",[O]:"fire-fst",[M]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},U=new Map,W=new Map,H=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function V(e){const t=e.name;if(H.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;H.set(t,e);for(const n of U.values())q(n,e);for(const n of W.values())q(n,e);return!0}function B(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new a.FA("app","Firebase",Y);class ${constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}const Q="12.10.0";function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=(0,r.A)({name:z,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw G.create("bad-app-name",{appName:String(o)});if(n||(n=(0,a.T9)()),!n)throw G.create("no-options");const l=U.get(o);if(l){if((0,a.bD)(n,l.options)&&(0,a.bD)(s,l.config))return l;throw G.create("duplicate-app",{appName:o})}const c=new i.h1(o);for(const r of H.values())c.addComponent(r);const u=new $(n,s,c);return U.set(o,u),u}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;const t=U.get(e);if(!t&&e===z&&(0,a.T9)())return J();if(!t)throw G.create("no-app",{appName:e});return t}function X(e,t,n){var r;let s=null!==(r=F[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}V(new i.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,o.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw G.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof a.g)d.warn(n.message);else{const e=G.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function ie(e){return"".concat(e.name,"!").concat(e.options.appId)}class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ae();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ae(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return d.warn(t),""}}}function ae(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof a.g)d.warn(t.message);else{const e=G.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",V(new i.uA("platform-logger",e=>new l(e),"PRIVATE")),V(new i.uA("heartbeat",e=>new se(e),"PRIVATE")),X(c,u,ce),X(c,u,"esm2020"),X("fire-js","")},180(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=_.prototype=new b;w.constructor=_,g(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray;function x(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+I(e,0):s,k(a)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+u,a=E(l.type,c,l.props)),t.push(a)),1;u=0;var d,f=""===s?".":s+":";if(k(e))for(var m=0;m<e.length;m++)u+=P(s=e[m],t,i,o=f+I(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,o=f+I(s,m++),a);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579(e,t,n){e.exports=n(180)},606(e,t,n){n.d(t,{h1:()=>o,uA:()=>i});var r=n(776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},776(e,t,n){n.d(t,{cY:()=>C,FA:()=>H,g:()=>W,gz:()=>ie,dM:()=>U,vA:()=>o,Hk:()=>l,K3:()=>u,u:()=>p,KA:()=>h,Uj:()=>f,gR:()=>$,Fy:()=>T,tD:()=>se,A4:()=>m,bD:()=>X,dI:()=>le,hp:()=>re,T9:()=>k,Tj:()=>_,yU:()=>w,XA:()=>x,Ku:()=>de,ZQ:()=>A,qc:()=>G,sr:()=>O,zJ:()=>S,c1:()=>R,Im:()=>J,lT:()=>M,zW:()=>z,jZ:()=>j,$g:()=>L,lV:()=>D,Cv:()=>Y,$L:()=>V,kH:()=>Z,gE:()=>E,Am:()=>te,I9:()=>ne,yw:()=>Q,OE:()=>ue,kj:()=>ce,As:()=>B,P1:()=>P,eX:()=>F});var r=n(555);const i=!1,s=!1,a="${JSCORE_VERSION}",o=function(e,t){if(!e)throw l(t)},l=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new d;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h=function(e){const t=c(e);return u.encodeByteArray(t,!0)},f=function(e){return h(e).replace(/\./g,"")},p=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(e){return g(void 0,e)}function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&v(n)&&(e[n]=g(e[n],t[n]));return e}function v(e){return"__proto__"!==e}const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,b=()=>{try{return y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"https://bug-fix-deploy-5.preview.emergentagent.com",REACT_APP_VAPID_KEY_LAYLA:"BDo3QknKPeZIl7olGBjKNN3NU0fBI-cAV117W-A8KQF7Pajun2-fZr3VfGwEBl2OzoJuqU_9FMDgjmExyEB-C6g",REACT_APP_VAPID_KEY_BIYOM:"BCSWDx7ABhgVycdVQEhfzLeeHBqx_J7yN6kWLAYIht9OMC7c3FQ2zGBUnjztx6d5avAzyiNYFZo626LRu2WmU9w"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_=e=>{var t;return null===(t=b())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},w=e=>{const t=_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},k=()=>{var e;return null===(e=b())||void 0===e?void 0:e.config},x=e=>{var t;return null===(t=b())||void 0===t?void 0:t["_".concat(e)]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function S(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function E(e){return(await fetch(e,{credentials:"include"})).ok}function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}const N={};let I=!1;function P(e,t){if("undefined"===typeof window||"undefined"===typeof document||!S(window.location.host)||N[e]===t||N[e]||I)return;function n(e){return"__firebase__banner__".concat(e)}N[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(N))N[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{I=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function j(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function R(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function O(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const e=A();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function L(){return!0===i||!0===s}function z(){try{return"object"===typeof indexedDB}catch(e){return!1}}function F(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function U(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class W extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(q,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new W(n,s,t)}}const q=/\{\$([^}]+)}/g;function V(e){return JSON.parse(e)}function B(e){return JSON.stringify(e)}const K=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=V(p(s[0])||""),n=V(p(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},Y=function(e){const t=K(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},G=function(e){const t=K(e).claims;return"object"===typeof t&&!0===t.admin};function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function J(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function X(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ee(n)&&ee(s)){if(!X(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ee(e){return null!==e&&"object"===typeof e}function te(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ne(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function re(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ie{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(o^l),i=1518500249):(r=a^o^l,i=1859775393):u<60?(r=a&o|l&(a|o),i=2400959708):(r=a^o^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function se(e,t){const n=new ae(e,t);return n.subscribe.bind(n)}class ae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=oe),void 0===r.error&&(r.error=oe),void 0===r.complete&&(r.complete=oe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oe(){}function le(e,t){return"".concat(e," failed: ").concat(t," argument ")}const ce=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function de(e){return e&&e._delegate?e._delegate:e}},799(e,t,n){n.d(t,{MR:()=>v,P2:()=>g});var r=n(555);let i,s;const a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(m(this),t,...r);return l.set(s,t.sort?t.sort():[t]),p(s)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(o.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});o.set(e,t)}(e),t=e,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,d):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(p(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=p(a);return r&&a.addEventListener("upgradeneeded",e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function v(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),p(n).then(()=>{})}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],_=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_.get(t))return _.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return _.set(t,s),s}d=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(d)},800(e,t,n){n.d(t,{Jt:()=>Oi,C3:()=>$i,$1:()=>Wi,Zy:()=>zi,kT:()=>qi,VC:()=>Pi,P:()=>Vi,ref:()=>Ni,remove:()=>Ai,set:()=>ji,yo:()=>Ri});var r=n(555),i=n(150),s=n(606),a=n(776),o=n(965);const l="@firebase/database",c="1.1.1";let u="";function d(e){u=e}class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,a.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,a.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,a.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(t){}return new f},m=p("localStorage"),g=p("sessionStorage"),v=new o.Vy("@firebase/database"),y=function(){let e=1;return function(){return e++}}(),b=function(e){const t=(0,a.kj)(e),n=new a.gz;n.update(t);const r=n.digest();return a.K3.encodeByteArray(r)},_=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=_.apply(null,n):e+="object"===typeof n?(0,a.As)(n):n,e+=" "}return e};let w=null,k=!0;const x=function(e,t){(0,a.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=o.$b.VERBOSE,w=v.log.bind(v),t&&g.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,g.remove("logging_enabled"))},C=function(){if(!0===k&&(k=!1,null===w&&!0===g.get("logging_enabled")&&x(!0)),w){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_.apply(null,t);w(r)}},S=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];C(e,...n)}},E=function(){const e="FIREBASE INTERNAL ERROR: "+_(...arguments);v.error(e)},T=function(){const e="FIREBASE FATAL ERROR: ".concat(_(...arguments));throw v.error(e),new Error(e)},N=function(){const e="FIREBASE WARNING: "+_(...arguments);v.warn(e)},I=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",A="[MAX_NAME]",j=function(e,t){if(e===t)return 0;if(e===P||t===A)return-1;if(t===P||e===A)return 1;{const n=U(e),r=U(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},R=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,a.As)(t))},D=function(e){if("object"!==typeof e||null===e)return(0,a.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,a.As)(t[r]),n+=":",n+=D(e[t[r]]);return n+="}",n},M=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const z=function(e){(0,a.vA)(!I(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const l=[];for(o=52;o;o-=1)l.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const c=l.join("");let u="";for(o=0;o<64;o+=8){let e=parseInt(c.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const F=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(F.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},W=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw N("Exception was thrown by user callback.",e),t},Math.floor(0))}},H=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class q{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,i.xZ)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){N('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class V{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',N(e)}}class B{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}B.OWNER="owner";const K="5",Y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="ac",$="websocket",Q="long_polling";class J{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&m.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Z(e,t,n){let r;if((0,a.vA)("string"===typeof t,"typeof type must == string"),(0,a.vA)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return L(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class X{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,a.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,a.A4)(this.counters_)}}const ee={},te={};function ne(e){const t=e.toString();return ee[t]||(ee[t]=new X),ee[t]}class re{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&W(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ie="start";class se{constructor(e,t,n,r,i,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=ne(t),this.urlFn=e=>(this.appCheckToken&&(e[G]=this.appCheckToken),Z(t,Q,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,a.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ae(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,a,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=K,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[G]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Y.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){se.forceAllow_=!0}static forceDisallow(){se.forceDisallow_=!0}static isAvailable(){return!(0,a.$g)()&&(!!se.forceAllow_||!se.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,a.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,a.KA)(t),r=M(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,a.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,a.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ae{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,a.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ae.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){C("frame writing exception"),i.stack&&C(i.stack),C(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,a.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{C("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let oe=null;"undefined"!==typeof MozWebSocket?oe=MozWebSocket:"undefined"!==typeof WebSocket&&(oe=WebSocket);class le{constructor(e,t,n,r,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=ne(t),this.connURL=le.connectionURL_(t,s,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=K,!(0,a.$g)()&&"undefined"!==typeof location&&location.hostname&&Y.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[G]=r),i&&(s.p=i),Z(e,$,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{let e;if((0,a.$g)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(K,"/").concat(u,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"https://bug-fix-deploy-5.preview.emergentagent.com",REACT_APP_VAPID_KEY_LAYLA:"BDo3QknKPeZIl7olGBjKNN3NU0fBI-cAV117W-A8KQF7Pajun2-fZr3VfGwEBl2OzoJuqU_9FMDgjmExyEB-C6g",REACT_APP_VAPID_KEY_BIYOM:"BCSWDx7ABhgVycdVQEhfzLeeHBqx_J7yN6kWLAYIht9OMC7c3FQ2zGBUnjztx6d5avAzyiNYFZo626LRu2WmU9w"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new oe(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){le.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==oe&&!le.forceDisallow_}static previouslyFailed(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")}markConnectionHealthy(){m.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,a.$L)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,a.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,a.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}le.responsesRequiredToBeHealthy=2,le.healthyTimeout=3e4;class ce{static get ALL_TRANSPORTS(){return[se,le]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=le&&le.isAvailable();let n=t&&!le.previouslyFailed();if(e.webSocketOnly&&(t||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[le];else{const e=this.transports_=[];for(const t of ce.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ce.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ce.globalTransportInitialized_=!1;class ue{constructor(e,t,n,r,i,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=H(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=O("t",e);if("d"in e){const n=e.d;if("h"===t){const e=(0,r.A)({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),K!==n&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),H(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class de{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class he{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,a.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,a.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class fe extends he{static getInstance(){return new fe}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,a.jZ)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return(0,a.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class pe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function me(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ve(e){return e.pieces_.length-e.pieceNum_}function ye(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function ke(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new pe(n,0)}function xe(e){return e.pieceNum_>=e.pieces_.length}function Ce(e,t){const n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Ce(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Se(e,t){const n=_e(e,0),r=_e(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=j(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Ee(e,t){if(ve(e)!==ve(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Te(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ve(e)>ve(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ne{constructor(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,a.OE)(this.parts_[n]);Ie(this)}}function Ie(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pe(e))}function Pe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ae extends he{static getInstance(){return new Ae}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return(0,a.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const je=1e3;class Re extends de{constructor(e,t,n,r,i,s,o,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Re.nextPersistentConnectionId_++,this.log_=S("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=je,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,a.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ae.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&fe.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,a.As)(i)),(0,a.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new a.cY,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,a.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,a.vA)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,a=i.s;Re.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,a.gR)(e,"w")){const n=(0,a.yw)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();N("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,a.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,a.Cv)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,a.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,a.As)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+(0,a.As)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,a.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Re.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const l=function(){o?o.close():(s=!0,n())},c=function(e){(0,a.vA)(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new ue(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{N(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(E){this.log_("Failed to get token: "+E),s||(this.repoInfo_.nodeAdmin&&N(E),l())}}}interrupt(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,a.Im)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>D(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new pe(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,a.$g)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,a.jZ)()?e["framework.cordova"]=1:(0,a.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fe.getInstance().currentlyOnline();return(0,a.Im)(this.interruptReasons_)&&e}}Re.nextPersistentConnectionId_=0,Re.nextConnectionId_=0;class Oe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Oe(e,t)}}class De{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Oe(P,e),r=new Oe(P,t);return 0!==this.compare(n,r)}minPost(){return Oe.MIN}}let Me;class Le extends De{static get __EMPTY_NODE(){return Me}static set __EMPTY_NODE(e){Me=e}compare(e,t){return j(e.name,t.name)}isDefinedOn(e){throw(0,a.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Oe.MIN}maxPost(){return new Oe(A,Me)}makePost(e,t){return(0,a.vA)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Oe(e,Me)}toString(){return".key"}}const ze=new Le;class Fe{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ue{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ue.RED,this.left=null!=r?r:We.EMPTY_NODE,this.right=null!=i?i:We.EMPTY_NODE}copy(e,t,n,r,i){return new Ue(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ue.RED=!0,Ue.BLACK=!1;class We{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new We(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(e){return new We(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fe(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Fe(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Fe(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Fe(this.root_,null,this.comparator_,!0,e)}}function He(e,t){return j(e.name,t.name)}function qe(e,t){return j(e,t)}let Ve;We.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ue(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Be=function(e){return"number"===typeof e?"number:"+z(e):"string:"+e},Ke=function(e){if(e.isLeafNode()){const t=e.val();(0,a.vA)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,a.gR)(t,".sv"),"Priority must be a string or number.")}else(0,a.vA)(e===Ve||e.isEmpty(),"priority of unexpected type.");(0,a.vA)(e===Ve||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ye,Ge,$e;class Qe{static set __childrenNodeConstructor(e){Ye=e}static get __childrenNodeConstructor(){return Ye}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,a.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ke(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:".priority"===ge(e)?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ge(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,a.vA)(".priority"!==n||1===ve(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Be(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?z(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:((0,a.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Qe.VALUE_TYPE_ORDER.indexOf(t),i=Qe.VALUE_TYPE_ORDER.indexOf(n);return(0,a.vA)(r>=0,"Unknown leaf type: "+t),(0,a.vA)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Je=new class extends De{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?j(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Oe.MIN}maxPost(){return new Oe(A,new Qe("[PRIORITY-POST]",$e))}makePost(e,t){const n=Ge(e);return new Oe(t,new Qe("[PRIORITY-POST]",n))}toString(){return".priority"}},Ze=Math.log(2);class Xe{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ze,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const et=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new Ue(o,a.node,Ue.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],o=n?n(a):a,new Ue(o,a.node,Ue.BLACK,c,u)}},s=function(t){let r=null,s=null,a=e.length;const o=function(t,r){const s=a-t,o=a;a-=t;const c=i(s+1,o),u=e[s],d=n?n(u):u;l(new Ue(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,Ue.BLACK):(o(r,Ue.BLACK),o(r,Ue.RED))}return s}(new Xe(e.length));return new We(r||t,s)};let tt;const nt={};class rt{static get Default(){return(0,a.vA)(nt&&Je,"ChildrenNode.ts has not been loaded"),tt=tt||new rt({".priority":nt},{".priority":Je}),tt}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=(0,a.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof We?t:null}hasIndex(e){return(0,a.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,a.vA)(e!==ze,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=t.getIterator(Oe.Wrap);let o,l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),n.push(l),l=s.getNext();o=i?et(n,e.getCompare()):nt;const c=e.toString(),u=(0,r.A)({},this.indexSet_);u[c]=e;const d=(0,r.A)({},this.indexes_);return d[c]=o,new rt(d,u)}addToIndexes(e,t){const n=(0,a.kH)(this.indexes_,(n,r)=>{const i=(0,a.yw)(this.indexSet_,r);if((0,a.vA)(i,"Missing index implementation for "+r),n===nt){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Oe.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),et(n,i.getCompare())}return nt}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Oe(e.name,r))),i.insert(e,e.node)}});return new rt(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,a.kH)(this.indexes_,n=>{if(n===nt)return n;{const r=t.get(e.name);return r?n.remove(new Oe(e.name,r)):n}});return new rt(n,this.indexSet_)}}let it;class st{static get EMPTY_NODE(){return it||(it=new st(new We(qe),null,rt.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ke(this.priorityNode_),this.children_.isEmpty()&&(0,a.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||it}updatePriority(e){return this.children_.isEmpty()?this:new st(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?it:t}}getChild(e){const t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,a.vA)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Oe(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?it:this.priorityNode_;return new st(r,s,i)}}updateChild(e,t){const n=ge(e);if(null===n)return t;{(0,a.vA)(".priority"!==ge(e)||1===ve(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Je,(s,a)=>{t[s]=a.val(e),n++,i&&st.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Be(this.getPriority().val())+":"),this.forEachChild(Je,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Oe(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Oe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Oe(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Oe.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===at?-1:0}withIndex(e){if(e===ze||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new st(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ze||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Je),n=t.getIterator(Je);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===ze?null:this.indexMap_.get(e.toString())}}st.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const at=new class extends st{constructor(){super(new We(qe),st.EMPTY_NODE,rt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return st.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Oe,{MIN:{value:new Oe(P,st.EMPTY_NODE)},MAX:{value:new Oe(A,at)}}),Le.__EMPTY_NODE=st.EMPTY_NODE,Qe.__childrenNodeConstructor=st,Ve=at,function(e){$e=e}(at);function ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,a.vA)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Qe(e,ot(t))}if(e instanceof Array){let n=st.EMPTY_NODE;return L(e,(t,r)=>{if((0,a.gR)(e,t)&&"."!==t.substring(0,1)){const e=ot(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(ot(t))}{const n=[];let r=!1;if(L(e,(e,t)=>{if("."!==e.substring(0,1)){const i=ot(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Oe(e,i)))}}),0===n.length)return st.EMPTY_NODE;const i=et(n,He,e=>e.name,qe);if(r){const e=et(n,Je.getCompare());return new st(i,ot(t),new rt({".priority":e},{".priority":Je}))}return new st(i,ot(t),rt.Default)}}!function(e){Ge=e}(ot);class lt extends De{constructor(e){super(),this.indexPath_=e,(0,a.vA)(!xe(e)&&".priority"!==ge(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?j(e.name,t.name):i}makePost(e,t){const n=ot(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Oe(t,r)}maxPost(){const e=st.EMPTY_NODE.updateChild(this.indexPath_,at);return new Oe(A,e)}toString(){return _e(this.indexPath_,0).join("/")}}const ct=new class extends De{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?j(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Oe.MIN}maxPost(){return Oe.MAX}makePost(e,t){const n=ot(e);return new Oe(t,n)}toString(){return".value"}};function ut(e){return{type:"value",snapshotNode:e}}function dt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ft(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class pt{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,a.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(ht(t,o)):(0,a.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(dt(t,n)):s.trackChildChange(ft(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Je,(e,r)=>{t.hasChild(e)||n.trackChildChange(ht(e,r))}),t.isLeafNode()||t.forEachChild(Je,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ft(t,r,i))}else n.trackChildChange(dt(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class mt{constructor(e){this.indexedFilter_=new pt(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mt.getStartPost_(e),this.endPost_=mt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new Oe(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);const i=this;return t.forEachChild(Je,(e,t)=>{i.matches(new Oe(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class gt{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new mt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Oe(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=st.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(st.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,a.vA)(o.numChildren()===this.limit_,"");const l=new Oe(t,n),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(t)){const e=o.getImmediateChild(t);let a=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=a&&(a.name===t||o.hasChild(a.name));)a=r.getChildAfterChild(this.index_,a,this.reverse_);const d=null==a?1:s(a,l);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ft(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(ht(t,e));const n=o.updateImmediateChild(t,st.EMPTY_NODE);return null!=a&&this.rangedFilter_.matches(a)?(null!=i&&i.trackChildChange(dt(a.name,a.node)),n.updateImmediateChild(a.name,a.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=i&&(i.trackChildChange(ht(c.name,c.node)),i.trackChildChange(dt(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(c.name,st.EMPTY_NODE)):e}}class vt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,a.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,a.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,a.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,a.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,a.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Je}copy(){const e=new vt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yt(e,t){const n=e.copy();return n.index_=t,n}function bt(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Je?n="$priority":e.index_===ct?n="$value":e.index_===ze?n="$key":((0,a.vA)(e.index_ instanceof lt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,a.As)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,a.As)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,a.As)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,a.As)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,a.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function _t(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Je&&(t.i=e.index_.toString()),t}class wt extends de{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,a.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=S("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=wt.getListenId_(e,n),o={};this.listens_[s]=o;const l=bt(e._queryParams);this.restRequest_(i+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(i,l,!1,n),(0,a.yw)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=wt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=bt(e._queryParams),n=e._path.toString(),r=new a.cY;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,a.Am)(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&4===l.readyState){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let t=null;if(l.status>=200&&l.status<300){try{t=(0,a.$L)(l.responseText)}catch(e){N("Failed to parse JSON response for "+o+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&N("Got unsuccessful REST response for "+o+" Status: "+l.status),n(l.status);n=null}},l.open("GET",o,!0),l.send()})}}class kt{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xt(){return{value:null,children:new Map}}function Ct(e,t,n){if(xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ge(t);e.children.has(r)||e.children.set(r,xt());Ct(e.children.get(r),t=ye(t),n)}}function St(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{St(r,new pe(t.toString()+"/"+e),n)})}class Et{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=(0,r.A)({},e);return this.last_&&L(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Tt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Et(e);const n=1e4+2e4*Math.random();H(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;L(e,(e,r)=>{r>0&&(0,a.gR)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),H(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nt;function It(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Nt||(Nt={}));class Pt{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Nt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xe(this.path)){if(null!=this.affectedTree.value)return(0,a.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pe(e));return new Pt(me(),t,this.revert)}}return(0,a.vA)(ge(this.path)===e,"operationForChild called for unrelated child."),new Pt(ye(this.path),this.affectedTree,this.revert)}}class At{constructor(e,t){this.source=e,this.path=t,this.type=Nt.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new At(this.source,me()):new At(this.source,ye(this.path))}}class jt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Nt.OVERWRITE}operationForChild(e){return xe(this.path)?new jt(this.source,me(),this.snap.getImmediateChild(e)):new jt(this.source,ye(this.path),this.snap)}}class Rt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Nt.MERGE}operationForChild(e){if(xe(this.path)){const t=this.children.subtree(new pe(e));return t.isEmpty()?null:t.value?new jt(this.source,me(),t.value):new Rt(this.source,me(),t)}return(0,a.vA)(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rt(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ot{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const t=ge(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Dt{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mt(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,a.Hk)("Should only compare child_ events.");const r=new Oe(t.childName,t.snapshotNode),i=new Oe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Lt(e,t){return{eventCache:e,serverCache:t}}function zt(e,t,n,r){return Lt(new Ot(t,n,r),e.serverCache)}function Ft(e,t,n,r){return Lt(e.eventCache,new Ot(t,n,r))}function Ut(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Wt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ht;class qt{static fromObject(e){let t=new qt(null);return L(e,(e,n)=>{t=t.set(new pe(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ht||(Ht=new We(R)),Ht);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:me(),value:this.value};if(xe(e))return null;{const n=ge(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(ye(e),t);if(null!=i){return{path:ke(new pe(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const t=ge(e),n=this.children.get(t);return null!==n?n.subtree(ye(e)):new qt(null)}}set(e,t){if(xe(e))return new qt(t,this.children);{const n=ge(e),r=(this.children.get(n)||new qt(null)).set(ye(e),t),i=this.children.insert(n,r);return new qt(this.value,i)}}remove(e){if(xe(e))return this.children.isEmpty()?new qt(null):new qt(null,this.children);{const t=ge(e),n=this.children.get(t);if(n){const r=n.remove(ye(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new qt(null):new qt(this.value,i)}return this}}get(e){if(xe(e))return this.value;{const t=ge(e),n=this.children.get(t);return n?n.get(ye(e)):null}}setTree(e,t){if(xe(e))return t;{const n=ge(e),r=(this.children.get(n)||new qt(null)).setTree(ye(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new qt(this.value,i)}}fold(e){return this.fold_(me(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(ke(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,me(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(xe(e))return null;{const r=ge(e),i=this.children.get(r);return i?i.findOnPath_(ye(e),ke(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,me(),t)}foreachOnPath_(e,t,n){if(xe(e))return this;{this.value&&n(t,this.value);const r=ge(e),i=this.children.get(r);return i?i.foreachOnPath_(ye(e),ke(t,r),n):new qt(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(ke(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new qt(null))}}function Bt(e,t,n){if(xe(t))return new Vt(new qt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const a=Ce(i,t);return s=s.updateChild(a,n),new Vt(e.writeTree_.set(i,s))}{const r=new qt(n),i=e.writeTree_.setTree(t,r);return new Vt(i)}}}function Kt(e,t,n){let r=e;return L(n,(e,n)=>{r=Bt(r,ke(t,e),n)}),r}function Yt(e,t){if(xe(t))return Vt.empty();{const n=e.writeTree_.setTree(t,new qt(null));return new Vt(n)}}function Gt(e,t){return null!=$t(e,t)}function $t(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ce(n.path,t)):null}function Qt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Je,(e,n)=>{t.push(new Oe(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Oe(e,n.value))}),t}function Jt(e,t){if(xe(t))return e;{const n=$t(e,t);return new Vt(null!=n?new qt(n):e.writeTree_.subtree(t))}}function Zt(e){return e.writeTree_.isEmpty()}function Xt(e,t){return en(me(),e.writeTree_,t)}function en(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,a.vA)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=en(ke(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ke(e,".priority"),r)),n}}function tn(e,t){return mn(t,e)}function nn(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,a.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&rn(t,r.path)?i=!1:Te(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=an(e.allWrites,sn,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Yt(e.visibleWrites,r.path);else{L(r.children,t=>{e.visibleWrites=Yt(e.visibleWrites,ke(r.path,t))})}return!0}return!1}function rn(e,t){if(e.snap)return Te(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Te(ke(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function an(e,t,n){let r=Vt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Te(n,e)?(t=Ce(n,e),r=Bt(r,t,s.snap)):Te(e,n)&&(t=Ce(e,n),r=Bt(r,me(),s.snap.getChild(t)));else{if(!s.children)throw(0,a.Hk)("WriteRecord should have .snap or .children");if(Te(n,e))t=Ce(n,e),r=Kt(r,t,s.children);else if(Te(e,n))if(t=Ce(e,n),xe(t))r=Kt(r,me(),s.children);else{const e=(0,a.yw)(s.children,ge(t));if(e){const n=e.getChild(ye(t));r=Bt(r,me(),n)}}}}}return r}function on(e,t,n,r,i){if(r||i){const s=Jt(e.visibleWrites,t);if(!i&&Zt(s))return n;if(i||null!=n||Gt(s,me())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Te(e.path,t)||Te(t,e.path))};return Xt(an(e.allWrites,s,t),n||st.EMPTY_NODE)}return null}{const r=$t(e.visibleWrites,t);if(null!=r)return r;{const r=Jt(e.visibleWrites,t);if(Zt(r))return n;if(null!=n||Gt(r,me())){return Xt(r,n||st.EMPTY_NODE)}return null}}}function ln(e,t,n,r){return on(e.writeTree,e.treePath,t,n,r)}function cn(e,t){return function(e,t,n){let r=st.EMPTY_NODE;const i=$t(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Je,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Jt(e.visibleWrites,t);return n.forEachChild(Je,(e,t)=>{const n=Xt(Jt(i,new pe(e)),t);r=r.updateImmediateChild(e,n)}),Qt(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Qt(Jt(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function un(e,t,n,r){return function(e,t,n,r,i){(0,a.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ke(t,n);if(Gt(e.visibleWrites,s))return null;{const t=Jt(e.visibleWrites,s);return Zt(t)?i.getChild(n):Xt(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function dn(e,t){return function(e,t){return $t(e.visibleWrites,t)}(e.writeTree,ke(e.treePath,t))}function hn(e,t,n,r,i,s){return function(e,t,n,r,i,s,a){let o;const l=Jt(e.visibleWrites,t),c=$t(l,me());if(null!=c)o=c;else{if(null==n)return[];o=Xt(l,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function fn(e,t,n){return function(e,t,n,r){const i=ke(t,n),s=$t(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Xt(Jt(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function pn(e,t){return mn(ke(e.treePath,t),e.writeTree)}function mn(e,t){return{treePath:e,writeTree:t}}class gn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,a.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,a.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ft(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,dt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,a.Hk)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ft(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const vn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class yn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ot(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wt(this.viewCache_),i=hn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function bn(e,t,n,r,i){const s=new gn;let o,l;if(n.type===Nt.OVERWRITE){const c=n;c.source.fromUser?o=kn(e,t,c.path,c.snap,r,i,s):((0,a.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!xe(c.path),o=wn(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Nt.MERGE){const c=n;c.source.fromUser?o=function(e,t,n,r,i,s,a){let o=t;return r.foreach((r,l)=>{const c=ke(n,r);xn(t,ge(c))&&(o=kn(e,o,c,l,i,s,a))}),r.foreach((r,l)=>{const c=ke(n,r);xn(t,ge(c))||(o=kn(e,o,c,l,i,s,a))}),o}(e,t,c.path,c.children,r,i,s):((0,a.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),o=Sn(e,t,c.path,c.children,r,i,l,s))}else if(n.type===Nt.ACK_USER_WRITE){const l=n;o=l.revert?function(e,t,n,r,i,s){let o;if(null!=dn(r,n))return t;{const l=new yn(r,t,i),c=t.eventCache.getNode();let u;if(xe(n)||".priority"===ge(n)){let n;if(t.serverCache.isFullyInitialized())n=ln(r,Wt(t));else{const e=t.serverCache.getNode();(0,a.vA)(e instanceof st,"serverChildren would be complete if leaf node"),n=cn(r,e)}u=e.filter.updateFullNode(c,n,s)}else{const i=ge(n);let a=fn(r,i,t.serverCache);null==a&&t.serverCache.isCompleteForChild(i)&&(a=c.getImmediateChild(i)),u=null!=a?e.filter.updateChild(c,i,a,ye(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,st.EMPTY_NODE,ye(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ln(r,Wt(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=dn(r,me()),zt(t,u,o,e.filter.filtersNodes())}}(e,t,l.path,r,i,s):function(e,t,n,r,i,s,a){if(null!=dn(i,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wn(e,t,n,l.getNode().getChild(n),i,s,o,a);if(xe(n)){let r=new qt(null);return l.getNode().forEachChild(ze,(e,t)=>{r=r.set(new pe(e),t)}),Sn(e,t,n,r,i,s,o,a)}return t}{let c=new qt(null);return r.foreach((e,t)=>{const r=ke(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Sn(e,t,n,c,i,s,o,a)}}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Nt.LISTEN_COMPLETE)throw(0,a.Hk)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,a=Ft(t,s.getNode(),s.isFullyInitialized()||xe(n),s.isFiltered());return _n(e,a,n,r,vn,i)}(e,t,n.path,r,s)}const c=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ut(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ut(Ut(t)))}}(t,o,c),{viewCache:o,changes:c}}function _n(e,t,n,r,i,s){const o=t.eventCache;if(null!=dn(r,n))return t;{let l,c;if(xe(n))if((0,a.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Wt(t),i=cn(r,n instanceof st?n:st.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=ln(r,Wt(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=ge(n);if(".priority"===u){(0,a.vA)(1===ve(n),"Can't have a priority with additional path components");const i=o.getNode();c=t.serverCache.getNode();const s=un(r,n,i,c);l=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const a=ye(n);let d;if(o.isCompleteForChild(u)){c=t.serverCache.getNode();const e=un(r,n,o.getNode(),c);d=null!=e?o.getNode().getImmediateChild(u).updateChild(a,e):o.getNode().getImmediateChild(u)}else d=fn(r,u,t.serverCache);l=null!=d?e.filter.updateChild(o.getNode(),u,d,a,i,s):o.getNode()}}return zt(t,l,o.isFullyInitialized()||xe(n),e.filter.filtersNodes())}}function wn(e,t,n,r,i,s,a,o){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=ge(n);if(!l.isCompleteForPath(n)&&ve(n)>1)return t;const i=ye(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,vn,null)}const d=Ft(t,c,l.isFullyInitialized()||xe(n),u.filtersNodes());return _n(e,d,n,i,new yn(i,d,s),o)}function kn(e,t,n,r,i,s,a){const o=t.eventCache;let l,c;const u=new yn(i,t,s);if(xe(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=zt(t,c,!0,e.filter.filtersNodes());else{const i=ge(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=zt(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=ye(n),c=o.getNode().getImmediateChild(i);let d;if(xe(s))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===be(s)&&e.getChild(we(s)).isEmpty()?e:e.updateChild(s,r):st.EMPTY_NODE}if(c.equals(d))l=t;else{l=zt(t,e.filter.updateChild(o.getNode(),i,d,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xn(e,t){return e.eventCache.isCompleteForChild(t)}function Cn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Sn(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=xe(n)?r:new qt(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Cn(0,t.serverCache.getNode().getImmediateChild(n),r);c=wn(e,c,new pe(n),l,i,s,a,o)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Cn(0,t.serverCache.getNode().getImmediateChild(n),r);c=wn(e,c,new pe(n),l,i,s,a,o)}}),c}class En{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new pt(n.getIndex()),i=(s=n).loadsAllData()?new pt(s.getIndex()):s.hasLimit()?new gt(s):new mt(s);var s;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,o=t.eventCache,l=r.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(st.EMPTY_NODE,o.getNode(),null),u=new Ot(l,a.isFullyInitialized(),r.filtersNodes()),d=new Ot(c,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=Lt(d,u),this.eventGenerator_=new Dt(this.query_)}get query(){return this.query_}}function Tn(e,t){const n=Wt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Nn(e){return 0===e.eventRegistrations_.length}function In(e,t,n){const r=[];if(n){(0,a.vA)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Pn(e,t,n,r){t.type===Nt.MERGE&&null!==t.source.queryId&&((0,a.vA)(Wt(e.viewCache_),"We should always have a full cache before handling merges"),(0,a.vA)(Ut(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=bn(e.processor_,i,t,n,r);var o,l;return o=e.processor_,l=s.viewCache,(0,a.vA)(l.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,a.vA)(l.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,a.vA)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,An(e,s.changes,s.viewCache.eventCache.getNode(),null)}function An(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Mt(e,i,"child_removed",t,r,n),Mt(e,i,"child_added",t,r,n),Mt(e,i,"child_moved",s,r,n),Mt(e,i,"child_changed",t,r,n),Mt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let jn,Rn;class On{constructor(){this.views=new Map}}function Dn(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,a.vA)(null!=s,"SyncTree gave us an op for an invalid query."),Pn(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Pn(s,t,n,r));return i}}function Mn(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=ln(n,i?r:null),s=!1;e?s=!0:r instanceof st?(e=cn(n,r),s=!1):(e=st.EMPTY_NODE,s=!1);const a=Lt(new Ot(e,s,!1),new Ot(r,i,!1));return new En(t,a)}return a}function Ln(e,t,n,r,i,s){const a=Mn(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Je,(e,t)=>{r.push(dt(e,t))});return n.isFullyInitialized()&&r.push(ut(n.getNode())),An(e,r,n.getNode(),t)}(a,n)}function zn(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=qn(e);if("default"===i)for(const[a,c]of e.views.entries())o=o.concat(In(c,n,r)),Nn(c)&&(e.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(In(t,n,r)),Nn(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return l&&!qn(e)&&s.push(new((0,a.vA)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path)),{removed:s,events:o}}function Fn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Un(e,t){let n=null;for(const r of e.views.values())n=n||Tn(r,t);return n}function Wn(e,t){if(t._queryParams.loadsAllData())return Vn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Hn(e,t){return null!=Wn(e,t)}function qn(e){return null!=Vn(e)}function Vn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Bn=1;class Kn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qt(null),this.pendingWriteTree_={visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yn(e,t,n,r,i){return function(e,t,n,r,i){(0,a.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Bt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nr(e,new jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gn(e,t,n,r){!function(e,t,n,r){(0,a.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=qt.fromObject(n);return nr(e,new Rt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function $n(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(nn(e.pendingWriteTree_,t)){let t=new qt(null);return null!=r.snap?t=t.set(me(),!0):L(r.children,e=>{t=t.set(new pe(e),!0)}),nr(e,new Pt(r.path,t,n))}return[]}function Qn(e,t,n){return nr(e,new jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Jn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||Hn(a,t))){const l=zn(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>qn(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&qn(t)){return[Vn(t)]}{let e=[];return t&&(e=Fn(t)),L(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=sr(e,r);e.listenProvider_.startListening(dr(i),ar(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(dr(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(or(t));e.listenProvider_.stopListening(dr(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=or(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function Zn(e,t,n,r){const i=lr(e,r);if(null!=i){const r=cr(i),s=r.path,a=r.queryId,o=Ce(s,t);return ur(e,s,new jt(It(a),o,n))}return[]}function Xn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Ce(e,i);s=s||Un(t,n),o=o||qn(t)});let l,c=e.syncPointTree_.get(i);if(c?(o=o||qn(c),s=s||Un(c,me())):(c=new On,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=s)l=!0;else{l=!1,s=st.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Un(t,me());n&&(s=s.updateImmediateChild(e,n))})}const u=Hn(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=or(t);(0,a.vA)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Bn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=Ln(c,t,n,tn(e.pendingWriteTree_,i),s,l);if(!u&&!o&&!r){const n=Wn(c,t);d=d.concat(function(e,t,n){const r=t._path,i=ar(e,t),s=sr(e,n),o=e.listenProvider_.startListening(dr(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,a.vA)(!qn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!xe(e)&&t&&qn(t))return[Vn(t).query];{let e=[];return t&&(e=e.concat(Fn(t).map(e=>e.query))),L(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(dr(r),ar(e,r))}}return o}(e,t,n))}return d}function er(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Un(n,Ce(e,t));if(r)return r});return on(r,t,i,n,!0)}function tr(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Ce(e,n);r=r||Un(t,i)});let i=e.syncPointTree_.get(n);i?r=r||Un(i,me()):(i=new On,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,a=s?new Ot(r,!0,!1):null;return function(e){return Ut(e.viewCache_)}(Mn(i,t,tn(e.pendingWriteTree_,t._path),s?a.getNode():st.EMPTY_NODE,s))}function nr(e,t){return rr(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,me()))}function rr(e,t,n,r){if(xe(e.path))return ir(e,t,n,r);{const i=t.get(me());null==n&&null!=i&&(n=Un(i,me()));let s=[];const a=ge(e.path),o=e.operationForChild(a),l=t.children.get(a);if(l&&o){const e=n?n.getImmediateChild(a):null,t=pn(r,a);s=s.concat(rr(o,l,e,t))}return i&&(s=s.concat(Dn(i,e,r,n))),s}}function ir(e,t,n,r){const i=t.get(me());null==n&&null!=i&&(n=Un(i,me()));let s=[];return t.children.inorderTraversal((t,i)=>{const a=n?n.getImmediateChild(t):null,o=pn(r,t),l=e.operationForChild(t);l&&(s=s.concat(ir(l,i,a,o)))}),i&&(s=s.concat(Dn(i,e,r,n))),s}function sr(e,t){const n=t.query,r=ar(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=lr(e,n);if(r){const n=cr(r),i=n.path,s=n.queryId,a=Ce(i,t);return ur(e,i,new At(It(s),a))}return[]}(e,n._path,r):function(e,t){return nr(e,new At({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Jn(e,n,null,r)}}}}function ar(e,t){const n=or(t);return e.queryToTagMap.get(n)}function or(e){return e._path.toString()+"$"+e._queryIdentifier}function lr(e,t){return e.tagToQueryMap.get(t)}function cr(e){const t=e.indexOf("$");return(0,a.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function ur(e,t,n){const r=e.syncPointTree_.get(t);(0,a.vA)(r,"Missing sync point for query tag that we're tracking");return Dn(r,n,tn(e.pendingWriteTree_,t),null)}function dr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,a.vA)(Rn,"Reference.ts has not been loaded"),Rn)(e._repo,e._path):e}class hr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hr(t)}node(){return this.node_}}class fr{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ke(this.path_,e);return new fr(this.syncTree_,t)}node(){return er(this.syncTree_,this.path_)}}const pr=function(e,t,n){return e&&"object"===typeof e?((0,a.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?mr(e[".sv"],t,n):"object"===typeof e[".sv"]?gr(e[".sv"],t):void(0,a.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,a.vA)(!1,"Unexpected server value: "+e)},gr=function(e,t,n){e.hasOwnProperty("increment")||(0,a.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,a.vA)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,a.vA)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},vr=function(e,t,n,r){return br(t,new fr(n,e),r)},yr=function(e,t,n){return br(e,new hr(t),n)};function br(e,t,n){const r=e.getPriority().val(),i=pr(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=pr(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Qe(s,ot(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Qe(i))),r.forEachChild(Je,(e,r)=>{const i=br(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class _r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function wr(e,t){let n=t instanceof pe?t:new pe(t),r=e,i=ge(n);for(;null!==i;){const e=(0,a.yw)(r.node.children,i)||{children:{},childCount:0};r=new _r(i,r,e),n=ye(n),i=ge(n)}return r}function kr(e){return e.node.value}function xr(e,t){e.node.value=t,Nr(e)}function Cr(e){return e.node.childCount>0}function Sr(e,t){L(e.node.children,(n,r)=>{t(new _r(n,e,r))})}function Er(e,t,n,r){n&&!r&&t(e),Sr(e,e=>{Er(e,t,!0,r)}),n&&r&&t(e)}function Tr(e){return new pe(null===e.parent?e.name:Tr(e.parent)+"/"+e.name)}function Nr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===kr(e)&&!Cr(e)}(n),i=(0,a.gR)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nr(e))}(e.parent,e.name,e)}const Ir=/[\[\].#$\/\u0000-\u001F\u007F]/,Pr=/[\[\].#$\u0000-\u001F\u007F]/,Ar=10485760,jr=function(e){return"string"===typeof e&&0!==e.length&&!Ir.test(e)},Rr=function(e){return"string"===typeof e&&0!==e.length&&!Pr.test(e)},Or=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!I(e)||e&&"object"===typeof e&&(0,a.gR)(e,".sv")},Dr=function(e,t,n,r){r&&void 0===t||Mr((0,a.dI)(e,"value"),t,n)},Mr=function(e,t,n){const r=n instanceof pe?new Ne(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Pe(r));if("function"===typeof t)throw new Error(e+"contains a function "+Pe(r)+" with contents = "+t.toString());if(I(t))throw new Error(e+"contains "+t.toString()+" "+Pe(r));if("string"===typeof t&&t.length>Ar/3&&(0,a.OE)(t)>Ar)throw new Error(e+"contains a string greater than "+Ar+" utf8 bytes "+Pe(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(L(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!jr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Pe(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,a.OE)(t),Ie(e)}(r,t),Mr(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,a.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Pe(r)+" in addition to actual children.")}},Lr=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,a.dI)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];L(t,(e,t)=>{const r=new pe(e);if(Mr(i,t,ke(n,r)),".priority"===be(r)&&!Or(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=_e(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!jr(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Se);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Te(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},zr=function(e,t,n,r){if((!r||void 0!==n)&&!Rr(n))throw new Error((0,a.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ur=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!jr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rr(e)}(n))throw new Error((0,a.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hr(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Ee(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function qr(e,t,n){Hr(e,n),Br(e,e=>Ee(e,t))}function Vr(e,t,n){Hr(e,n),Br(e,e=>Te(e,t)||Te(t,e))}function Br(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Kr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Kr(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();w&&C("event: "+n.toString()),W(r)}}}const Yr="repo_interrupt";class Gr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xt(),this.transactionQueueTree_=new _r,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $r(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wt(e.repoInfo_,(t,n,r,i)=>{Zr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Xr(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,a.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Re(e.repoInfo_,t,(t,n,r,i)=>{Zr(e,t,n,r,i)},t=>{Xr(e,t)},t=>{!function(e,t){L(t,(t,n)=>{ei(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,()=>new Tt(e.stats_,e.server_)),e.infoData_=new kt,e.infoSyncTree_=new Kn({startListening:(t,n,r,i)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=Qn(e.infoSyncTree_,t._path,a),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),ei(e,"connected",!1),e.serverSyncTree_=new Kn({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);Vr(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Qr(e){const t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Jr(e){return(t=(t={timestamp:Qr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Zr(e,t,n,r,i){e.dataUpdateCount++;const s=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=(0,a.kH)(n,e=>ot(e));o=function(e,t,n,r){const i=lr(e,r);if(i){const r=cr(i),s=r.path,a=r.queryId,o=Ce(s,t),l=qt.fromObject(n);return ur(e,s,new Rt(It(a),o,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=ot(n);o=Zn(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,a.kH)(n,e=>ot(e));o=function(e,t,n){const r=qt.fromObject(n);return nr(e,new Rt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=ot(n);o=Qn(e.serverSyncTree_,s,t)}let l=s;o.length>0&&(l=ci(e,s)),Vr(e.eventQueue_,l,o)}function Xr(e,t){ei(e,"connected",t),!1===t&&function(e){si(e,"onDisconnectEvents");const t=Jr(e),n=xt();St(e.onDisconnect_,me(),(r,i)=>{const s=vr(r,i,e.serverSyncTree_,t);Ct(n,r,s)});let r=[];St(n,me(),(t,n)=>{r=r.concat(Qn(e.serverSyncTree_,t,n));const i=pi(e,t);ci(e,i)}),e.onDisconnect_=xt(),Vr(e.eventQueue_,me(),r)}(e)}function ei(e,t,n){const r=new pe("/.info/"+t),i=ot(n);e.infoData_.updateSnapshot(r,i);const s=Qn(e.infoSyncTree_,r,i);Vr(e.eventQueue_,r,s)}function ti(e){return e.nextWriteId_++}function ni(e,t,n,r,i){si(e,"set",{path:t.toString(),value:n,priority:r});const s=Jr(e),a=ot(n,r),o=er(e.serverSyncTree_,t),l=yr(a,o,s),c=ti(e),u=Yn(e.serverSyncTree_,t,l,c,!0);Hr(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,r)=>{const s="ok"===n;s||N("set at "+t+" failed: "+n);const a=$n(e.serverSyncTree_,c,!s);Vr(e.eventQueue_,t,a),ai(e,i,n,r)});const d=pi(e,t);ci(e,d),Vr(e.eventQueue_,d,[])}function ri(e,t,n){let r;r=".info"===ge(t._path)?Jn(e.infoSyncTree_,t,n):Jn(e.serverSyncTree_,t,n),qr(e.eventQueue_,t._path,r)}function ii(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Yr)}function si(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C(t,...r)}function ai(e,t,n,r){t&&W(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function oi(e,t,n){return er(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function li(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||fi(e,t),kr(t)){const n=di(e,t);(0,a.vA)(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=oi(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const e=n[u];(0,a.vA)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Ce(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,r=>{si(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat($n(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();fi(e,wr(e.transactionQueueTree_,t)),li(e,e.transactionQueueTree_),Vr(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)W(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{N("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ci(e,t)}},o)}(e,Tr(t),n)}else Cr(t)&&Sr(t,t=>{li(e,t)})}function ci(e,t){const n=ui(e,t),r=Tr(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const s=t[l],c=Ce(n,s.path);let u,d=!1;if((0,a.vA)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,u=s.abortReason,i=i.concat($n(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)d=!0,u="maxretry",i=i.concat($n(e.serverSyncTree_,s.currentWriteId,!0));else{const n=oi(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Mr("transaction failed: Data returned ",r,s.path);let t=ot(r);"object"===typeof r&&null!=r&&(0,a.gR)(r,".priority")||(t=t.updatePriority(n.getPriority()));const l=s.currentWriteId,c=Jr(e),u=yr(t,n,c);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=u,s.currentWriteId=ti(e),o.splice(o.indexOf(l),1),i=i.concat(Yn(e.serverSyncTree_,s.path,u,s.currentWriteId,s.applyLocally)),i=i.concat($n(e.serverSyncTree_,l,!0))}else d=!0,u="nodata",i=i.concat($n(e.serverSyncTree_,s.currentWriteId,!0))}Vr(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===u?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(u),!1,null))))}fi(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)W(r[a]);li(e,e.transactionQueueTree_)}(e,di(e,n),r),r}function ui(e,t){let n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===kr(r);)r=wr(r,n),n=ge(t=ye(t));return r}function di(e,t){const n=[];return hi(e,t,n),n.sort((e,t)=>e.order-t.order),n}function hi(e,t,n){const r=kr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sr(t,t=>{hi(e,t,n)})}function fi(e,t){const n=kr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,xr(t,n.length>0?n:void 0)}Sr(t,t=>{fi(e,t)})}function pi(e,t){const n=Tr(ui(e,t)),r=wr(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{mi(e,t)}),mi(e,r),Er(r,t=>{mi(e,t)}),n}function mi(e,t){const n=kr(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,a.vA)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,a.vA)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat($n(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xr(t,void 0):n.length=s+1,Vr(e.eventQueue_,Tr(t),i);for(let e=0;e<r.length;e++)W(r[e])}}const gi=function(e,t){const n=vi(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new J(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new pe(n.pathString)}},vi=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):N("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}},yi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bi=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=yi.charAt(n%64),n=Math.floor(n/64);(0,a.vA)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=yi.charAt(t[i]);return(0,a.vA)(20===o.length,"nextPushId: Length should be 20."),o}}();class _i{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,a.As)(this.snapshot.exportVal())}}class wi{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ki{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,a.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class xi{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return xe(this._path)?null:be(this._path)}get ref(){return new Ei(this._repo,this._path)}get _queryIdentifier(){const e=_t(this._queryParams),t=D(e);return"{}"===t?"default":t}get _queryObject(){return _t(this._queryParams)}isEqual(e){if(!((e=(0,a.Ku)(e))instanceof xi))return!1;const t=this._repo===e._repo,n=Ee(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Ci(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Si(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ze){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==P)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Je){if(null!=t&&!Or(t)||null!=n&&!Or(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,a.vA)(e.getIndex()instanceof lt||e.getIndex()===ct,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ei extends xi{constructor(e,t){super(e,t,new vt,!1)}get parent(){const e=we(this._path);return null===e?null:new Ei(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ti{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new pe(e),n=Ii(this.ref,e);return new Ti(this._node.getChild(t),n,Je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Ti(n,Ii(this.ref,t),Je)))}hasChild(e){const t=new pe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ni(e,t){return(e=(0,a.Ku)(e))._checkNotDeleted("ref"),void 0!==t?Ii(e._root,t):e._root}function Ii(e,t){var n,r,i,s;return null===ge((e=(0,a.Ku)(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),zr(n,r,i,s)):zr("child","path",t,!1),new Ei(e._repo,ke(e._path,t))}function Pi(e,t){e=(0,a.Ku)(e),Fr("push",e._path),Dr("push",t,e._path,!0);const n=Qr(e._repo),r=bi(n),i=Ii(e,r),s=Ii(e,r);let o;return o=null!=t?ji(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Ai(e){return Fr("remove",e._path),ji(e,null)}function ji(e,t){e=(0,a.Ku)(e),Fr("set",e._path),Dr("set",t,e._path,!1);const n=new a.cY;return ni(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ri(e,t){Lr("update",t,e._path,!1);const n=new a.cY;return function(e,t,n,r){si(e,"update",{path:t.toString(),value:n});let i=!0;const s=Jr(e),a={};if(L(n,(n,r)=>{i=!1,a[n]=vr(ke(t,n),ot(r),e.serverSyncTree_,s)}),i)C("update() called with empty data.  Don't do anything."),ai(0,r,"ok",void 0);else{const i=ti(e),s=Gn(e.serverSyncTree_,t,a,i);Hr(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const a="ok"===n;a||N("update at "+t+" failed: "+n);const o=$n(e.serverSyncTree_,i,!a),l=o.length>0?ci(e,t):t;Vr(e.eventQueue_,l,o),ai(0,r,n,s)}),L(n,n=>{const r=pi(e,ke(t,n));ci(e,r)}),Vr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Oi(e){e=(0,a.Ku)(e);const t=new ki(()=>{}),n=new Di(t);return function(e,t,n){const r=tr(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=ot(r).withIndex(t._queryParams.getIndex());let s;if(Xn(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Qn(e.serverSyncTree_,t._path,i);else{const n=ar(e.serverSyncTree_,t);s=Zn(e.serverSyncTree_,t._path,i,n)}return Vr(e.eventQueue_,t._path,s),Jn(e.serverSyncTree_,t,n,null,!0),i},n=>(si(e,"get for query "+(0,a.As)(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Ti(t,new Ei(e._repo,e._path),e._queryParams.getIndex()))}class Di{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new _i("value",this,new Ti(e.snapshotNode,new Ei(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wi(this,e,t):null}matches(e){return e instanceof Di&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Mi{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wi(this,e,t):null}createEvent(e,t){(0,a.vA)(null!=e.childName,"Child events should have a childName.");const n=Ii(new Ei(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _i(e.type,this,new Ti(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Mi&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Li(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ri(e._repo,e,o),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new ki(n,s||void 0),o="value"===t?new Di(a):new Mi(t,a);return function(e,t,n){let r;r=".info"===ge(t._path)?Xn(e.infoSyncTree_,t,n):Xn(e.serverSyncTree_,t,n),qr(e.eventQueue_,t._path,r)}(e._repo,e,o),()=>ri(e._repo,e,o)}function zi(e,t,n,r){return Li(e,"value",t,n,r)}class Fi{}class Ui extends Fi{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}function Wi(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ui(e)}class Hi extends Fi{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Ci(e,"orderByChild");const t=new pe(this._path);if(xe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new lt(t),r=yt(e._queryParams,n);return Si(r),new xi(e._repo,e._path,r,!0)}}function qi(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zr("orderByChild","path",e,!1),new Hi(e)}function Vi(e){let t=(0,a.Ku)(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}!function(e){(0,a.vA)(!jn,"__referenceConstructor has already been defined"),jn=e}(Ei),function(e){(0,a.vA)(!Rn,"__referenceConstructor has already been defined"),Rn=e}(Ei);const Bi={};let Ki=!1;function Yi(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,o,l=gi(s,i),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"https://bug-fix-deploy-5.preview.emergentagent.com",REACT_APP_VAPID_KEY_LAYLA:"BDo3QknKPeZIl7olGBjKNN3NU0fBI-cAV117W-A8KQF7Pajun2-fZr3VfGwEBl2OzoJuqU_9FMDgjmExyEB-C6g",REACT_APP_VAPID_KEY_BIYOM:"BCSWDx7ABhgVycdVQEhfzLeeHBqx_J7yN6kWLAYIht9OMC7c3FQ2zGBUnjztx6d5avAzyiNYFZo626LRu2WmU9w"}.FIREBASE_DATABASE_EMULATOR_HOST),o?(a=!0,s="http://".concat(o,"?ns=").concat(c.namespace),l=gi(s,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new B(B.OWNER):new V(e.name,e.options,t);Ur("Invalid Firebase Database URL",l),xe(l.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Bi[t.name];i||(i={},Bi[t.name]=i);let s=i[e.toURLString()];s&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new Gr(e,Ki,n,r),i[e.toURLString()]=s,s}(c,e,u,new q(e,n));return new Gi(d,e)}class Gi{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($r(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ei(this._repo,me())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Bi[t];n&&n[e.key]===e||T("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ii(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")}}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Sx)(),t=arguments.length>1?arguments[1]:void 0;const n=(0,i.j6)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,a.yU)("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(0,a.Ku)(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&(0,a.bD)(r,s.repoInfo_.emulatorOptions))return;T("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new B(B.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,a.Fy)(r.mockUserToken,e.app.options.projectId);o=new B(t)}(0,a.zJ)(t)&&((0,a.gE)(t),(0,a.P1)("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=(0,a.zJ)(s);e.repoInfo_=new J(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}Re.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Re.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Qi;d(i.MF),(0,i.om)(new s.uA("database",(e,t)=>{let{instanceIdentifier:n}=t;return Yi(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(l,c,Qi),(0,i.KO)(l,c,"esm2020")},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,C||(C=!0,x());else{var t=r(u);null!==t&&j(k,t.startTime-e)}}var x,C=!1,S=-1,E=5,T=-1;function N(){return!!v||!(t.unstable_now()-T<E)}function I(){if(v=!1,C){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?x():C=!1}}}if("function"===typeof _)x=function(){_(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,x=function(){A.postMessage(null)}}else x=function(){y(I,0)};function j(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,j(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,C||(C=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},965(e,t,n){n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(43),i=n(391),s=n(555),a=n(800),o=n(150);function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(0,o.KO)("firebase","12.10.0","app");var c=n(776),u=n(965),d=n(606);const h=["providerId"],f=["uid","auth","stsTokenManager"],p=["providerId","signInMethod"];function m(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g=m,v=new c.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),y=new u.Vy("@firebase/auth");function b(e){if(y.logLevel<=u.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.error("Auth (".concat(o.MF,"): ").concat(e),...n)}}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw C(e,...n)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return C(e,...n)}function k(e,t,n){const r=(0,s.A)((0,s.A)({},g()),{},{[t]:n});return new c.FA("auth","Firebase",r).create(t,{appName:e.name})}function x(e){return k(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return v.create(e,...n)}function S(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw C(t,...r)}}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw b(t),new Error(t)}function T(e,t){e||E(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===P()||"https:"===P()}function P(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,c.jZ)()||(0,c.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(I()||(0,c.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function j(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class R{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M=new A(3e4,6e4);function L(e,t){return e.tenantId&&!t.tenantId?(0,s.A)((0,s.A)({},t),{},{tenantId:e.tenantId}):t}async function z(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=(0,c.Am)((0,s.A)({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=(0,s.A)({method:t,headers:l},i);return(0,c.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,c.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),R.fetch()(await W(e,e.config.apiHost,n,o),u)})}async function F(e,t,n){e._canInitEmulator=!1;const r=(0,s.A)((0,s.A)({},O),t);try{const t=new q(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw V(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw V(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw k(e,o,a);_(e,o)}}catch(i){if(i instanceof c.g)throw i;_(e,"network-request-failed",{message:String(i)})}}async function U(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await z(e,t,n,r,i);return"mfaPendingCredential"in s&&_(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function W(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?j(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(D.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function H(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(w(this.auth,"network-request-failed")),M.get())})}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=w(e,t,r);return i.customData._tokenResponse=n,i}function B(e){return void 0!==e&&void 0!==e.enterprise}class K{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y(e,t){return z(e,"GET","/v2/recaptchaConfig",L(e,t))}async function G(e,t){return z(e,"POST","/v1/accounts:lookup",t)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(e){return 1e3*Number(e)}function J(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return b("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,c.u)(n);return e?JSON.parse(e):(b("Failed to decode base64 JWT payload"),null)}catch(i){return b("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Z(e){const t=J(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function X(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof c.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ne(e){var t;const n=e.auth,r=await e.getIdToken(),i=await X(e,G(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?re(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function re(e){return e.map(e=>{let{providerId:t}=e,n=l(e,h);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");const t=Z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,c.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await W(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,c.zJ)(e.emulatorConfig.host)&&(o.credentials="include"),R.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ie;return n&&(S("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return E("not implemented")}}function se(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ae{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=l(e,f);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await X(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,c.Ku)(e),r=await n.getIdToken(t),i=J(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$(Q(i.auth_time)),issuedAtTime:$(Q(i.iat)),expirationTime:$(Q(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,c.Ku)(e);await ne(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,s.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ae((0,s.A)((0,s.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ne(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,o.xZ)(this.auth.app))return Promise.reject(x(this.auth));const e=await this.getIdToken();return await X(this,async function(e,t){return z(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,s.A)((0,s.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,s.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:k,stsTokenManager:x}=t;S(b&&x,e,"internal-error");const C=ie.fromJSON(this.name,x);S("string"===typeof b,e,"internal-error"),se(d,e.name),se(h,e.name),S("boolean"===typeof _,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),se(f,e.name),se(p,e.name),se(m,e.name),se(g,e.name),se(v,e.name),se(y,e.name);const E=new ae({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>(0,s.A)({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ie;r.updateFromServerResponse(t);const i=new ae({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ne(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];S(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?re(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new ie;a.updateFromIdToken(n);const o=new ae({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new te(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const oe=new Map;function le(e){T(e instanceof Function,"Expected a class definition");let t=oe.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oe.set(e,t),t)}class ce{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ce.type="NONE";const ue=ce;function de(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class he{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await G(this.auth,{idToken:e}).catch(()=>{});return t?ae._fromGetAccountInfoResponse(this.auth,t,e):null}return ae._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new he(le(ue),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||le(ue);const s=de(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await G(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ae._fromGetAccountInfoResponse(e,r,t)}else n=ae._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new he(i,e,n)):new he(i,e,n)}}function fe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(_e(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||ge(t))&&!t.includes("edge/"))return"Chrome";if(ye(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/firefox\//i.test(e)}function me(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/crios\//i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/iemobile/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/android/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/blackberry/i.test(e)}function _e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/webos/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)();return we(e)||ye(e)||_e(e)||be(e)||/windows phone/i.test(e)||ve(e)}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=fe((0,c.ZQ)());break;case"Worker":t="".concat(fe((0,c.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(o.MF,"/").concat(r)}class Ce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Se{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ee{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=le(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await he.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await G(this,{idToken:e}),n=await ae._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,o.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ne(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,o.xZ)(this.app))return Promise.reject(x(this));const t=e?(0,c.Ku)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,o.xZ)(this.app)?Promise.reject(x(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,o.xZ)(this.app)?Promise.reject(x(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(le(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return z(e,"GET","/v2/passwordPolicy",L(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Se(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new c.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return z(e,"POST","/v2/accounts:revokeToken",L(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&le(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await he.create(this,[le(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,o.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(y.logLevel<=u.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.warn("Auth (".concat(o.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Te(e){return(0,c.Ku)(e)}class Ne{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,c.tD)(e=>this.observer=e)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ie={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pe(e){return Ie.loadJS(e)}function Ae(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class je{constructor(){this.enterprise=new Re}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Re{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Oe="NO_RECAPTCHA";class De{constructor(e){this.type="recaptcha-enterprise",this.auth=Te(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;B(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Oe)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new je).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Y(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new K(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&B(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ie.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Pe(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Me(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new De(e);let o;if(i)o=Oe;else try{o=await a.verify(n)}catch(c){o=await a.verify(n,!0)}const l=(0,s.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Le(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Me(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Me(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Me(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Me(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Me(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ze(e){const t=Te(e),n=await Y(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new K(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new De(t).verify()}}function Fe(e,t,n){const r=Te(e);S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Ue(t),{host:a,port:o}=function(e){const t=Ue(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:We(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:We(t)}}}(t),l=null===o?"":":".concat(o),u={url:"".concat(s,"//").concat(a).concat(l,"/")},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return S(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void S((0,c.bD)(u,r.config.emulator)&&(0,c.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,c.zJ)(a)?((0,c.gE)("".concat(s,"//").concat(a).concat(l)),(0,c.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ue(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function We(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class He{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function qe(e,t){return z(e,"POST","/v1/accounts:signUp",t)}async function Ve(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",L(e,t))}class Be extends He{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Be(e,t,"password")}static _fromEmailAndCode(e,t){return new Be(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Le(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ve,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",L(e,t))}(e,{email:this._email,oobCode:this._password});default:_(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Le(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",L(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ke(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",L(e,t))}class Ye extends He{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ye(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=l(t,p);if(!n||!r)return null;const s=new Ye(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,c.Am)(t)}return e}}async function Ge(e,t){return z(e,"POST","/v1/accounts:sendVerificationCode",L(e,t))}const $e={USER_NOT_FOUND:"user-not-found"};class Qe extends He{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n}(e,(0,s.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,(0,s.A)((0,s.A)({},t),{},{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Je{constructor(e){var t,n,r,i,s,a;const o=(0,c.I9)((0,c.hp)(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);S(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,c.I9)((0,c.hp)(e)).link,n=t?(0,c.I9)((0,c.hp)(t)).deep_link_id:null,r=(0,c.I9)((0,c.hp)(e)).deep_link_id;return(r?(0,c.I9)((0,c.hp)(r)).link:null)||r||n||t||e}(e);try{return new Je(t)}catch(n){return null}}}class Ze{constructor(){this.providerId=Ze.PROVIDER_ID}static credential(e,t){return Be._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Je.parseLink(t);return S(n,"argument-error"),Be._fromEmailAndCode(e,n.code,n.tenantId)}}Ze.PROVIDER_ID="password",Ze.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ze.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class et extends Xe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tt extends et{constructor(){super("facebook.com")}static credential(e){return Ye._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tt.credential(t.oauthAccessToken)}catch(n){return null}}}tt.FACEBOOK_SIGN_IN_METHOD="facebook.com",tt.PROVIDER_ID="facebook.com";class nt extends et{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ye._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return nt.credential(n,r)}catch(i){return null}}}nt.GOOGLE_SIGN_IN_METHOD="google.com",nt.PROVIDER_ID="google.com";class rt extends et{constructor(){super("github.com")}static credential(e){return Ye._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rt.credential(t.oauthAccessToken)}catch(n){return null}}}rt.GITHUB_SIGN_IN_METHOD="github.com",rt.PROVIDER_ID="github.com";class it extends et{constructor(){super("twitter.com")}static credential(e,t){return Ye._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return it.credential(n,r)}catch(i){return null}}}async function st(e,t){return U(e,"POST","/v1/accounts:signUp",L(e,t))}it.TWITTER_SIGN_IN_METHOD="twitter.com",it.PROVIDER_ID="twitter.com";class at{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ae._fromIdTokenResponse(e,n,r),s=ot(n);return new at({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ot(n);return new at({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ot(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lt extends c.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lt(e,t,n,r)}}function ct(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw lt._fromErrorAndOperation(e,n,t,r);throw n})}async function ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await X(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return at._forOperation(e,"link",r)}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,o.xZ)(r.app))return Promise.reject(x(r));const i="reauthenticate";try{const s=await X(e,ct(r,i,t,e),n);S(s.idToken,r,"internal-error");const a=J(s.idToken);S(a,r,"internal-error");const{sub:o}=a;return S(e.uid===o,r,"user-mismatch"),at._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&_(r,"user-mismatch"),s}}async function ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,o.xZ)(e.app))return Promise.reject(x(e));const r="signIn",i=await ct(e,r,t),s=await at._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function ft(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:start",L(e,t))}new WeakMap;const pt="__sak";class mt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pt,"1"),this.storage.removeItem(pt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gt extends mt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ke(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,c.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gt.type="LOCAL";const vt=gt;function yt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function bt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class _t{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=bt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return yt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=bt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=bt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=yt(n);const i=setInterval(()=>{const e=yt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}_t.type="COOKIE";class wt extends mt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wt.type="SESSION";const kt=wt;class xt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new xt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xt.receivers=[];class St{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ct("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Et(){return window}function Tt(){return"undefined"!==typeof Et().WorkerGlobalScope&&"function"===typeof Et().importScripts}const Nt="firebaseLocalStorageDb",It="firebaseLocalStorage",Pt="fbase_key";class At{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jt(e,t){return e.transaction([It],t?"readwrite":"readonly").objectStore(It)}function Rt(){const e=indexedDB.open(Nt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(It,{keyPath:Pt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(It)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Nt);return new At(e).toPromise()}(),t(await Rt()))})})}async function Ot(e,t,n){const r=jt(e,!0).put({[Pt]:t,value:n});return new At(r).toPromise()}function Dt(e,t){const n=jt(e,!0).delete(t);return new At(n).toPromise()}class Mt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Rt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xt._getInstance(Tt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new St(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rt();return await Ot(e,pt,"1"),await Dt(e,pt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ot(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=jt(e,!1).get(t),r=await new At(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=jt(e,!1).getAll();return new At(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mt.type="LOCAL";const Lt=Mt;function zt(e,t){return z(e,"POST","/v2/accounts/mfaSignIn:start",L(e,t))}Ae("rcb"),new A(3e4,6e4);const Ft="recaptcha";async function Ut(e,t,n){if(!e._getRecaptchaConfig())try{await ze(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){S("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Le(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Oe){S((null===n||void 0===n?void 0:n.type)===Ft,e,"argument-error");return ft(e,await Wt(e,t,n))}return ft(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;S("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;S(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Le(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Oe){S((null===n||void 0===n?void 0:n.type)===Ft,e,"argument-error");return zt(e,await Wt(e,t,n))}return zt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Le(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Oe){S((null===n||void 0===n?void 0:n.type)===Ft,e,"argument-error");return Ge(e,await Wt(e,t,n))}return Ge(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Wt(e,t,n){S(n.type===Ft,e,"argument-error");const r=await n.verify();S("string"===typeof r,e,"argument-error");const i=(0,s.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ht{constructor(e){this.providerId=Ht.PROVIDER_ID,this.auth=Te(e)}verifyPhoneNumber(e,t){return Ut(this.auth,e,(0,c.Ku)(t))}static credential(e,t){return Qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ht.credentialFromTaggedObject(t)}static credentialFromError(e){return Ht.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qe._fromTokenResponse(n,r):null}}function qt(e,t){return t?le(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ht.PROVIDER_ID="phone",Ht.PHONE_SIGN_IN_METHOD="phone";class Vt extends He{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ke(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bt(e){return ht(e.auth,new Vt(e),e.bypassAuthState)}function Kt(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),dt(n,new Vt(e),e.bypassAuthState)}async function Yt(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),ut(n,new Vt(e),e.bypassAuthState)}class Gt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return Yt;case"reauthViaPopup":case"reauthViaRedirect":return Kt;default:_(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $t=new A(2e3,1e4);class Qt extends Gt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Qt.currentPopupAction&&Qt.currentPopupAction.cancel(),Qt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){T(1===this.filter.length,"Popup operations only handle one event");const e=Ct();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(w(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(w(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(w(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$t.get())};e()}}Qt.currentPopupAction=null;const Jt=new Map;class Zt extends Gt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=tn(t),r=en(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Jt.set(this.auth._key(),e)}return this.bypassAuthState||Jt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Xt(e,t){Jt.set(e._key(),t)}function en(e){return le(e._redirectPersistence)}function tn(e){return de("pendingRedirect",e.config.apiKey,e.name)}async function nn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,o.xZ)(e.app))return Promise.reject(x(e));const r=Te(e),i=qt(r,t),s=new Zt(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class rn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return an(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!an(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(w(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sn(e))}saveEventToCache(e){this.cachedEventUids.add(sn(e)),this.lastProcessedEventTime=Date.now()}}function sn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function an(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ln=/^https?/;async function cn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return z(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(un(r))return}catch(n){}_(e,"unauthorized-domain")}function un(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ln.test(n))return!1;if(on.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dn=new A(3e4,6e4);function hn(){const e=Et().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fn(e){return new Promise((t,n)=>{var r,i;function s(){hn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hn(),n(w(e,"network-request-failed"))},timeout:dn.get()})}if(null!==(r=Et().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Et().gapi)||void 0===i||!i.load){const t=Ae("iframefcb");return Et()[t]=()=>{gapi.load?s():n(w(e,"network-request-failed"))},Pe("".concat(Ie.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw pn=null,e})}let pn=null;const mn=new A(5e3,15e3),gn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yn(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?j(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:o.MF},i=vn.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat((0,c.Am)(r).slice(1))}async function bn(e){const t=await function(e){return pn=pn||fn(e),pn}(e),n=Et().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:yn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=w(e,"network-request-failed"),s=Et().setTimeout(()=>{r(i)},mn.get());function a(){Et().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const _n={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function kn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=(0,s.A)((0,s.A)({},_n),{},{width:r.toString(),height:i.toString(),top:a,left:o}),d=(0,c.ZQ)().toLowerCase();n&&(l=ge(d)?"_blank":n),pe(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new wn(null);const f=window.open(t||"",l,h);S(f,e,"popup-blocked");try{f.focus()}catch(p){}return new wn(f)}const xn="__/auth/handler",Cn="emulator/auth/handler",Sn=encodeURIComponent("fac");async function En(e,t,n,r,i,s){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.MF,eventId:i};if(t instanceof Xe){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,c.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof et){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const o of Object.keys(l))void 0===l[o]&&delete l[o];const u=await e._getAppCheckToken(),d=u?"#".concat(Sn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xn);return j(t,Cn)}(e),"?").concat((0,c.Am)(l).slice(1)).concat(d)}const Tn="webStorageSupport";const Nn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kt,this._completeRedirectFn=nn,this._overrideRedirectResult=Xt}async _openPopup(e,t,n,r){var i;T(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return kn(e,await En(e,t,n,N(),r),Ct())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Et().location.href=e}(await En(e,t,n,N(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await bn(e),n=new rn(e);return t.register("authEvent",t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tn,{type:Tn},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Tn];void 0!==i&&t(!!i),_(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ke()||me()||we()}};var In="@firebase/auth",Pn="1.12.1";class An{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jn=(0,c.XA)("authIdTokenMaxAge")||300;let Rn=null;function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Sx)();const t=(0,o.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,o.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,c.bD)(r,null!==t&&void 0!==t?t:{}))return e;_(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Nn,persistence:[Lt,vt,kt]}),r=(0,c.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jn)return;const r=null===t||void 0===t?void 0:t.token;Rn!==r&&(Rn=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,c.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,c.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=(0,c.Tj)("auth");return s&&Fe(n,"http://".concat(s)),n}var Dn;Ie={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=w("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Dn="Browser",(0,o.om)(new d.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;S(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Dn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(Dn)},c=new Ee(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(le);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o.om)(new d.uA("auth-internal",e=>(e=>new An(e))(Te(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.KO)(In,Pn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dn)),(0,o.KO)(In,Pn,"esm2020");const Mn="firebasestorage.googleapis.com",Ln="storageBucket";class zn extends c.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Wn(e),"Firebase Storage: ".concat(t," (").concat(Wn(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wn(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Fn,Un;function Wn(e){return"storage/"+e}function Hn(){return new zn(Fn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qn(){return new zn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vn(){return new zn(Fn.CANCELED,"User canceled the upload/download.")}function Bn(e){return new zn(Fn.INVALID_ARGUMENT,e)}function Kn(){return new zn(Fn.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Fn||(Fn={}));class Yn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Yn.makeFromUrl(e,t)}catch(i){return new Yn(e,"")}if(""===n.path)return n;throw r=e,new zn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Mn?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Yn(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new zn(Fn.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Gn{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function $n(e,t,n,r){if(r<t)throw Bn("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Bn("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Qn(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Jn(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Un||(Un={}));class Zn{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Xn(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Un.NO_ERROR,i=n.getStatus();if(!t||Jn(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Un.ABORT;return void e(!1,new Xn(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Xn(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Hn();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Kn():Vn())}else{r(qn())}};this.canceled_?t(0,new Xn(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xn{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function er(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class tr{constructor(e,t){this._service=e,this._location=t instanceof Yn?t:Yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tr(e,t)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return er(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Yn(this._location.bucket,e);return new tr(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new zn(Fn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function nr(e,t){const n=null===t||void 0===t?void 0:t[Ln];return null==n?null:Yn.makeFromBucketSpec(n,e)}class rr{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=Mn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Yn.makeFromBucketSpec(r,this._host):nr(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=nr(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$n("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$n("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,o.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tr(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Gn(Kn());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Qn(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Zn(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ir="@firebase/storage",sr="0.14.1",ar="storage";function or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,c.Ku)(e);const n=(0,o.j6)(e,ar).getImmediate({identifier:t}),r=(0,c.yU)("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=(0,c.zJ)(t);i&&((0,c.gE)("https://".concat(e.host,"/b")),(0,c.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,c.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function lr(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new rr(r,i,s,n,o.MF)}(0,o.om)(new d.uA(ar,lr,"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(ir,sr,""),(0,o.KO)(ir,sr,"esm2020");const cr={biyom:{id:"biyom",name:"Biyom",description:"Genel sohbet odalar\u0131",icon:"\ud83c\udf10",color:"#5b9bd5",config:{apiKey:"AIzaSyCluGUx9dqi4R_Udd4teG4A7T5aL-xgO8U",authDomain:"sohbet-cfe7f.firebaseapp.com",databaseURL:"https://sohbet-cfe7f-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sohbet-cfe7f",storageBucket:"sohbet-cfe7f.firebasestorage.app",messagingSenderId:"672228058338",appId:"1:672228058338:web:9bd002534b9bf2e51caabb",measurementId:"G-RET7EPDNKZ"}},layla:{id:"layla",name:"Ekosistem Chat",description:"\xd6zel chat kanal\u0131",icon:"\ud83c\udf10",color:"#2ecc71",config:{apiKey:"AIzaSyCXVbDjj8pKxhKUCOEP_kSL_2ll4JsNwak",authDomain:"layla-70d21.firebaseapp.com",databaseURL:"https://layla-70d21-default-rtdb.europe-west1.firebasedatabase.app",projectId:"layla-70d21",storageBucket:"layla-70d21.firebasestorage.app",messagingSenderId:"1057180434994",appId:"1:1057180434994:web:e797773af5e03f1f9ff22b",measurementId:"G-PVX40L6D9J"}}},ur={},dr=e=>{if(!ur[e]){const t=cr[e];if(!t)throw new Error("Server not found: ".concat(e));const n=(0,o.Wp)(t.config,e),r=(0,a.C3)(n),i=On(n),s=or(n);ur[e]={app:n,db:r,auth:i,storage:s}}return ur[e]},hr=async e=>{const{auth:t}=dr(e);try{const e=await async function(e){var t;if((0,o.xZ)(e.app))return Promise.reject(x(e));const n=Te(e);if(await n._initializationPromise,null!==(t=n.currentUser)&&void 0!==t&&t.isAnonymous)return new at({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await st(n,{returnSecureToken:!0}),i=await at._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(t);return e.user}catch(n){throw console.error("Firebase Auth error:",n),n}};var fr=n(799);const pr="@firebase/installations",mr="0.6.20",gr=1e4,vr="w:".concat(mr),yr="FIS_v2",br=36e5,_r={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wr=new c.FA("installations","Installations",_r);function kr(e){return e instanceof c.g&&e.code.includes("request-failed")}function xr(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Cr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Sr(e,t){const n=(await t.json()).error;return wr.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Er(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tr(e,t){let{refreshToken:n}=t;const r=Er(e);return r.append("Authorization",function(e){return"".concat(yr," ").concat(e)}(n)),r}async function Nr(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ir(e){return new Promise(t=>{setTimeout(t,e)})}const Pr=/^[cdef][\w-]{21}$/;function Ar(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Pr.test(t)?t:""}catch(e){return""}}function jr(e){return"".concat(e.appName,"!").concat(e.appId)}const Rr=new Map;function Or(e,t){const n=jr(e);Dr(n,t),function(e,t){const n=Lr();n&&n.postMessage({key:e,fid:t});zr()}(n,t)}function Dr(e,t){const n=Rr.get(e);if(n)for(const r of n)r(t)}let Mr=null;function Lr(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=e=>{Dr(e.data.key,e.data.fid)}),Mr}function zr(){0===Rr.size&&Mr&&(Mr.close(),Mr=null)}const Fr="firebase-installations-store";let Ur=null;function Wr(){return Ur||(Ur=(0,fr.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Fr)}})),Ur}async function Hr(e,t){const n=jr(e),r=(await Wr()).transaction(Fr,"readwrite"),i=r.objectStore(Fr),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Or(e,t.fid),t}async function qr(e){const t=jr(e),n=(await Wr()).transaction(Fr,"readwrite");await n.objectStore(Fr).delete(t),await n.done}async function Vr(e,t){const n=jr(e),r=(await Wr()).transaction(Fr,"readwrite"),i=r.objectStore(Fr),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||Or(e,a.fid),a}async function Br(e){let t;const n=await Vr(e.appConfig,n=>{const r=function(e){const t=e||{fid:Ar(),registrationStatus:0};return Gr(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(wr.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=xr(n),a=Er(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:yr,appId:n.appId,sdkVersion:vr},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Nr(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Cr(e.authToken)}}throw await Sr("Create Installation",u)}(e,t);return Hr(e.appConfig,n)}catch(n){throw kr(n)&&409===n.customData.serverCode?await qr(e.appConfig):await Hr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Kr(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Kr(e){let t=await Yr(e.appConfig);for(;1===t.registrationStatus;)await Ir(100),t=await Yr(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Br(e);return n||t}return t}function Yr(e){return Vr(e,e=>{if(!e)throw wr.create("installation-not-found");return Gr(e)})}function Gr(e){return 1===(t=e).registrationStatus&&t.registrationTime+gr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function $r(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(xr(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Tr(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:vr,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Nr(()=>fetch(i,l));if(c.ok){return Cr(await c.json())}throw await Sr("Generate Auth Token",c)}async function Qr(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Vr(e.appConfig,r=>{if(!Zr(r))throw wr.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+br}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Jr(e.appConfig);for(;1===n.authToken.requestStatus;)await Ir(100),n=await Jr(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Qr(e,t):r}(e,n),r;{if(!navigator.onLine)throw wr.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,s.A)((0,s.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await $r(e,t),r=(0,s.A)((0,s.A)({},t),{},{authToken:n});return await Hr(e.appConfig,r),n}catch(n){if(!kr(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,s.A)((0,s.A)({},t),{},{authToken:{requestStatus:0}});await Hr(e.appConfig,n)}else await qr(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function Jr(e){return Vr(e,e=>{if(!Zr(e))throw wr.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+gr<Date.now()?(0,s.A)((0,s.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Zr(e){return void 0!==e&&2===e.registrationStatus}async function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Br(e);t&&await t}(n);return(await Qr(n,t)).token}function ei(e){return wr.create("missing-app-config-values",{valueName:e})}const ti="installations",ni=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ei("App Configuration");if(!e.name)throw ei("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ei(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,o.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ri=e=>{const t=e.getProvider("app").getImmediate(),n=(0,o.j6)(t,ti).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Br(t);return r?r.catch(console.error):Qr(t).catch(console.error),n.fid}(n),getToken:e=>Xr(n,e)}};(0,o.om)(new d.uA(ti,ni,"PUBLIC")),(0,o.om)(new d.uA("installations-internal",ri,"PRIVATE")),(0,o.KO)(pr,mr),(0,o.KO)(pr,mr,"esm2020");const ii="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",si="google.c.a.c_id",ai=1e4;var oi,li;function ci(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ui(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(oi||(oi={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(li||(li={}));const di="fcm_token_details_db",hi="fcm_token_object_Store";const fi="firebase-messaging-store";let pi=null;function mi(){return pi||(pi=(0,fr.P2)("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fi)}})),pi}async function gi(e){const t=yi(e),n=await mi(),r=await n.transaction(fi).objectStore(fi).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(di))return null}let t=null;return(await(0,fr.P2)(di,5,{upgrade:async(n,r,i,s)=>{if(r<2)return;if(!n.objectStoreNames.contains(hi))return;const a=s.objectStore(hi),o=await a.index("fcmSenderId").get(e);if(await a.clear(),o)if(2===r){var l;const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:ci(e.vapidKey)}}}else if(3===r){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:ci(e.auth),p256dh:ci(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:ci(e.vapidKey)}}}else if(4===r){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:ci(e.auth),p256dh:ci(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:ci(e.vapidKey)}}}}})).close(),await(0,fr.MR)(di),await(0,fr.MR)("fcm_vapid_details_db"),await(0,fr.MR)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await vi(e,t),t}}async function vi(e,t){const n=yi(e),r=(await mi()).transaction(fi,"readwrite");return await r.objectStore(fi).put(t,n),await r.done,t}function yi(e){let{appConfig:t}=e;return t.appId}const bi={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},_i=new c.FA("messaging","Messaging",bi);async function wi(e,t){const n={method:"DELETE",headers:await xi(e)};try{const r=await fetch("".concat(ki(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw _i.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw _i.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function ki(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function xi(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function Ci(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==ii&&(s.web.applicationPubKey=i),s}async function Si(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ui(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ci(t.getKey("auth")),p256dh:ci(t.getKey("p256dh"))},r=await gi(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await xi(e),r=Ci(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch("".concat(ki(e.appConfig),"/").concat(t.token),i);s=await n.json()}catch(a){throw _i.create("token-update-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(s.error){const e=s.error.message;throw _i.create("token-update-failed",{errorInfo:e})}if(!s.token)throw _i.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=(0,s.A)((0,s.A)({},t),{},{token:n,createTime:Date.now()});return await vi(e.firebaseDependencies,r),n}catch(n){throw n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await wi(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Ei(e.firebaseDependencies,n)}return Ei(e.firebaseDependencies,n)}async function Ei(e,t){const n=await async function(e,t){const n=await xi(e),r=Ci(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(ki(e.appConfig),i);s=await t.json()}catch(a){throw _i.create("token-subscribe-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(s.error){const e=s.error.message;throw _i.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw _i.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await vi(e,r),r.token}function Ti(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,a;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const o=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;o&&(e.fcmOptions.link=o);const l=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Ni(e){return _i.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ii{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Ni("App Configuration Object");if(!e.name)throw Ni("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ni(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Pi(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(ai," ms"))),ai),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(t){throw _i.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function Ai(e,t){if(!navigator)throw _i.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw _i.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ii)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Pi(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Si(e)}async function ji(e,t,n){const r=function(e){switch(e){case li.NOTIFICATION_CLICKED:return"notification_open";case li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[si],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Ri(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===li.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Ti(n)):e.onMessageHandler.next(Ti(n)));const r=n.data;var i;"object"===typeof(i=r)&&i&&si in i&&"1"===r["google.c.a.e"]&&await ji(e,n.messageType,r)}const Oi="@firebase/messaging",Di="0.12.24",Mi=e=>{const t=new Ii(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Ri(t,e)),t},Li=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Ai(t,e)}};function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Sx)();return async function(){try{await(0,c.eX)()}catch(e){return!1}return"undefined"!==typeof window&&(0,c.zW)()&&(0,c.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw _i.create("unsupported-browser")},e=>{throw _i.create("indexed-db-unsupported")}),(0,o.j6)((0,c.Ku)(e),"messaging").getImmediate()}function Fi(e,t){return function(e,t){if(!navigator)throw _i.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,c.Ku)(e),t)}(0,o.om)(new d.uA("messaging",Mi,"PUBLIC")),(0,o.om)(new d.uA("messaging-internal",Li,"PRIVATE")),(0,o.KO)(Oi,Di),(0,o.KO)(Oi,Di,"esm2020");const Ui={layla:"BDo3QknKPeZIl7olGBjKNN3NU0fBI-cAV117W-A8KQF7Pajun2-fZr3VfGwEBl2OzoJuqU_9FMDgjmExyEB-C6g",biyom:"BCSWDx7ABhgVycdVQEhfzLeeHBqx_J7yN6kWLAYIht9OMC7c3FQ2zGBUnjztx6d5avAzyiNYFZo626LRu2WmU9w"};let Wi=null,Hi=null,qi=null;const Vi=e=>{try{if(!("serviceWorker"in navigator)||!("Notification"in window))return console.warn("Push notifications not supported in this browser"),!1;const t=e||localStorage.getItem("selectedServer");if(!t)return console.warn("No server selected"),!1;qi=t;const{app:n}=dr(t);return n?(Wi=zi(n),console.log("Firebase Messaging initialized for server:",t),!0):(console.error("Firebase app not initialized"),!1)}catch(t){return console.error("Error initializing messaging:",t),!1}},Bi=async()=>{try{if(!("Notification"in window))return console.log("This browser does not support notifications"),null;const e=await Notification.requestPermission();return console.log("Notification permission:",e),"granted"===e?(console.log("Notification permission granted"),await Ki()):(console.log("Notification permission denied"),null)}catch(e){return console.error("Error requesting notification permission:",e),null}},Ki=async()=>{try{if(!Wi)return console.error("Messaging not initialized"),null;if(!qi)return console.error("No server selected"),null;const e=Ui[qi]||Ui.layla;if(!e||"PENDING"===e)return console.error("VAPID key not configured for server:",qi),alert("\u26a0\ufe0f Bu sunucu i\xe7in bildirimler hen\xfcz yap\u0131land\u0131r\u0131lmam\u0131\u015f.\nL\xfctfen ".concat("biyom"===qi?"Biyom":"Ekosistem Chat"," Firebase projesinde Cloud Messaging'i etkinle\u015ftirin.")),null;const t=await navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("Service Worker registered:",t),await navigator.serviceWorker.ready;const n=await async function(e,t){return Ai(e=(0,c.Ku)(e),t)}(Wi,{vapidKey:e,serviceWorkerRegistration:t});return n?(console.log("FCM Token:",n),Hi=n,n):(console.log("No registration token available"),null)}catch(e){return console.error("Error getting FCM token:",e),null}},Yi=async(e,t,r)=>{try{if(!t||!e||!r)return;const{ref:i,set:s}=await Promise.resolve().then(n.bind(n,800)),a=i(r,"fcmTokens/".concat(e));await s(a,{token:t,updatedAt:Date.now(),platform:"web"}),console.log("FCM token saved to database")}catch(i){console.error("Error saving FCM token:",i)}};var Gi=n(579);const $i=(0,r.createContext)(),Qi=()=>{const e=(0,r.useContext)($i);if(!e)throw new Error("useApp must be used within AppProvider");return e},Ji=e=>{let{children:t}=e;const[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)([]),[g,v]=(0,r.useState)(null),[y,b]=(0,r.useState)([]),[_,w]=(0,r.useState)({}),[k,x]=(0,r.useState)(null),[C,S]=(0,r.useState)([]),[E,T]=(0,r.useState)([]),[N,I]=(0,r.useState)([]),[P,A]=(0,r.useState)([]),[j,R]=(0,r.useState)(!1),[O,D]=(0,r.useState)(null),[M,L]=(0,r.useState)(!1),[z,F]=(0,r.useState)(()=>localStorage.getItem("app-theme")||"dark"),[U,W]=(0,r.useState)(()=>localStorage.getItem("app-layout")||"original"),[H,q]=(0,r.useState)("online"),[V,B]=(0,r.useState)({}),K=(0,r.useCallback)(()=>i?dr(i).db:null,[i]);(0,r.useEffect)(()=>{j||(async()=>{const e=localStorage.getItem("selectedServer");if(e&&cr[e])try{d(!0);const t=await hr(e);f(t);const{db:n}=dr(e);o(e);const r=(0,a.ref)(n,"settings"),i=await(0,a.Jt)(r);i.exists()?x(i.val()):x({registration:"open",appName:cr[e].name});const l=localStorage.getItem("user_".concat(e));if(l){const t=JSON.parse(l),r=(0,a.ref)(n,"users/".concat(t.username)),i=await(0,a.Jt)(r);if(i.exists()){const r=i.val();r.banned?localStorage.removeItem("user_".concat(e)):(c((0,s.A)({username:t.username},r)),await(0,a.yo)((0,a.ref)(n,"online/".concat(t.username)),{ts:Date.now(),user:t.username}))}else localStorage.removeItem("user_".concat(e))}d(!1)}catch(t){console.error("Error initializing from storage:",t),d(!1)}else d(!1);R(!0)})()},[j]);const Y=(0,r.useCallback)(async e=>{if(!e)return o(null),c(null),f(null),x(null),m([]),void b([]);try{d(!0);const t=await hr(e);f(t);const{db:n}=dr(e);o(e),(e=>{localStorage.setItem("selectedServer",e)})(e);const r=(0,a.ref)(n,"settings"),i=await(0,a.Jt)(r);i.exists()?x(i.val()):x({registration:"open",appName:cr[e].name});const l=localStorage.getItem("user_".concat(e));if(l){const t=JSON.parse(l),r=(0,a.ref)(n,"users/".concat(t.username)),i=await(0,a.Jt)(r);if(i.exists()){const r=i.val();r.banned?localStorage.removeItem("user_".concat(e)):(c((0,s.A)({username:t.username},r)),await(0,a.yo)((0,a.ref)(n,"online/".concat(t.username)),{ts:Date.now(),user:t.username}))}else localStorage.removeItem("user_".concat(e))}d(!1)}catch(t){console.error("Error initializing server:",t),d(!1)}},[]);(0,r.useEffect)(()=>{if(!i||!h)return;const e=K();if(!e)return;const t=(0,a.ref)(e,"rooms"),n=(0,a.Zy)(t,e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)});m(n)}else m([])},e=>{console.error("Error loading rooms:",e)});return()=>n()},[i,h,K]),(0,r.useEffect)(()=>{if(!i||!h)return;const e=K();if(!e)return;const t=(0,a.ref)(e,"users"),n=(0,a.Zy)(t,e=>{e.exists()?w(e.val()):w({})},e=>{console.error("Error loading users:",e)});return()=>n()},[i,h,K]),(0,r.useEffect)(()=>{if(!i||!g||!h)return void b([]);const e=K();if(!e)return;const t=(0,a.ref)(e,"msgs/".concat(g.id)),n=(0,a.P)(t,(0,a.kT)("ts"),(0,a.$1)(100)),r=(0,a.Zy)(n,e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)}).sort((e,t)=>(e.ts||0)-(t.ts||0));b(n)}else b([])},e=>{console.error("Error loading messages:",e),b([])});return()=>r()},[i,g,h,K]),(0,r.useEffect)(()=>{if(!i||!l||!h)return;const e=K();if(!e)return;const t=(0,a.ref)(e,"friends/".concat(l.username)),n=(0,a.Zy)(t,e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)});S(n)}else S([])},e=>{console.error("Error loading friends:",e)}),r=(0,a.ref)(e,"friendRequests/".concat(l.username)),o=(0,a.Zy)(r,e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return(0,s.A)({id:t,fromUser:t},n)});T(n)}else T([])},e=>{console.error("Error loading friend requests:",e)});return()=>{n(),o()}},[i,l,h,K]),(0,r.useEffect)(()=>{if(!i||!h)return;const e=K();if(!e)return;const t=(0,a.ref)(e,"forum/posts"),n=(0,a.Zy)(t,e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)}).sort((e,t)=>(t.ts||0)-(e.ts||0));I(n)}else I([])},e=>{console.error("Error loading forum posts:",e)});return()=>n()},[i,h,K]),(0,r.useEffect)(()=>{A([])},[i,l]),(0,r.useEffect)(()=>{if(!l||!i)return;(async()=>{if(!Vi(i))return void console.log("Push notifications not supported");if("granted"===Notification.permission){const e=await Bi();if(e){D(e),L(!0);const t=K();t&&await Yi(l.id,e,t)}}var e;e=e=>{var t,n,r,i,a;console.log("Foreground message:",e),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("Notification"in window){if("granted"===Notification.permission){const n=new Notification(e,(0,s.A)({icon:"/logo192.png",badge:"/logo192.png"},t));setTimeout(()=>n.close(),5e3)}}else console.log("This browser does not support notifications")}((null===(t=e.notification)||void 0===t?void 0:t.title)||(null===(n=e.data)||void 0===n?void 0:n.title)||"Yeni Mesaj",{body:(null===(r=e.notification)||void 0===r?void 0:r.body)||(null===(i=e.data)||void 0===i?void 0:i.body)||"Yeni bir mesaj\u0131n\u0131z var",icon:"/logo192.png",badge:"/logo192.png",tag:(null===(a=e.data)||void 0===a?void 0:a.roomId)||"default",data:e.data});try{new Audio("/notification.mp3").play().catch(e=>console.log("Could not play sound:",e))}catch(o){console.log("Audio error:",o)}},Wi?Fi(Wi,t=>{console.log("Message received in foreground:",t),e(t)}):console.error("Messaging not initialized")})()},[i,l,K]);const G=()=>!0===(null===l||void 0===l?void 0:l.isAdmin);(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-theme",z)},[z]);const $={currentServer:i,currentUser:l,isLoading:u,rooms:p,currentRoom:g,messages:y,users:_,serverSettings:k,friends:C,friendRequests:E,forumPosts:N,notifications:P,servers:cr,notificationsEnabled:M,fcmToken:O,theme:z,layout:U,changeTheme:e=>{F(e),localStorage.setItem("app-theme",e),document.documentElement.setAttribute("data-theme",e)},changeLayout:e=>{W(e),localStorage.setItem("app-layout",e)},initServer:Y,login:async(e,t)=>{const n=K();if(!n)throw new Error("Server not initialized");const r=(0,a.ref)(n,"users/".concat(e)),o=await(0,a.Jt)(r);if(!o.exists())throw new Error("Kullan\u0131c\u0131 bulunamad\u0131");const l=o.val();if(l.banned)throw new Error("Bu hesap yasaklanm\u0131\u015f");const u=await Zi(t),d=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);let i="";for(let s=0;s<r.length;s++)i+=String.fromCharCode(r[s]);return btoa(i)}(t);if(l.passwordHash!==u&&l.passwordHash!==d)throw new Error("\u015eifre yanl\u0131\u015f");await(0,a.yo)((0,a.ref)(n,"online/".concat(e)),{ts:Date.now(),user:e});const h=(0,s.A)({username:e},l);return c(h),localStorage.setItem("user_".concat(i),JSON.stringify({username:e})),h},register:async e=>{const t=K();if(!t)throw new Error("Server not initialized");if("closed"===(null===k||void 0===k?void 0:k.registration))throw new Error("Kay\u0131t \u015fu an kapal\u0131");if(null!==k&&void 0!==k&&k.inviteCode&&e.inviteCode!==k.inviteCode)throw new Error("Ge\xe7ersiz davet kodu");const n=(0,a.ref)(t,"users/".concat(e.username));if((await(0,a.Jt)(n)).exists())throw new Error("Bu kullan\u0131c\u0131 ad\u0131 zaten al\u0131nm\u0131\u015f");const r=(0,a.ref)(t,"usernames/".concat(e.username.toLowerCase()));if((await(0,a.Jt)(r)).exists())throw new Error("Bu kullan\u0131c\u0131 ad\u0131 zaten al\u0131nm\u0131\u015f");const o=await Zi(e.password),l={username:e.username,passwordHash:o,createdAt:Date.now(),lastSeen:Date.now(),isAdmin:!1,banned:!1};await(0,a.set)(n,l),await(0,a.set)(r,Date.now()),await(0,a.yo)((0,a.ref)(t,"online/".concat(e.username)),{ts:Date.now(),user:e.username});const u=(0,s.A)({username:e.username},l);return c(u),localStorage.setItem("user_".concat(i),JSON.stringify({username:e.username})),u},logout:async()=>{if(l&&i){const e=K();e&&await(0,a.remove)((0,a.ref)(e,"online/".concat(l.username))),localStorage.removeItem("user_".concat(i))}c(null),v(null),b([])},setCurrentRoom:v,createRoom:async e=>{const t=K();if(!t||!l)return;const n=(0,a.ref)(t,"rooms"),r=(0,a.VC)(n),i={name:e.name,locked:e.private||!1,slowMode:0};return await(0,a.set)(r,i),(0,s.A)({id:r.key},i)},deleteRoom:async e=>{const t=K();t&&(await(0,a.remove)((0,a.ref)(t,"rooms/".concat(e))),await(0,a.remove)((0,a.ref)(t,"msgs/".concat(e))),(null===g||void 0===g?void 0:g.id)===e&&v(null))},updateRoom:async(e,t)=>{const n=K();n&&await(0,a.yo)((0,a.ref)(n,"rooms/".concat(e)),t)},sendMessage:async function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=K();if(!r||!l)return;const i=(0,a.ref)(r,"msgs/".concat(e)),o=(0,a.VC)(i),c=(0,s.A)({text:t,user:l.username,ts:Date.now()},n);return await(0,a.set)(o,c),(0,s.A)({id:o.key},c)},deleteMessage:async(e,t)=>{const n=K();n&&await(0,a.remove)((0,a.ref)(n,"msgs/".concat(e,"/").concat(t)))},editMessage:async(e,t,n)=>{const r=K();r&&await(0,a.yo)((0,a.ref)(r,"msgs/".concat(e,"/").concat(t)),{text:n,edited:!0})},banUser:async function(e){const t=K();t&&G()&&await(0,a.yo)((0,a.ref)(t,"users/".concat(e)),{banned:!0})},unbanUser:async e=>{const t=K();t&&G()&&await(0,a.yo)((0,a.ref)(t,"users/".concat(e)),{banned:!1})},setUserRole:async(e,t)=>{const n=K();n&&G()&&(await(0,a.yo)((0,a.ref)(n,"users/".concat(e)),{isAdmin:t}),t?await(0,a.set)((0,a.ref)(n,"admins/".concat(e)),!0):await(0,a.remove)((0,a.ref)(n,"admins/".concat(e))))},createInviteCode:async()=>{const e=K();if(!e||!G())return;const t=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}();return await(0,a.yo)((0,a.ref)(e,"settings"),{inviteCode:t}),t},updateServerSettings:async e=>{const t=K();t&&G()&&(await(0,a.yo)((0,a.ref)(t,"settings"),e),x(t=>(0,s.A)((0,s.A)({},t),e)))},isAdmin:G,isMod:()=>G(),createForumPost:async e=>{const t=K();if(!t||!l)return;const n=(0,a.ref)(t,"forum/posts"),r=(0,a.VC)(n),i={text:e.content,user:l.username,ts:Date.now(),cat:"genel"};return await(0,a.set)(r,i),(0,s.A)({id:r.key},i)},likeForumPost:async e=>{const t=K();if(!t||!l)return;const n=(0,a.ref)(t,"forum/posts/".concat(e,"/likes/").concat(l.username));(await(0,a.Jt)(n)).exists()?await(0,a.remove)(n):await(0,a.set)(n,!0)},commentOnPost:async(e,t)=>{const n=K();if(!n||!l)return;const r=(0,a.ref)(n,"forum/posts/".concat(e,"/comments")),i=(0,a.VC)(r);await(0,a.set)(i,{text:t,user:l.username,ts:Date.now()})},sendFriendRequest:async e=>{const t=K();t&&l&&(await(0,a.set)((0,a.ref)(t,"friendRequests/".concat(e,"/").concat(l.username)),{ts:Date.now()}),await(0,a.set)((0,a.ref)(t,"friendRequestsSent/".concat(l.username,"/").concat(e)),{ts:Date.now()}))},acceptFriendRequest:async e=>{const t=K();t&&l&&(await(0,a.set)((0,a.ref)(t,"friends/".concat(l.username,"/").concat(e)),{ts:Date.now()}),await(0,a.set)((0,a.ref)(t,"friends/".concat(e,"/").concat(l.username)),{ts:Date.now()}),await(0,a.remove)((0,a.ref)(t,"friendRequests/".concat(l.username,"/").concat(e))),await(0,a.remove)((0,a.ref)(t,"friendRequestsSent/".concat(e,"/").concat(l.username))))},rejectFriendRequest:async e=>{const t=K();t&&l&&(await(0,a.remove)((0,a.ref)(t,"friendRequests/".concat(l.username,"/").concat(e))),await(0,a.remove)((0,a.ref)(t,"friendRequestsSent/".concat(e,"/").concat(l.username))))},enableNotifications:async()=>{try{const e=await Bi();if(e){D(e),L(!0);const t=K();return t&&l&&await Yi(l.id,e,t),!0}return!1}catch(e){return console.error("Error enabling notifications:",e),!1}},disableNotifications:()=>{L(!1)},getNotificationStatus:()=>({supported:"Notification"in window&&"serviceWorker"in navigator,permission:Notification.permission,enabled:M,token:O}),deleteAllMessages:async()=>{try{const e=K();if(!e)throw new Error("Database not available");const{ref:t,set:r}=await Promise.resolve().then(n.bind(n,800)),i=t(e,"msgs");return await r(i,null),!0}catch(e){throw console.error("Error deleting all messages:",e),e}},clearRoomMessages:async e=>{try{const t=K();if(!t)throw new Error("Database not available");const{ref:r,set:i}=await Promise.resolve().then(n.bind(n,800)),s=r(t,"msgs/".concat(e));return await i(s,null),!0}catch(t){throw console.error("Error clearing room messages:",t),t}},deleteUser:async e=>{try{const t=K();if(!t)throw new Error("Database not available");const{ref:r,remove:i}=await Promise.resolve().then(n.bind(n,800)),s=r(t,"users/".concat(e));return await i(s),!0}catch(t){throw console.error("Error deleting user:",t),t}},getStatistics:()=>({totalUsers:Object.keys(_).length,onlineUsers:Object.values(_).filter(e=>e.online).length,totalRooms:p.length,totalMessages:Object.values(y).reduce((e,t)=>e+Object.keys(t||{}).length,0),totalForumPosts:N.length}),backupData:async()=>{try{const e={users:_,rooms:p,messages:y,settings:k,timestamp:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");return r.href=n,r.download="backup-".concat(i,"-").concat(Date.now(),".json"),r.click(),URL.revokeObjectURL(n),!0}catch(e){throw console.error("Error creating backup:",e),e}},getDb:K,userStatus:H,updateUserStatus:async e=>{if(!l||!i)return;const t=K();await(0,a.yo)((0,a.ref)(t,"users/".concat(l.username)),{status:e}),q(e)},typingUsers:V,setTyping:async(e,t)=>{if(!l||!i)return;const n=K(),r=(0,a.ref)(n,"typing/".concat(e,"/").concat(l.username));t?(await(0,a.set)(r,{ts:Date.now()}),setTimeout(async()=>{await(0,a.remove)(r)},3e3)):await(0,a.remove)(r)},addReaction:async(e,t,n)=>{if(!l||!i)return;const r=K(),s=(0,a.ref)(r,"msgs/".concat(e,"/").concat(t,"/reactions/").concat(l.username));await(0,a.set)(s,n)},removeReaction:async(e,t)=>{if(!l||!i)return;const n=K(),r=(0,a.ref)(n,"msgs/".concat(e,"/").concat(t,"/reactions/").concat(l.username));await(0,a.remove)(r)}};return(0,Gi.jsx)($i.Provider,{value:$,children:t})};async function Zi(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}const Xi=()=>{const{servers:e,initServer:t}=Qi(),n=e=>{let{size:t=64}=e;return(0,Gi.jsxs)("svg",{viewBox:"0 0 120 120",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Gi.jsx)("defs",{children:(0,Gi.jsx)("clipPath",{id:"leafClipSelect",children:(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z"})})}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"#0e2b0c"}),(0,Gi.jsxs)("g",{clipPath:"url(#leafClipSelect)",children:[(0,Gi.jsx)("line",{x1:"60",y1:"14",x2:"60",y2:"108",stroke:"#4a8f40",strokeWidth:"1.2"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"78",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"42",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"82",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"38",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"78",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"42",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"70",y2:"94",stroke:"#4a8f40",strokeWidth:".4"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"50",y2:"94",stroke:"#4a8f40",strokeWidth:".4"})]}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"none",stroke:"#4a8f40",strokeWidth:"1.2"})]})};return(0,Gi.jsx)("div",{className:"server-select-screen","data-testid":"server-select-screen",children:(0,Gi.jsxs)("div",{className:"server-select-content",children:[(0,Gi.jsxs)("div",{className:"server-select-header",children:[(0,Gi.jsx)("div",{className:"server-logo",children:(0,Gi.jsx)(n,{})}),(0,Gi.jsx)("h1",{className:"server-title",children:"Nature.co"}),(0,Gi.jsx)("p",{className:"server-subtitle",children:"Ba\u011flanmak istedi\u011fin sunucuyu se\xe7"})]}),(0,Gi.jsx)("div",{className:"server-list","data-testid":"server-list",children:Object.values(e).map(e=>(0,Gi.jsxs)("div",{className:"server-card",onClick:()=>{return n=e.id,void t(n);var n},"data-testid":"server-card-".concat(e.id),children:[(0,Gi.jsx)("div",{className:"server-card-icon",style:{background:"".concat(e.color,"22"),borderColor:"".concat(e.color,"44")},children:e.icon}),(0,Gi.jsxs)("div",{className:"server-card-info",children:[(0,Gi.jsx)("div",{className:"server-card-name",children:e.name}),(0,Gi.jsx)("div",{className:"server-card-desc",children:e.description})]}),(0,Gi.jsx)("div",{className:"server-card-arrow",style:{color:e.color},children:"\u203a"})]},e.id))}),(0,Gi.jsx)("p",{className:"server-note",children:"Her sunucu ba\u011f\u0131ms\u0131zd\u0131r \u2014 ayr\u0131 hesap, ayr\u0131 odalar"})]})})},es=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ts=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ns={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rs=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],is=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d}=e,h=l(e,rs);return(0,r.createElement)("svg",(0,s.A)((0,s.A)((0,s.A)({ref:t},ns),{},{width:i,height:i,stroke:n,strokeWidth:o?24*Number(a)/Number(i):a,className:ts("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),ss=["className"],as=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:a}=n,o=l(n,ss);return(0,r.createElement)(is,(0,s.A)({ref:i,iconNode:t,className:ts("lucide-".concat((c=es(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},o));var c});return n.displayName=es(e),n},os=as("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ls=as("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),cs=as("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),us=e=>{let{onBack:t}=e;const{login:n,register:i,serverSettings:s,currentServer:a,servers:o}=Qi(),[l,c]=(0,r.useState)("login"),[u,d]=(0,r.useState)(1),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[k,x]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[E,T]=(0,r.useState)(""),[N,I]=(0,r.useState)(""),[P,A]=(0,r.useState)(""),[j,R]=(0,r.useState)(""),[O,D]=(0,r.useState)(!1),[M,L]=(0,r.useState)(!1),z=(o[a],e=>{let{size:t=56}=e;return(0,Gi.jsxs)("svg",{viewBox:"0 0 120 120",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Gi.jsx)("defs",{children:(0,Gi.jsx)("clipPath",{id:"leafClipLogin",children:(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z"})})}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"#0e2b0c"}),(0,Gi.jsxs)("g",{clipPath:"url(#leafClipLogin)",children:[(0,Gi.jsx)("line",{x1:"60",y1:"14",x2:"60",y2:"108",stroke:"#4a8f40",strokeWidth:"1.2"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"78",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"42",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"82",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"38",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"78",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"42",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"70",y2:"94",stroke:"#4a8f40",strokeWidth:".4"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"50",y2:"94",stroke:"#4a8f40",strokeWidth:".4"})]}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"none",stroke:"#4a8f40",strokeWidth:"1.2"})]})}),F=!1===(null===s||void 0===s?void 0:s.registrationEnabled);return(0,Gi.jsx)("div",{className:"login-screen","data-testid":"login-screen",children:(0,Gi.jsxs)("div",{className:"login-box",children:[(0,Gi.jsxs)("button",{className:"back-btn",onClick:t,"data-testid":"back-to-server-select",children:[(0,Gi.jsx)(os,{size:14}),(0,Gi.jsx)("span",{children:"Sunucu"})]}),(0,Gi.jsx)("div",{className:"login-logo",children:(0,Gi.jsx)(z,{})}),(0,Gi.jsx)("h1",{className:"login-title",children:"Nature.co"}),(0,Gi.jsxs)("div",{className:"login-tabs",children:[(0,Gi.jsx)("button",{className:"login-tab ".concat("login"===l?"active":""),onClick:()=>{c("login"),f("")},"data-testid":"tab-login",children:"Giri\u015f Yap"}),(0,Gi.jsx)("button",{className:"login-tab ".concat("register"===l?"active":""),onClick:()=>{c("register"),f("")},"data-testid":"tab-register",children:"Kay\u0131t Ol"})]}),h&&(0,Gi.jsx)("div",{className:"login-error","data-testid":"login-error",children:h}),"login"===l&&(0,Gi.jsxs)("div",{children:[1===u&&(0,Gi.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y.trim()?(f(""),d(2)):f("Kullan\u0131c\u0131 ad\u0131 gerekli")},children:[(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"Kullan\u0131c\u0131 Ad\u0131"}),(0,Gi.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),placeholder:"Kullan\u0131c\u0131 ad\u0131n...",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false","data-testid":"login-username-input"})]}),(0,Gi.jsx)("button",{type:"submit",className:"login-btn",disabled:p,"data-testid":"login-next-btn",children:"\u0130leri \u2192"})]}),2===u&&(0,Gi.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),_){m(!0),f("");try{await n(y,_)}catch(t){console.error("Login error:",t),f(t.message)}finally{m(!1)}}else f("\u015eifre gerekli")},children:[(0,Gi.jsxs)("div",{className:"login-user-info",children:[(0,Gi.jsx)("div",{className:"login-user-avatar",style:{background:(e=>{const t=["#5b9bd5","#6c63ff","#2ecc71","#f97316","#ec4899"];let n=0;for(let r=0;r<(e||"").length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]})(y)},children:y.charAt(0).toUpperCase()}),(0,Gi.jsxs)("div",{style:{flex:1},children:[(0,Gi.jsx)("div",{className:"login-user-name",children:y}),(0,Gi.jsx)("div",{className:"login-user-sub",children:"hesab\u0131na giri\u015f yap\u0131l\u0131yor"})]}),(0,Gi.jsx)("button",{type:"button",className:"login-change-user",onClick:()=>{d(1),w(""),f("")},"data-testid":"change-user-btn",children:"\u2190 De\u011fi\u015ftir"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"Do\u011frulama"}),(0,Gi.jsxs)("div",{className:"password-input-wrap",children:[(0,Gi.jsx)("input",{type:g?"text":"password",value:_,onChange:e=>w(e.target.value),placeholder:"Kodunu gir...",autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false","data-testid":"login-password-input"}),(0,Gi.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>v(!g),children:g?(0,Gi.jsx)(ls,{size:16}):(0,Gi.jsx)(cs,{size:16})})]})]}),(0,Gi.jsx)("button",{type:"submit",className:"login-btn",disabled:p,"data-testid":"login-submit-btn",children:p?"Giri\u015f yap\u0131l\u0131yor...":"Giri\u015f Yap \u2192"})]})]}),"register"===l&&(0,Gi.jsx)("div",{children:F?(0,Gi.jsxs)("div",{className:"reg-closed",children:[(0,Gi.jsx)("div",{className:"reg-closed-icon",children:"\ud83d\udd12"}),(0,Gi.jsx)("h3",{children:"Kay\u0131t \u015eu An Kapal\u0131"}),(0,Gi.jsx)("p",{children:"Bu sunucuda yeni \xfcye al\u0131m\u0131 ge\xe7ici olarak durdurulmu\u015ftur."})]}):(0,Gi.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C.trim())if(E.trim())if(N.length<6)f("\u015eifre en az 6 karakter olmal\u0131");else if(N===P)if(j)if(O&&M){m(!0),f("");try{await i({username:C,email:E,password:N,origin:j,inviteCode:k})}catch(t){f(t.message)}finally{m(!1)}}else f("S\xf6zle\u015fmeleri kabul etmelisiniz");else f("K\xf6ken/Uyruk se\xe7imi gerekli");else f("\u015eifreler e\u015fle\u015fmiyor");else f("E-posta gerekli");else f("Kullan\u0131c\u0131 ad\u0131 gerekli")},children:[(null===s||void 0===s?void 0:s.requireInviteCode)&&(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsxs)("label",{children:["Davet Kodu ",(0,Gi.jsx)("span",{className:"optional",children:"(Adminden al\u0131n)"})]}),(0,Gi.jsx)("input",{type:"text",value:k,onChange:e=>x(e.target.value),placeholder:"Davet kodunu girin...",autoComplete:"off","data-testid":"reg-invite-input"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"Kullan\u0131c\u0131 Ad\u0131"}),(0,Gi.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"Kullan\u0131c\u0131 ad\u0131n...",autoComplete:"off","data-testid":"reg-username-input"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"E-posta Adresi"}),(0,Gi.jsx)("input",{type:"email",value:E,onChange:e=>T(e.target.value),placeholder:"ornek@mail.com",autoComplete:"email","data-testid":"reg-email-input"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"Do\u011frulama"}),(0,Gi.jsx)("input",{type:"password",value:N,onChange:e=>I(e.target.value),placeholder:"En az 6 karakter...",autoComplete:"new-password","data-testid":"reg-password-input"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"Do\u011frulama (tekrar)"}),(0,Gi.jsx)("input",{type:"password",value:P,onChange:e=>A(e.target.value),placeholder:"Tekrar gir...",autoComplete:"new-password","data-testid":"reg-password2-input"})]}),(0,Gi.jsxs)("div",{className:"login-field",children:[(0,Gi.jsx)("label",{children:"K\xf6ken / Uyruk"}),(0,Gi.jsxs)("select",{value:j,onChange:e=>R(e.target.value),"data-testid":"reg-origin-select",children:[(0,Gi.jsx)("option",{value:"",children:"\u2014 Se\xe7iniz \u2014"}),(0,Gi.jsx)("option",{value:"\ud83c\uddf9\ud83c\uddf7 T\xfcrk",children:"\ud83c\uddf9\ud83c\uddf7 T\xfcrk"}),(0,Gi.jsx)("option",{value:"\ud83c\udde6\ud83c\uddff Azerbaycanl\u0131",children:"\ud83c\udde6\ud83c\uddff Azerbaycanl\u0131"}),(0,Gi.jsx)("option",{value:"\ud83c\uddfa\ud83c\uddff \xd6zbek",children:"\ud83c\uddfa\ud83c\uddff \xd6zbek"}),(0,Gi.jsx)("option",{value:"\ud83c\uddf9\ud83c\uddf2 T\xfcrkmen",children:"\ud83c\uddf9\ud83c\uddf2 T\xfcrkmen"}),(0,Gi.jsx)("option",{value:"\ud83c\uddf0\ud83c\uddff Kazak",children:"\ud83c\uddf0\ud83c\uddff Kazak"}),(0,Gi.jsx)("option",{value:"\ud83c\uddf0\ud83c\uddec K\u0131rg\u0131z",children:"\ud83c\uddf0\ud83c\uddec K\u0131rg\u0131z"}),(0,Gi.jsx)("option",{value:"\ud83c\uddfa\ud83c\udde6 Ukraynal\u0131",children:"\ud83c\uddfa\ud83c\udde6 Ukraynal\u0131"}),(0,Gi.jsx)("option",{value:"\ud83c\uddf7\ud83c\uddfa Rus",children:"\ud83c\uddf7\ud83c\uddfa Rus"}),(0,Gi.jsx)("option",{value:"\ud83c\udde9\ud83c\uddea Alman",children:"\ud83c\udde9\ud83c\uddea Alman"}),(0,Gi.jsx)("option",{value:"\ud83c\uddec\ud83c\udde7 \u0130ngiliz",children:"\ud83c\uddec\ud83c\udde7 \u0130ngiliz"}),(0,Gi.jsx)("option",{value:"\ud83c\uddeb\ud83c\uddf7 Frans\u0131z",children:"\ud83c\uddeb\ud83c\uddf7 Frans\u0131z"}),(0,Gi.jsx)("option",{value:"\ud83c\udf0d Di\u011fer",children:"\ud83c\udf0d Di\u011fer"})]})]}),(0,Gi.jsxs)("div",{className:"login-checkboxes",children:[(0,Gi.jsxs)("label",{className:"checkbox-label",children:[(0,Gi.jsx)("input",{type:"checkbox",checked:O,onChange:e=>D(e.target.checked),"data-testid":"tos-checkbox"}),(0,Gi.jsxs)("span",{children:[(0,Gi.jsx)("a",{href:"#",style:{color:"#2ecc71",textDecoration:"underline"},children:"\xdcyelik S\xf6zle\u015fmesi"}),"'ni okudum, anlad\u0131m ve kabul ediyorum."]})]}),(0,Gi.jsxs)("label",{className:"checkbox-label",children:[(0,Gi.jsx)("input",{type:"checkbox",checked:M,onChange:e=>L(e.target.checked),"data-testid":"kvkk-checkbox"}),(0,Gi.jsxs)("span",{children:[(0,Gi.jsx)("a",{href:"#",style:{color:"#2ecc71",textDecoration:"underline"},children:"KVKK Ayd\u0131nlatma Metni"}),"'ni okudum; k\xf6ken/milliyet bilgisinin \xf6zel nitelikli veri olarak i\u015flenmesine ",(0,Gi.jsx)("strong",{style:{color:"#fff"},children:"a\xe7\u0131k r\u0131za"})," veriyorum."]})]})]}),(0,Gi.jsx)("button",{type:"submit",className:"login-btn",disabled:p,"data-testid":"register-submit-btn",children:p?"Kay\u0131t yap\u0131l\u0131yor...":"Kay\u0131t Ol \u2192"})]})})]})})},ds=as("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),hs=as("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),fs=e=>{var t;let{activePanel:n,setActivePanel:i,onRoomSelect:a,onViewProfile:o}=e;const{currentUser:l,rooms:c,currentRoom:u,servers:d,currentServer:h,notifications:f,isAdmin:p,enableNotifications:m,notificationsEnabled:g}=Qi(),v=(d[h],f.filter(e=>!e.read).length),[y,b]=(0,r.useState)({channels:!0,dms:!0}),_=c.filter(e=>"channel"===e.type||!e.type),w=c.filter(e=>"dm"===e.type),k=e=>{b(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!t[e]}))},x=e=>{const t=["#5b9bd5","#6c63ff","#2ecc71","#f97316","#ec4899"];let n=0;for(let r=0;r<(e||"").length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]};return(0,Gi.jsxs)("div",{id:"deskSidebar","data-testid":"sidebar",children:[(0,Gi.jsx)("div",{id:"deskSidebarHeader",children:(0,Gi.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("div",{id:"deskSidebarTitle",title:"Sunucu de\u011fi\u015ftir",style:{cursor:"pointer",userSelect:"none"},children:"Nature.co"}),(0,Gi.jsx)("div",{id:"deskSidebarSub",children:"Ana Sayfa"})]}),(0,Gi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Gi.jsxs)("div",{id:"deskBellBtn",title:g?"Bildirimler aktif":"Bildirimleri etkinle\u015ftir",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",cursor:"pointer",position:"relative",color:g?"var(--green)":"rgba(255,255,255,.7)",transition:"background .15s",flexShrink:0},onClick:async()=>{await m()?alert("\ud83d\udd14 Bildirimler etkinle\u015ftirildi! Art\u0131k yeni mesajlardan haberdar olacaks\u0131n\u0131z."):alert("\u274c Bildirimler etkinle\u015ftirilemedi. L\xfctfen taray\u0131c\u0131 ayarlar\u0131ndan bildirimlere izin verin.")},"data-testid":"notifications-btn",children:[(0,Gi.jsx)(ds,{size:15}),v>0&&(0,Gi.jsx)("div",{id:"deskNotifDot",style:{display:"block",position:"absolute",top:"3px",right:"3px",width:"6px",height:"6px",background:"#e05555",borderRadius:"50%",border:"1.5px solid #222529"}})]}),(0,Gi.jsxs)("div",{id:"deskSidebarAvatar",style:{width:"28px",height:"28px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:".65rem",fontWeight:900,color:"#fff",cursor:"pointer",flexShrink:0,background:x((null===l||void 0===l?void 0:l.username)||""),border:"1.5px solid rgba(255,255,255,.2)",transition:"opacity .15s",position:"relative"},onClick:()=>o(null===l||void 0===l?void 0:l.id),title:"Profilim","data-testid":"sidebar-avatar",children:[null===l||void 0===l||null===(t=l.username)||void 0===t?void 0:t.charAt(0).toUpperCase(),(0,Gi.jsx)("div",{className:"sdot",style:{position:"absolute",bottom:"-2px",right:"-2px",width:"9px",height:"9px",borderRadius:"50%",background:"var(--green)",border:"2px solid #222529"}})]})]})]})}),(0,Gi.jsxs)("div",{id:"deskSearch",style:{cursor:"pointer"},"data-testid":"sidebar-search",children:[(0,Gi.jsx)(hs,{size:14,strokeWidth:2}),(0,Gi.jsxs)("span",{style:{color:"var(--muted)",fontSize:".82rem"},children:["Ara... ",(0,Gi.jsx)("span",{style:{marginLeft:"auto",fontSize:".7rem",opacity:.6},children:"\u2318K"})]})]}),(0,Gi.jsxs)("div",{id:"deskSideList",children:[(0,Gi.jsxs)("div",{className:"dsk-sec-hdr",children:[(0,Gi.jsx)("span",{className:"chev",children:"\u25bc"}),(0,Gi.jsx)("span",{children:"NATUREBOT"})]}),(0,Gi.jsxs)("div",{className:"dsk-row",style:{cursor:"pointer"},onClick:()=>{a({id:"naturebot",name:"NatureBot",type:"channel",description:"AI Asistan - Sana yard\u0131mc\u0131 olmak i\xe7in buraday\u0131m!",private:!1})},children:[(0,Gi.jsx)("div",{className:"dsk-row-ic",children:"\ud83e\udd16"}),(0,Gi.jsx)("div",{className:"dsk-row-name",children:"NatureBot"}),(0,Gi.jsx)("div",{className:"ui-badge ui-badge-green",children:"AI"})]}),_.length>0&&(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsxs)("div",{className:"dsk-sec-hdr",onClick:()=>k("channels"),style:{cursor:"pointer"},children:[(0,Gi.jsx)("span",{className:"chev",style:{transform:y.channels?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.15s",display:"inline-block"},children:"\u25bc"}),(0,Gi.jsx)("span",{children:"KANALLAR"}),p()&&(0,Gi.jsx)("div",{className:"sec-add-btn",title:"Kanal Ekle","data-testid":"add-channel-btn",onClick:e=>{e.stopPropagation()},children:"+"})]}),y.channels&&_.map(e=>(0,Gi.jsxs)("div",{className:"dsk-row ".concat((null===u||void 0===u?void 0:u.id)===e.id?"act":""),onClick:()=>a(e),"data-testid":"room-".concat(e.id),children:[(0,Gi.jsx)("div",{className:"dsk-row-ic",children:e.private?"\ud83d\udd12":"#"}),(0,Gi.jsx)("div",{className:"dsk-row-name",children:e.name})]},e.id))]}),w.length>0&&(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsxs)("div",{className:"dsk-sec-hdr",onClick:()=>k("dms"),style:{cursor:"pointer"},children:[(0,Gi.jsx)("span",{className:"chev",style:{transform:y.dms?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.15s",display:"inline-block"},children:"\u25bc"}),(0,Gi.jsx)("span",{children:"D\u0130REKT MESAJLAR"}),(0,Gi.jsx)("div",{className:"sec-add-btn",title:"Yeni Mesaj",onClick:e=>{e.stopPropagation()},children:"+"})]}),y.dms&&w.map(e=>{var t;const n=Object.keys(e.members||{}).find(e=>e!==(null===l||void 0===l?void 0:l.id)),r=x(n);return(0,Gi.jsxs)("div",{className:"dsk-row ".concat((null===u||void 0===u?void 0:u.id)===e.id?"act":""),onClick:()=>a(e),"data-testid":"room-".concat(e.id),children:[(0,Gi.jsxs)("div",{className:"dsk-row-av",style:{background:r},children:[null===(t=e.name)||void 0===t?void 0:t.charAt(0).toUpperCase(),(0,Gi.jsx)("div",{className:"r-dot on"})]}),(0,Gi.jsx)("div",{className:"dsk-row-name",children:e.name})]},e.id)})]}),0===c.length&&(0,Gi.jsxs)("div",{style:{padding:"24px 16px",textAlign:"center",fontSize:".85rem",color:"var(--muted)"},children:[(0,Gi.jsx)("p",{children:"Hen\xfcz oda yok"}),p()&&(0,Gi.jsx)("p",{style:{fontSize:".75rem",marginTop:"8px"},children:"Admin panelinden oda olu\u015fturun"})]})]})]})},ps=as("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ms=as("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),gs=as("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),vs=as("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ys=as("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),bs=as("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),_s=as("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),ws=as("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ks=as("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),xs=as("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Cs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ss(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Es={date:Ss({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ss({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ss({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ts={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ns(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Is(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(a)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function Ps(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const As={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Cs[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Es,formatRelative:(e,t,n,r)=>Ts[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Ns({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ns({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ns({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ns({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ns({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Ps({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Is({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Is({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Is({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Is({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Is({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let js={};function Rs(){return js}Math.pow(10,8);const Os=6048e5,Ds=Symbol.for("constructDateFrom");function Ms(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Ds in e?e[Ds](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ls(e,t){return Ms(t||e,e)}function zs(e){const t=Ls(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Fs(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Us(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Ms.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}(null===n||void 0===n?void 0:n.in,e,t),s=Fs(r),a=Fs(i),o=+s-zs(s),l=+a-zs(a);return Math.round((o-l)/864e5)}function Ws(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Hs(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in);return Us(n,Ws(n))+1}function qs(e,t){var n,r,i,s,a,o;const l=Rs(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,u=Ls(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function Vs(e,t){return qs(e,(0,s.A)((0,s.A)({},t),{},{weekStartsOn:1}))}function Bs(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=Ms(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Vs(i),a=Ms(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Vs(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Ks(e,t){const n=Bs(e,t),r=Ms((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vs(r)}function Ys(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in),r=+Vs(n)-+Ks(n);return Math.round(r/Os)+1}function Gs(e,t){var n,r,i,s,a,o;const l=Ls(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=Rs(),d=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(o=u.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=Ms((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=qs(h,t),p=Ms((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=qs(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function $s(e,t){var n,r,i,s,a,o;const l=Rs(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,u=Gs(e,t),d=Ms((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return qs(d,t)}function Qs(e,t){const n=Ls(e,null===t||void 0===t?void 0:t.in),r=+qs(n,t)-+$s(n,t);return Math.round(r/Os)+1}function Js(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Zs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Js("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Js(n+1,2)},d:(e,t)=>Js(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Js(e.getHours()%12||12,t.length),H:(e,t)=>Js(e.getHours(),t.length),m:(e,t)=>Js(e.getMinutes(),t.length),s:(e,t)=>Js(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Js(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Xs="midnight",ea="noon",ta="morning",na="afternoon",ra="evening",ia="night",sa={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Zs.y(e,t)},Y:function(e,t,n,r){const i=Gs(e,r),s=i>0?i:1-i;if("YY"===t){return Js(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Js(s,t.length)},R:function(e,t){return Js(Bs(e),t.length)},u:function(e,t){return Js(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Js(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Js(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Zs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Js(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Qs(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Js(i,t.length)},I:function(e,t,n){const r=Ys(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Js(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Zs.d(e,t)},D:function(e,t,n){const r=Hs(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Js(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Js(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Js(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Js(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?ea:0===r?Xs:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?ra:r>=12?na:r>=4?ta:ia,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Zs.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Zs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Js(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Js(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zs.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Zs.s(e,t)},S:function(e,t){return Zs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return oa(r);case"XXXX":case"XX":return la(r);default:return la(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return oa(r);case"xxxx":case"xx":return la(r);default:return la(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aa(r,":");default:return"GMT"+la(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aa(r,":");default:return"GMT"+la(r,":")}},t:function(e,t,n){return Js(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Js(+e,t.length)}};function aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+Js(s,2)}function oa(e,t){if(e%60===0){return(e>0?"-":"+")+Js(Math.abs(e)/60,2)}return la(e,t)}function la(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Js(Math.trunc(r/60),2)+t+Js(r%60,2)}const ca=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ua=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},da={p:ua,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ca(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",ca(r,t)).replace("{{time}}",ua(i,t))}},ha=/^D+$/,fa=/^Y+$/,pa=["D","DD","YY","YYYY"];function ma(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ga(e){return!(!ma(e)&&"number"!==typeof e||isNaN(+Ls(e)))}const va=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ya=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ba=/^'([^]*?)'?$/,_a=/''/g,wa=/[a-zA-Z]/;function ka(e,t,n){var r,i,s,a,o,l,c,u,d,h,f,p,m,g;const v=Rs(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:As,b=null!==(s=null!==(a=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:v.firstWeekContainsDate)&&void 0!==a?a:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:1,_=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=Ls(e,null===n||void 0===n?void 0:n.in);if(!ga(w))throw new RangeError("Invalid time value");let k=t.match(ya).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,da[t])(e,y.formatLong)}return e}).join("").match(va).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:xa(e)};if(sa[t])return{isToken:!0,value:e};if(t.match(wa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(k=y.localize.preprocessor(w,k));const x={firstWeekContainsDate:b,weekStartsOn:_,locale:y};return k.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return fa.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return ha.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),pa.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,sa[i[0]])(w,i,y.localize,x)}).join("")}function xa(e){const t=e.match(ba);return t?t[1].replace(_a,"'"):e}const Ca={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yar\u0131m dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yakla\u015f\u0131k 1 saat",other:"yakla\u015f\u0131k {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 g\xfcn",other:"{{count}} g\xfcn"},aboutXWeeks:{one:"yakla\u015f\u0131k 1 hafta",other:"yakla\u015f\u0131k {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yakla\u015f\u0131k 1 ay",other:"yakla\u015f\u0131k {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yakla\u015f\u0131k 1 y\u0131l",other:"yakla\u015f\u0131k {{count}} y\u0131l"},xYears:{one:"1 y\u0131l",other:"{{count}} y\u0131l"},overXYears:{one:"1 y\u0131ldan fazla",other:"{{count}} y\u0131ldan fazla"},almostXYears:{one:"neredeyse 1 y\u0131l",other:"neredeyse {{count}} y\u0131l"}},Sa={date:Ss({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:Ss({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ss({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ea={lastWeek:"'ge\xe7en hafta' eeee 'saat' p",yesterday:"'d\xfcn saat' p",today:"'bug\xfcn saat' p",tomorrow:"'yar\u0131n saat' p",nextWeek:"eeee 'saat' p",other:"P"},Ta={code:"tr",formatDistance:(e,t,n)=>{let r;const i=Ca[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?r+" sonra":r+" \xf6nce":r},formatLong:Sa,formatRelative:(e,t,n,r)=>Ea[e],localize:{ordinalNumber:(e,t)=>Number(e)+".",era:Ns({values:{narrow:["M\xd6","MS"],abbreviated:["M\xd6","MS"],wide:["Milattan \xd6nce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:Ns({values:{narrow:["1","2","3","4"],abbreviated:["1\xc7","2\xc7","3\xc7","4\xc7"],wide:["\u0130lk \xe7eyrek","\u0130kinci \xc7eyrek","\xdc\xe7\xfcnc\xfc \xe7eyrek","Son \xe7eyrek"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ns({values:{narrow:["O","\u015e","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],wide:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]},defaultWidth:"wide"}),day:Ns({values:{narrow:["P","P","S","\xc7","P","C","C"],short:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:Ns({values:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"},wide:{am:"\xd6.\xd6.",pm:"\xd6.S.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"},wide:{am:"\xf6.\xf6.",pm:"\xf6.s.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Ps({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Is({matchPatterns:{narrow:/^(m\xf6|ms)/i,abbreviated:/^(m\xf6|ms)/i,wide:/^(milattan \xf6nce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^m\xf6|^milattan \xf6nce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:Is({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]\xe7/i,wide:/^((i|\u0130)lk|(i|\u0130)kinci|\xfc\xe7\xfcnc\xfc|son) \xe7eyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1\xe7/i,/2\xe7/i,/3\xe7/i,/4\xe7/i],wide:[/^(i|\u0130)lk \xe7eyrek/i,/(i|\u0130)kinci \xe7eyrek/i,/\xfc\xe7\xfcnc\xfc \xe7eyrek/i,/son \xe7eyrek/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Is({matchPatterns:{narrow:/^[o\u015fmnhtaek]/i,abbreviated:/^(oca|\u015fub|mar|nis|may|haz|tem|a\u011fu|eyl|eki|kas|ara)/i,wide:/^(ocak|\u015fubat|mart|nisan|may\u0131s|haziran|temmuz|a\u011fustos|eyl\xfcl|ekim|kas\u0131m|aral\u0131k)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^\u015f/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^\u015f/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a\u011f/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:Is({matchPatterns:{narrow:/^[ps\xe7c]/i,short:/^(pz|pt|sa|\xe7a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|\xe7ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal\u0131|\xe7ar\u015famba|per\u015fembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^\xe7/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^\xe7a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal\u0131/i,/^\xe7ar\u015famba/i,/^per\u015fembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:Is({matchPatterns:{narrow:/^(\xf6\xf6|\xf6s|gy|\xf6|sa|\xf6s|ak|ge)/i,any:/^(\xf6\.?\s?[\xf6s]\.?|\xf6\u011fleden sonra|gece yar\u0131s\u0131|\xf6\u011fle|(sabah|\xf6\u011f|ak\u015fam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\xf6\.?\xf6\.?/i,pm:/^\xf6\.?s\.?/i,midnight:/^(gy|gece yar\u0131s\u0131)/i,noon:/^\xf6\u011f/i,morning:/^sa/i,afternoon:/^\xf6\u011fleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},Na=e=>{var t;let{room:n,onViewProfile:i}=e;const{messages:s,sendMessage:a,deleteMessage:o,editMessage:l,currentUser:c,users:u,isAdmin:d,isMod:h,addReaction:f,removeReaction:p,setTyping:m}=Qi(),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(null),[_,w]=(0,r.useState)(!1),[k,x]=(0,r.useState)(null),[C,S]=(0,r.useState)(null),E=(0,r.useRef)(null),T=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[s]);const I=async e=>{var t;e.preventDefault(),g.trim()&&(m&&m(n.id,!1),N.current&&clearTimeout(N.current),y?(await l(n.id,y.id,g),b(null)):await a(n.id,g),v(""),null===(t=T.current)||void 0===t||t.focus())},P=async(e,t)=>{var r;switch(x(null),e){case"edit":b(t),v(t.text),null===(r=T.current)||void 0===r||r.focus();break;case"delete":window.confirm("Bu mesaj\u0131 silmek istedi\u011finize emin misiniz?")&&await o(n.id,t.id);break;case"copy":navigator.clipboard.writeText(t.text)}},A=e=>e.user===(null===c||void 0===c?void 0:c.username)||d()||h(),j=e=>{const t=["#5b9bd5","#6c63ff","#2ecc71","#f97316","#ec4899","#00bca0","#fbbf24","#e05555","#9b59b6","#1abc9c"];let n=0;for(let r=0;r<(e||"").length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]},R=e=>{if(!e)return"";const t=new Date(e),n=new Date,r=t.toDateString()===n.toDateString();return ka(t,r?"HH:mm":"dd MMM HH:mm",{locale:Ta})};Object.entries(u).filter(e=>{var t;let[r,i]=e;return"dm"!==n.type||(null===(t=n.members)||void 0===t?void 0:t[r])});return(0,Gi.jsxs)("div",{id:"deskChatArea","data-testid":"chat-area",children:[(0,Gi.jsxs)("div",{id:"deskChatHeader",children:[(0,Gi.jsx)("div",{id:"deskChatHdrIcon",style:{background:"dm"===n.type?j(n.name):"var(--surface2)"},children:"dm"===n.type?null===(t=n.name)||void 0===t?void 0:t.charAt(0).toUpperCase():n.private?"\ud83d\udd12":"#"}),(0,Gi.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Gi.jsx)("div",{id:"deskChatHdrName",children:n.name}),n.description&&(0,Gi.jsx)("div",{id:"deskChatHdrSub",children:n.description})]}),(0,Gi.jsxs)("div",{className:"dsk-hdr-actions",children:["dm"===n.type&&(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsx)("div",{className:"dsk-hdr-btn",title:"Sesli Ara","data-testid":"voice-call-btn",children:(0,Gi.jsx)(ps,{size:18})}),(0,Gi.jsx)("div",{className:"dsk-hdr-btn",title:"G\xf6r\xfcnt\xfcl\xfc Ara","data-testid":"video-call-btn",children:(0,Gi.jsx)(ms,{size:18})})]}),(0,Gi.jsx)("div",{className:"dsk-hdr-btn",title:"Ekran Payla\u015f","data-testid":"screen-share-btn",children:(0,Gi.jsx)(gs,{size:18})}),(0,Gi.jsx)("div",{className:"dsk-hdr-btn ".concat(_?"active":""),onClick:()=>w(!_),title:"\xdcyeler","data-testid":"toggle-members-btn",children:(0,Gi.jsx)(vs,{size:18})})]})]}),(0,Gi.jsxs)("div",{id:"deskMsgs","data-testid":"chat-messages",children:[0===s.length?(0,Gi.jsxs)("div",{className:"empty-chat",children:[(0,Gi.jsx)("div",{className:"empty-ic",children:"\ud83d\udcac"}),(0,Gi.jsx)("div",{className:"empty-title",children:"Hen\xfcz mesaj yok"}),(0,Gi.jsx)("div",{className:"empty-sub",children:"\u0130lk mesaj\u0131 g\xf6ndererek sohbeti ba\u015flat!"})]}):s.map((e,t)=>{var r,a;const o=s[t-1],l=!o||o.user!==e.user||(e.ts||0)-(o.ts||0)>3e5,d=(null===(r=u[e.user])||void 0===r?void 0:r.color)||j(e.user),h=e.user===(null===c||void 0===c?void 0:c.username);return(0,Gi.jsxs)("div",{className:"mb ".concat(h?"own":""," ").concat(l?"first":""),"data-testid":"message-".concat(e.id),onContextMenu:t=>{t.preventDefault(),A(e)&&x({x:t.clientX,y:t.clientY,message:e})},children:[l&&!h&&(0,Gi.jsx)("div",{className:"av",style:{background:d},onClick:()=>i(e.user),children:null===(a=e.user)||void 0===a?void 0:a.charAt(0).toUpperCase()}),!l&&!h&&(0,Gi.jsx)("div",{className:"av ghost"}),(0,Gi.jsxs)("div",{className:"mb-body",children:[l&&(0,Gi.jsxs)("div",{className:"mb-meta",children:[(0,Gi.jsx)("span",{className:"mb-name",style:{color:h?"var(--blue)":d},onClick:()=>i(e.user)}),(0,Gi.jsx)("span",{className:"mb-ts",children:R(e.ts)}),e.edited&&(0,Gi.jsx)("span",{className:"mb-ts",children:" (d\xfczenlendi)"})]}),(0,Gi.jsx)("div",{className:h?"ob":"mb-text",children:e.text}),(0,Gi.jsxs)("div",{className:"msg-reactions",children:[(0,Gi.jsx)("button",{className:"reaction-btn",onClick:()=>S(C===e.id?null:e.id),title:"Tepki ekle",children:(0,Gi.jsx)(ys,{size:14})}),C===e.id&&(0,Gi.jsx)("div",{className:"emoji-picker",children:["\u2764\ufe0f","\ud83d\udc4d","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\udd25"].map(t=>(0,Gi.jsx)("button",{onClick:()=>(async(e,t)=>{f&&await f(n.id,e,t),S(null)})(e.id,t),className:"emoji-option",children:t},t))}),e.reactions&&Object.keys(e.reactions).length>0&&(0,Gi.jsx)("div",{className:"reactions-display",children:Object.entries(e.reactions).map(e=>{let[t,n]=e;return(0,Gi.jsx)("span",{className:"reaction-badge",title:t,children:n},t)})})]})]}),A(e)&&(0,Gi.jsx)("div",{className:"mb-more-btn",style:{display:"none"},children:(0,Gi.jsx)(bs,{size:14})})]},e.id)}),(0,Gi.jsx)("div",{ref:E})]}),(0,Gi.jsx)("div",{id:"deskInputArea",children:(0,Gi.jsxs)("form",{id:"deskInputBox",onSubmit:I,children:[(0,Gi.jsx)("button",{type:"button",className:"dsk-inp-btn",title:"Emoji",children:(0,Gi.jsx)(ys,{size:18})}),(0,Gi.jsx)("button",{type:"button",className:"dsk-inp-btn",title:"Dosya",children:(0,Gi.jsx)(_s,{size:18})}),(0,Gi.jsx)("textarea",{ref:T,id:"deskInp",value:g,onChange:e=>{v(e.target.value),m&&e.target.value.length>0&&(m(n.id,!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{m(n.id,!1)},3e3))},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I(e))},placeholder:"Mesaj yaz...","data-testid":"chat-input",rows:1}),(0,Gi.jsx)("button",{type:"submit",id:"deskSendBtn",disabled:!g.trim(),"data-testid":"send-message-btn",children:"\u27a4"})]})}),k&&(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsx)("div",{style:{position:"fixed",inset:0,zIndex:998},onClick:()=>x(null)}),(0,Gi.jsxs)("div",{id:"msgCtxMenu",className:"show",style:{position:"fixed",left:k.x,top:k.y,background:"var(--surface2)",border:"1px solid var(--border)",borderRadius:"8px",padding:"4px",zIndex:999,boxShadow:"0 8px 24px rgba(0,0,0,.4)"},children:[(0,Gi.jsxs)("div",{className:"ctx-item",onClick:()=>P("copy",k.message),children:[(0,Gi.jsx)(ws,{size:14})," Kopyala"]}),k.message.user===(null===c||void 0===c?void 0:c.username)&&(0,Gi.jsxs)("div",{className:"ctx-item",onClick:()=>P("edit",k.message),children:[(0,Gi.jsx)(ks,{size:14})," D\xfczenle"]}),(0,Gi.jsxs)("div",{className:"ctx-item danger",onClick:()=>P("delete",k.message),children:[(0,Gi.jsx)(xs,{size:14})," Sil"]})]})]})]})},Ia=as("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Pa=as("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Aa=as("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ja=as("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Ra=as("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oa=as("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Da=as("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ma=as("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),La=as("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),za=as("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fa=as("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ua=as("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Wa=as("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Ha=as("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),qa=as("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Va=()=>{const{users:e,rooms:t,serverSettings:n,isAdmin:i,banUser:a,unbanUser:o,setUserRole:l,createInviteCode:c,updateServerSettings:u,createRoom:d,deleteRoom:h,updateRoom:f,forumPosts:p,messages:m,currentServer:g,deleteAllMessages:v,clearRoomMessages:y,deleteUser:b,getStatistics:_,backupData:w}=Qi(),[k,x]=(0,r.useState)("users"),[C,S]=(0,r.useState)(""),[E,T]=(0,r.useState)(!1),[N,I]=(0,r.useState)({name:"",description:"",type:"channel",private:!1}),[P,A]=(0,r.useState)(null),[j,R]=(0,r.useState)(!1),[O,D]=(0,r.useState)("");if(!i())return(0,Gi.jsxs)("div",{className:"admin-panel unauthorized","data-testid":"admin-unauthorized",children:[(0,Gi.jsx)("div",{className:"unauthorized-icon",children:"\ud83d\udeab"}),(0,Gi.jsx)("h2",{children:"Yetkisiz Eri\u015fim"}),(0,Gi.jsx)("p",{children:"Bu panele eri\u015fmek i\xe7in admin yetkiniz olmal\u0131d\u0131r."})]});const M=e=>{D(e),setTimeout(()=>D(""),3e3)},L=async e=>{R(!0);try{await u({[e]:!(null!==n&&void 0!==n&&n[e])}),M("Ayar g\xfcncellendi")}catch(t){M("Hata: "+t.message)}R(!1)},z=async e=>{if(e.preventDefault(),P){R(!0);try{await f(P.id,{name:P.name,description:P.description,private:P.private}),A(null),M("Oda g\xfcncellendi")}catch(t){M("Hata: "+t.message)}R(!1)}},F=_?_():{},U=Object.entries(e),W=(Object.keys(m||{}).length,null===p||void 0===p||p.length,U.filter(e=>{let[t,n]=e;return n.online}).length),H=U.filter(e=>{let[t,n]=e;return n.banned}).length;return(0,Gi.jsxs)("div",{className:"admin-panel","data-testid":"admin-panel",children:[(0,Gi.jsxs)("div",{className:"admin-header",children:[(0,Gi.jsxs)("h2",{children:[(0,Gi.jsx)(Ia,{size:24})," Admin Paneli"]}),(0,Gi.jsx)("span",{className:"server-badge",children:g})]}),O&&(0,Gi.jsx)("div",{className:"admin-feedback","data-testid":"admin-feedback",children:O}),(0,Gi.jsxs)("div",{className:"admin-stats",children:[(0,Gi.jsxs)("div",{className:"stat-card",children:[(0,Gi.jsx)(vs,{size:20}),(0,Gi.jsxs)("div",{className:"stat-info",children:[(0,Gi.jsx)("span",{className:"stat-value",children:U.length}),(0,Gi.jsx)("span",{className:"stat-label",children:"Toplam \xdcye"})]})]}),(0,Gi.jsxs)("div",{className:"stat-card",children:[(0,Gi.jsx)(Pa,{size:20}),(0,Gi.jsxs)("div",{className:"stat-info",children:[(0,Gi.jsx)("span",{className:"stat-value",children:W}),(0,Gi.jsx)("span",{className:"stat-label",children:"\xc7evrimii\xe7i"})]})]}),(0,Gi.jsxs)("div",{className:"stat-card",children:[(0,Gi.jsx)(Aa,{size:20}),(0,Gi.jsxs)("div",{className:"stat-info",children:[(0,Gi.jsx)("span",{className:"stat-value",children:t.length}),(0,Gi.jsx)("span",{className:"stat-label",children:"Oda"})]})]}),(0,Gi.jsxs)("div",{className:"stat-card",children:[(0,Gi.jsx)(ja,{size:20}),(0,Gi.jsxs)("div",{className:"stat-info",children:[(0,Gi.jsx)("span",{className:"stat-value",children:H}),(0,Gi.jsx)("span",{className:"stat-label",children:"Banl\u0131"})]})]})]}),(0,Gi.jsxs)("div",{className:"admin-tabs",children:[(0,Gi.jsxs)("button",{className:"admin-tab ".concat("users"===k?"active":""),onClick:()=>x("users"),"data-testid":"admin-tab-users",children:[(0,Gi.jsx)(vs,{size:16})," Kullan\u0131c\u0131lar"]}),(0,Gi.jsxs)("button",{className:"admin-tab ".concat("rooms"===k?"active":""),onClick:()=>x("rooms"),"data-testid":"admin-tab-rooms",children:[(0,Gi.jsx)(Aa,{size:16})," Odalar"]}),(0,Gi.jsxs)("button",{className:"admin-tab ".concat("settings"===k?"active":""),onClick:()=>x("settings"),"data-testid":"admin-tab-settings",children:[(0,Gi.jsx)(Ra,{size:16})," Ayarlar"]}),(0,Gi.jsxs)("button",{className:"admin-tab ".concat("invites"===k?"active":""),onClick:()=>x("invites"),"data-testid":"admin-tab-invites",children:[(0,Gi.jsx)(Oa,{size:16})," Davet Kodlar\u0131"]}),(0,Gi.jsxs)("button",{className:"admin-tab ".concat("data"===k?"active":""),onClick:()=>x("data"),"data-testid":"admin-tab-data",children:[(0,Gi.jsx)(Da,{size:16})," Veri Y\xf6netimi"]})]}),(0,Gi.jsxs)("div",{className:"admin-content",children:["users"===k&&(0,Gi.jsxs)("div",{className:"admin-users","data-testid":"admin-users-section",children:[(0,Gi.jsxs)("div",{className:"section-header",children:[(0,Gi.jsx)("h3",{children:"Kullan\u0131c\u0131 Y\xf6netimi"}),(0,Gi.jsxs)("span",{className:"count",children:[U.length," kullan\u0131c\u0131"]})]}),(0,Gi.jsx)("div",{className:"users-list",children:U.map(e=>{var t;let[n,r]=e;return(0,Gi.jsxs)("div",{className:"user-row ".concat(r.banned?"banned":""),"data-testid":"user-row-".concat(n),children:[(0,Gi.jsxs)("div",{className:"user-avatar",style:{background:r.color||"#5b9bd5"},children:[null===(t=r.username)||void 0===t?void 0:t.charAt(0).toUpperCase(),(0,Gi.jsx)("div",{className:"status ".concat(r.online?"online":"offline")})]}),(0,Gi.jsxs)("div",{className:"user-info",children:[(0,Gi.jsxs)("span",{className:"user-name",children:[r.username,"admin"===r.role&&(0,Gi.jsx)("span",{className:"role-badge admin",children:"\u2b50 Admin"}),"mod"===r.role&&(0,Gi.jsx)("span",{className:"role-badge mod",children:"\ud83d\udee1\ufe0f Mod"}),r.banned&&(0,Gi.jsx)("span",{className:"role-badge banned",children:"\ud83d\udeab Banl\u0131"})]}),(0,Gi.jsx)("span",{className:"user-email",children:r.email})]}),(0,Gi.jsxs)("div",{className:"user-actions",children:[(0,Gi.jsxs)("select",{value:r.role||"member",onChange:e=>(async(e,t,n)=>{R(!0);try{await l(e,t),M("".concat(n," rol\xfc ").concat(t," olarak g\xfcncellendi"))}catch(r){M("Hata: "+r.message)}R(!1)})(n,e.target.value,r.username),disabled:j,className:"role-select","data-testid":"role-select-".concat(n),children:[(0,Gi.jsx)("option",{value:"member",children:"\xdcye"}),(0,Gi.jsx)("option",{value:"mod",children:"Mod"}),(0,Gi.jsx)("option",{value:"admin",children:"Admin"})]}),r.banned?(0,Gi.jsxs)("button",{className:"action-btn unban",onClick:()=>(async(e,t)=>{R(!0);try{await o(e),M("".concat(t," ban\u0131 kald\u0131r\u0131ld\u0131"))}catch(n){M("Hata: "+n.message)}R(!1)})(n,r.username),disabled:j,"data-testid":"unban-btn-".concat(n),children:[(0,Gi.jsx)(Ma,{size:14})," Ban Kald\u0131r"]}):(0,Gi.jsxs)("button",{className:"action-btn ban",onClick:()=>(async(e,t)=>{if(window.confirm("".concat(t," kullan\u0131c\u0131s\u0131n\u0131 banlamak istedi\u011finize emin misiniz?"))){R(!0);try{await a(e,"Admin taraf\u0131ndan banland\u0131"),M("".concat(t," banland\u0131"))}catch(n){M("Hata: "+n.message)}R(!1)}})(n,r.username),disabled:j,"data-testid":"ban-btn-".concat(n),children:[(0,Gi.jsx)(ja,{size:14})," Banla"]})]})]},n)})})]}),"rooms"===k&&(0,Gi.jsxs)("div",{className:"admin-rooms","data-testid":"admin-rooms-section",children:[(0,Gi.jsxs)("div",{className:"section-header",children:[(0,Gi.jsx)("h3",{children:"Oda Y\xf6netimi"}),(0,Gi.jsxs)("button",{className:"create-btn",onClick:()=>T(!0),"data-testid":"create-room-btn",children:[(0,Gi.jsx)(La,{size:16})," Yeni Oda"]})]}),E&&(0,Gi.jsxs)("form",{className:"room-form",onSubmit:async e=>{if(e.preventDefault(),N.name.trim()){R(!0);try{await d(N),I({name:"",description:"",type:"channel",private:!1}),T(!1),M("Oda olu\u015fturuldu")}catch(t){M("Hata: "+t.message)}R(!1)}},"data-testid":"create-room-form",children:[(0,Gi.jsx)("h4",{children:"Yeni Oda Olu\u015ftur"}),(0,Gi.jsxs)("div",{className:"form-group",children:[(0,Gi.jsx)("label",{children:"Oda Ad\u0131"}),(0,Gi.jsx)("input",{type:"text",value:N.name,onChange:e=>I((0,s.A)((0,s.A)({},N),{},{name:e.target.value})),placeholder:"Oda ad\u0131...","data-testid":"room-name-input"})]}),(0,Gi.jsxs)("div",{className:"form-group",children:[(0,Gi.jsx)("label",{children:"A\xe7\u0131klama"}),(0,Gi.jsx)("input",{type:"text",value:N.description,onChange:e=>I((0,s.A)((0,s.A)({},N),{},{description:e.target.value})),placeholder:"Oda a\xe7\u0131klamas\u0131...","data-testid":"room-description-input"})]}),(0,Gi.jsxs)("div",{className:"form-group",children:[(0,Gi.jsx)("label",{children:"T\xfcr"}),(0,Gi.jsxs)("select",{value:N.type,onChange:e=>I((0,s.A)((0,s.A)({},N),{},{type:e.target.value})),"data-testid":"room-type-select",children:[(0,Gi.jsx)("option",{value:"channel",children:"Kanal"}),(0,Gi.jsx)("option",{value:"group",children:"Grup"})]})]}),(0,Gi.jsx)("div",{className:"form-group checkbox",children:(0,Gi.jsxs)("label",{children:[(0,Gi.jsx)("input",{type:"checkbox",checked:N.private,onChange:e=>I((0,s.A)((0,s.A)({},N),{},{private:e.target.checked})),"data-testid":"room-private-checkbox"}),"\xd6zel Oda"]})}),(0,Gi.jsxs)("div",{className:"form-actions",children:[(0,Gi.jsxs)("button",{type:"button",className:"cancel-btn",onClick:()=>T(!1),children:[(0,Gi.jsx)(za,{size:14})," \u0130ptal"]}),(0,Gi.jsxs)("button",{type:"submit",className:"submit-btn",disabled:j,children:[(0,Gi.jsx)(Fa,{size:14})," Olu\u015ftur"]})]})]}),(0,Gi.jsxs)("div",{className:"rooms-list",children:[t.map(e=>(0,Gi.jsx)("div",{className:"room-row","data-testid":"room-row-".concat(e.id),children:(null===P||void 0===P?void 0:P.id)===e.id?(0,Gi.jsxs)("form",{className:"room-edit-form",onSubmit:z,children:[(0,Gi.jsx)("input",{type:"text",value:P.name,onChange:e=>A((0,s.A)((0,s.A)({},P),{},{name:e.target.value})),"data-testid":"edit-room-name-input"}),(0,Gi.jsx)("input",{type:"text",value:P.description||"",onChange:e=>A((0,s.A)((0,s.A)({},P),{},{description:e.target.value})),placeholder:"A\xe7\u0131klama..."}),(0,Gi.jsx)("button",{type:"submit",disabled:j,children:(0,Gi.jsx)(Fa,{size:14})}),(0,Gi.jsx)("button",{type:"button",onClick:()=>A(null),children:(0,Gi.jsx)(za,{size:14})})]}):(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsxs)("div",{className:"room-info",children:[(0,Gi.jsx)("span",{className:"room-icon",children:"group"===e.type?"\ud83d\udc65":e.private?"\ud83d\udd12":"#"}),(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("span",{className:"room-name",children:e.name}),e.description&&(0,Gi.jsx)("span",{className:"room-desc",children:e.description})]})]}),(0,Gi.jsxs)("div",{className:"room-actions",children:[(0,Gi.jsx)("button",{className:"edit-btn",onClick:()=>A(e),"data-testid":"edit-room-btn-".concat(e.id),children:(0,Gi.jsx)(ks,{size:14})}),(0,Gi.jsx)("button",{className:"delete-btn",onClick:()=>(async(e,t)=>{if(window.confirm("".concat(t," odas\u0131n\u0131 silmek istedi\u011finize emin misiniz?"))){R(!0);try{await h(e),M("Oda silindi")}catch(n){M("Hata: "+n.message)}R(!1)}})(e.id,e.name),"data-testid":"delete-room-btn-".concat(e.id),children:(0,Gi.jsx)(xs,{size:14})})]})]})},e.id)),0===t.length&&(0,Gi.jsx)("div",{className:"no-rooms",children:"Hen\xfcz oda yok"})]})]}),"settings"===k&&(0,Gi.jsxs)("div",{className:"admin-settings","data-testid":"admin-settings-section",children:[(0,Gi.jsx)("div",{className:"section-header",children:(0,Gi.jsx)("h3",{children:"Sunucu Ayarlar\u0131"})}),(0,Gi.jsxs)("div",{className:"settings-list",children:[(0,Gi.jsxs)("div",{className:"setting-row",children:[(0,Gi.jsxs)("div",{className:"setting-info",children:[(0,Gi.jsx)("span",{className:"setting-name",children:"Kay\u0131t A\xe7\u0131k"}),(0,Gi.jsx)("span",{className:"setting-desc",children:"Yeni kullan\u0131c\u0131lar kay\u0131t olabilir"})]}),(0,Gi.jsx)("button",{className:"toggle-btn ".concat(null!==n&&void 0!==n&&n.registrationOpen?"on":"off"),onClick:()=>L("registrationOpen"),disabled:j,"data-testid":"toggle-registration",children:null!==n&&void 0!==n&&n.registrationOpen?(0,Gi.jsx)(Ua,{size:28}):(0,Gi.jsx)(Wa,{size:28})})]}),(0,Gi.jsxs)("div",{className:"setting-row",children:[(0,Gi.jsxs)("div",{className:"setting-info",children:[(0,Gi.jsx)("span",{className:"setting-name",children:"Davet Kodu Gerekli"}),(0,Gi.jsx)("span",{className:"setting-desc",children:"Kay\u0131t i\xe7in davet kodu zorunlu"})]}),(0,Gi.jsx)("button",{className:"toggle-btn ".concat(null!==n&&void 0!==n&&n.requireInviteCode?"on":"off"),onClick:()=>L("requireInviteCode"),disabled:j,"data-testid":"toggle-invite-required",children:null!==n&&void 0!==n&&n.requireInviteCode?(0,Gi.jsx)(Ua,{size:28}):(0,Gi.jsx)(Wa,{size:28})})]}),(0,Gi.jsxs)("div",{className:"setting-row",children:[(0,Gi.jsxs)("div",{className:"setting-info",children:[(0,Gi.jsx)("span",{className:"setting-name",children:"Bak\u0131m Modu"}),(0,Gi.jsx)("span",{className:"setting-desc",children:"Sadece adminler eri\u015febilir"})]}),(0,Gi.jsx)("button",{className:"toggle-btn ".concat(null!==n&&void 0!==n&&n.maintenanceMode?"on":"off"),onClick:()=>L("maintenanceMode"),disabled:j,"data-testid":"toggle-maintenance",children:null!==n&&void 0!==n&&n.maintenanceMode?(0,Gi.jsx)(Ua,{size:28}):(0,Gi.jsx)(Wa,{size:28})})]})]})]}),"invites"===k&&(0,Gi.jsxs)("div",{className:"admin-invites","data-testid":"admin-invites-section",children:[(0,Gi.jsx)("div",{className:"section-header",children:(0,Gi.jsx)("h3",{children:"Davet Kodlar\u0131"})}),(0,Gi.jsxs)("div",{className:"invite-generator",children:[(0,Gi.jsx)("p",{children:"Yeni kullan\u0131c\u0131lar\u0131 davet etmek i\xe7in tek kullan\u0131ml\u0131k kod olu\u015fturun."}),(0,Gi.jsxs)("button",{className:"generate-btn",onClick:async()=>{R(!0);try{const e=await c();S(e),M("Davet kodu olu\u015fturuldu")}catch(e){M("Hata: "+e.message)}R(!1)},disabled:j,"data-testid":"generate-invite-btn",children:[(0,Gi.jsx)(Oa,{size:16})," Davet Kodu Olu\u015ftur"]}),C&&(0,Gi.jsxs)("div",{className:"generated-code","data-testid":"generated-invite-code",children:[(0,Gi.jsx)("span",{className:"code",children:C}),(0,Gi.jsx)("button",{className:"copy-btn",onClick:()=>{navigator.clipboard.writeText(C),M("Kod kopyaland\u0131")},children:"Kopyala"})]})]})]}),"data"===k&&(0,Gi.jsxs)("div",{className:"admin-data","data-testid":"admin-data-section",children:[(0,Gi.jsx)("div",{className:"section-header",children:(0,Gi.jsx)("h3",{children:"Veri Y\xf6netimi"})}),(0,Gi.jsxs)("div",{className:"data-stats",children:[(0,Gi.jsxs)("div",{className:"stat-box",children:[(0,Gi.jsx)(vs,{size:24}),(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("div",{className:"stat-number",children:F.totalUsers||0}),(0,Gi.jsx)("div",{className:"stat-label",children:"Toplam Kullan\u0131c\u0131"})]})]}),(0,Gi.jsxs)("div",{className:"stat-box",children:[(0,Gi.jsx)(Pa,{size:24}),(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("div",{className:"stat-number",children:F.onlineUsers||0}),(0,Gi.jsx)("div",{className:"stat-label",children:"\xc7evrimi\xe7i"})]})]}),(0,Gi.jsxs)("div",{className:"stat-box",children:[(0,Gi.jsx)(Aa,{size:24}),(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("div",{className:"stat-number",children:F.totalRooms||0}),(0,Gi.jsx)("div",{className:"stat-label",children:"Oda"})]})]}),(0,Gi.jsxs)("div",{className:"stat-box",children:[(0,Gi.jsx)(Ha,{size:24}),(0,Gi.jsxs)("div",{children:[(0,Gi.jsx)("div",{className:"stat-number",children:F.totalMessages||0}),(0,Gi.jsx)("div",{className:"stat-label",children:"Mesaj"})]})]})]}),(0,Gi.jsxs)("div",{className:"danger-zone",children:[(0,Gi.jsx)("h4",{children:"\ud83d\udea8 Tehlikeli \u0130\u015flemler"}),(0,Gi.jsx)("p",{className:"warning-text",children:"A\u015fa\u011f\u0131daki i\u015flemler geri al\u0131namaz! Dikkatli olun."}),(0,Gi.jsxs)("div",{className:"danger-actions",children:[(0,Gi.jsxs)("button",{className:"danger-btn",onClick:async()=>{if(window.confirm("\u26a0\ufe0f T\xdcM MESAJLARI silmek istedi\u011finize emin misiniz? Bu i\u015flem GER\u0130 ALINAMAZ!")&&window.confirm("Son uyar\u0131! Bu i\u015flem t\xfcm sunucu mesajlar\u0131n\u0131 kal\u0131c\u0131 olarak silecek. Devam edilsin mi?")){R(!0);try{await v(),M("\u2705 T\xfcm mesajlar silindi")}catch(e){M("\u274c Hata: "+e.message)}R(!1)}},disabled:j,children:[(0,Gi.jsx)(xs,{size:18}),"T\xdcM MESAJLARI S\u0130L"]}),(0,Gi.jsxs)("button",{className:"danger-btn",onClick:async()=>{R(!0);try{await w(),M("\u2705 Yedek olu\u015fturuldu ve indirildi")}catch(e){M("\u274c Hata: "+e.message)}R(!1)},disabled:j,children:[(0,Gi.jsx)(qa,{size:18}),"YEDEK OLU\u015eTUR"]})]})]}),(0,Gi.jsxs)("div",{className:"room-actions",children:[(0,Gi.jsx)("h4",{children:"Oda Mesaj Y\xf6netimi"}),(0,Gi.jsx)("div",{className:"room-list",children:t.map(e=>{const t=m[e.id]?Object.keys(m[e.id]).length:0;return(0,Gi.jsxs)("div",{className:"room-action-row",children:[(0,Gi.jsxs)("div",{className:"room-info",children:[(0,Gi.jsx)("span",{className:"room-name",children:e.name}),(0,Gi.jsxs)("span",{className:"room-msg-count",children:[t," mesaj"]})]}),(0,Gi.jsxs)("button",{className:"mini-danger-btn",onClick:()=>(async(e,t)=>{if(window.confirm("".concat(t," odas\u0131ndaki t\xfcm mesajlar\u0131 silmek istedi\u011finize emin misiniz?"))){R(!0);try{await y(e),M("\u2705 ".concat(t," mesajlar\u0131 temizlendi"))}catch(n){M("\u274c Hata: "+n.message)}R(!1)}})(e.id,e.name),disabled:j||0===t,children:[(0,Gi.jsx)(xs,{size:14}),"Temizle"]})]},e.id)})})]}),(0,Gi.jsxs)("div",{className:"user-deletion",children:[(0,Gi.jsx)("h4",{children:"Kullan\u0131c\u0131 Silme"}),(0,Gi.jsx)("p",{className:"warning-text",children:"Kullan\u0131c\u0131 kal\u0131c\u0131 olarak silinir!"}),(0,Gi.jsx)("div",{className:"user-delete-list",children:Object.entries(e).map(e=>{var t;let[n,r]=e;return(0,Gi.jsxs)("div",{className:"user-delete-row",children:[(0,Gi.jsxs)("div",{className:"user-info-mini",children:[(0,Gi.jsx)("div",{className:"mini-avatar",style:{background:r.color||"#5b9bd5"},children:null===(t=r.username)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsx)("span",{children:r.username}),r.isAdmin&&(0,Gi.jsx)("span",{className:"admin-badge-mini",children:"Admin"})]}),(0,Gi.jsx)("button",{className:"mini-danger-btn",onClick:()=>(async(e,t)=>{if(window.confirm("".concat(t," kullan\u0131c\u0131s\u0131n\u0131 KALICI OLARAK silmek istedi\u011finize emin misiniz?"))){R(!0);try{await b(e),M("\u2705 ".concat(t," silindi"))}catch(n){M("\u274c Hata: "+n.message)}R(!1)}})(n,r.username),disabled:j||r.isAdmin,title:r.isAdmin?"Admin silinemez":"Kullan\u0131c\u0131y\u0131 sil",children:(0,Gi.jsx)(xs,{size:14})})]},n)})})]})]})]})]})},Ba=as("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ka=as("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ya=as("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ga=as("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),$a=e=>{var t;let{onViewProfile:n}=e;const{forumPosts:i,createForumPost:a,likeForumPost:o,commentOnPost:l,currentUser:c,isAdmin:u}=Qi(),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),b=async e=>{m.trim()&&(await l(e,m),g(""))},_=e=>e?ka(new Date(e),"dd MMM yyyy HH:mm",{locale:Ta}):"",w=e=>e&&(null===c||void 0===c?void 0:c.id)&&e[c.id],k=e=>e?Object.entries(e).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)}):[];return(0,Gi.jsxs)("div",{className:"forum-panel","data-testid":"forum-panel",children:[(0,Gi.jsx)("div",{className:"forum-header",children:(0,Gi.jsx)("h2",{children:"\ud83d\udccb Forum"})}),(0,Gi.jsxs)("div",{className:"forum-new-post",children:[(0,Gi.jsx)("div",{className:"post-avatar",style:{background:(null===c||void 0===c?void 0:c.color)||"#5b9bd5"},children:null===c||void 0===c||null===(t=c.username)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsxs)("form",{className:"post-form",onSubmit:async e=>{if(e.preventDefault(),d.trim()){y(!0);try{await a({content:d}),h("")}catch(t){console.error(t)}y(!1)}},children:[(0,Gi.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Ne d\xfc\u015f\xfcn\xfcyorsun?",rows:3,"data-testid":"forum-post-input"}),(0,Gi.jsxs)("div",{className:"post-form-actions",children:[(0,Gi.jsx)("button",{type:"button",className:"attach-btn",title:"Resim Ekle",children:(0,Gi.jsx)(Ba,{size:18})}),(0,Gi.jsxs)("button",{type:"submit",className:"submit-btn",disabled:!d.trim()||v,"data-testid":"forum-post-submit",children:[(0,Gi.jsx)(Ka,{size:16})," Payla\u015f"]})]})]})]}),(0,Gi.jsx)("div",{className:"forum-posts","data-testid":"forum-posts",children:0===i.length?(0,Gi.jsxs)("div",{className:"no-posts",children:[(0,Gi.jsx)("div",{className:"no-posts-icon",children:"\ud83d\udccb"}),(0,Gi.jsx)("h3",{children:"Hen\xfcz g\xf6nderi yok"}),(0,Gi.jsx)("p",{children:"\u0130lk g\xf6nderiyi payla\u015fan sen ol!"})]}):i.map(e=>{var t,r;return(0,Gi.jsxs)("div",{className:"forum-post","data-testid":"forum-post-".concat(e.id),children:[(0,Gi.jsxs)("div",{className:"post-header",children:[(0,Gi.jsx)("div",{className:"post-avatar",style:{background:e.authorColor||"#5b9bd5"},onClick:()=>n(e.authorId),children:null===(t=e.authorName)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsxs)("div",{className:"post-meta",children:[(0,Gi.jsx)("span",{className:"post-author",style:{color:e.authorColor},onClick:()=>n(e.authorId),children:e.authorName}),(0,Gi.jsx)("span",{className:"post-time",children:_(e.timestamp)})]}),(e.authorId===(null===c||void 0===c?void 0:c.id)||u())&&(0,Gi.jsx)("button",{className:"post-menu-btn",children:(0,Gi.jsx)(bs,{size:16})})]}),(0,Gi.jsx)("div",{className:"post-content",children:e.content}),e.image&&(0,Gi.jsx)("div",{className:"post-image",children:(0,Gi.jsx)("img",{src:e.image,alt:"Post"})}),(0,Gi.jsxs)("div",{className:"post-actions",children:[(0,Gi.jsxs)("button",{className:"action-btn like ".concat(w(e.likes)?"liked":""),onClick:()=>(async e=>{await o(e)})(e.id),"data-testid":"like-btn-".concat(e.id),children:[(0,Gi.jsx)(Ya,{size:16,fill:w(e.likes)?"currentColor":"none"}),(0,Gi.jsx)("span",{children:(r=e.likes,r?Object.keys(r).length:0)})]}),(0,Gi.jsxs)("button",{className:"action-btn comment",onClick:()=>p(f===e.id?null:e.id),"data-testid":"comment-btn-".concat(e.id),children:[(0,Gi.jsx)(Ga,{size:16}),(0,Gi.jsx)("span",{children:k(e.comments).length})]})]}),f===e.id&&(0,Gi.jsxs)("div",{className:"post-comments",children:[k(e.comments).map(e=>{var t;return(0,Gi.jsxs)("div",{className:"comment",children:[(0,Gi.jsx)("div",{className:"comment-avatar",style:{background:e.authorColor||"#5b9bd5"},onClick:()=>n(e.authorId),children:null===(t=e.authorName)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsxs)("div",{className:"comment-content",children:[(0,Gi.jsx)("span",{className:"comment-author",style:{color:e.authorColor},children:e.authorName}),(0,Gi.jsx)("span",{className:"comment-text",children:e.content}),(0,Gi.jsx)("span",{className:"comment-time",children:_(e.timestamp)})]})]},e.id)}),(0,Gi.jsxs)("div",{className:"comment-form",children:[(0,Gi.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Yorum yaz...",onKeyPress:t=>"Enter"===t.key&&b(e.id),"data-testid":"comment-input-".concat(e.id)}),(0,Gi.jsx)("button",{onClick:()=>b(e.id),disabled:!m.trim(),children:(0,Gi.jsx)(Ka,{size:14})})]})]})]},e.id)})})]})},Qa=as("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ja=as("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Za=e=>{let{onViewProfile:t}=e;const{friends:n,friendRequests:i,users:a,currentUser:o,sendFriendRequest:l,acceptFriendRequest:c,rejectFriendRequest:u}=Qi(),[d,h]=(0,r.useState)("friends"),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),b=e=>a[e]||{};return(0,Gi.jsxs)("div",{className:"friends-panel","data-testid":"friends-panel",children:[(0,Gi.jsx)("div",{className:"friends-header",children:(0,Gi.jsx)("h2",{children:"\ud83d\udc65 Arkada\u015flar"})}),(0,Gi.jsxs)("div",{className:"friends-tabs",children:[(0,Gi.jsxs)("button",{className:"friends-tab ".concat("friends"===d?"active":""),onClick:()=>h("friends"),"data-testid":"friends-tab-all",children:["T\xfcm Arkada\u015flar",(0,Gi.jsx)("span",{className:"count",children:n.length})]}),(0,Gi.jsxs)("button",{className:"friends-tab ".concat("requests"===d?"active":""),onClick:()=>h("requests"),"data-testid":"friends-tab-requests",children:["\u0130stekler",i.length>0&&(0,Gi.jsx)("span",{className:"count highlight",children:i.length})]}),(0,Gi.jsx)("button",{className:"friends-tab ".concat("add"===d?"active":""),onClick:()=>h("add"),"data-testid":"friends-tab-add",children:"Arkada\u015f Ekle"})]}),(0,Gi.jsxs)("div",{className:"friends-content",children:["friends"===d&&(0,Gi.jsx)("div",{className:"friends-list","data-testid":"friends-list",children:0===n.length?(0,Gi.jsxs)("div",{className:"no-friends",children:[(0,Gi.jsx)("div",{className:"no-friends-icon",children:"\ud83d\udc65"}),(0,Gi.jsx)("h3",{children:"Hen\xfcz arkada\u015f\u0131n yok"}),(0,Gi.jsx)("p",{children:"Arkada\u015f ekle sekmesinden yeni arkada\u015flar bul!"})]}):n.map(e=>{var n;const r=b(e.id);return(0,Gi.jsxs)("div",{className:"friend-item","data-testid":"friend-".concat(e.id),children:[(0,Gi.jsxs)("div",{className:"friend-avatar",style:{background:r.color||"#5b9bd5"},onClick:()=>t(e.id),children:[null===(n=r.username)||void 0===n?void 0:n.charAt(0).toUpperCase(),(0,Gi.jsx)("div",{className:"status ".concat(r.online?"online":"offline")})]}),(0,Gi.jsxs)("div",{className:"friend-info",onClick:()=>t(e.id),children:[(0,Gi.jsx)("span",{className:"friend-name",children:r.username}),(0,Gi.jsx)("span",{className:"friend-status",children:r.online?"\xc7evrimii\xe7i":"\xc7evrimd\u0131\u015f\u0131"})]}),(0,Gi.jsx)("button",{className:"message-btn",title:"Mesaj G\xf6nder",children:(0,Gi.jsx)(Ga,{size:18})})]},e.id)})}),"requests"===d&&(0,Gi.jsx)("div",{className:"requests-list","data-testid":"requests-list",children:0===i.length?(0,Gi.jsxs)("div",{className:"no-requests",children:[(0,Gi.jsx)("div",{className:"no-requests-icon",children:"\ud83d\udcec"}),(0,Gi.jsx)("h3",{children:"Bekleyen istek yok"})]}):i.map(e=>{var t;const n=b(e.fromId);return(0,Gi.jsxs)("div",{className:"request-item","data-testid":"request-".concat(e.id),children:[(0,Gi.jsx)("div",{className:"request-avatar",style:{background:n.color||"#5b9bd5"},children:null===(t=n.username)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsxs)("div",{className:"request-info",children:[(0,Gi.jsx)("span",{className:"request-name",children:n.username}),(0,Gi.jsx)("span",{className:"request-text",children:"Arkada\u015fl\u0131k iste\u011fi g\xf6nderdi"})]}),(0,Gi.jsxs)("div",{className:"request-actions",children:[(0,Gi.jsx)("button",{className:"accept-btn",onClick:()=>(async e=>{y(!0);try{await c(e)}catch(t){console.error(t)}y(!1)})(e.fromId),disabled:v,"data-testid":"accept-request-".concat(e.id),children:(0,Gi.jsx)(Qa,{size:16})}),(0,Gi.jsx)("button",{className:"reject-btn",onClick:()=>(async e=>{y(!0);try{await u(e)}catch(t){console.error(t)}y(!1)})(e.fromId),disabled:v,"data-testid":"reject-request-".concat(e.id),children:(0,Gi.jsx)(za,{size:16})})]})]},e.id)})}),"add"===d&&(0,Gi.jsxs)("div",{className:"add-friend","data-testid":"add-friend-section",children:[(0,Gi.jsxs)("div",{className:"search-box",children:[(0,Gi.jsx)(hs,{size:18}),(0,Gi.jsx)("input",{type:"text",value:f,onChange:e=>(e=>{if(p(e),e.trim().length<2)return void g([]);const t=Object.entries(a).filter(t=>{var r;let[i,s]=t;return i!==(null===o||void 0===o?void 0:o.id)&&!n.some(e=>e.id===i)&&(null===(r=s.username)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))}).map(e=>{let[t,n]=e;return(0,s.A)({id:t},n)});g(t)})(e.target.value),placeholder:"Kullan\u0131c\u0131 ad\u0131 ile ara...","data-testid":"friend-search-input"})]}),(0,Gi.jsx)("div",{className:"search-results",children:f.length<2?(0,Gi.jsx)("div",{className:"search-hint",children:(0,Gi.jsx)("p",{children:"Aramak i\xe7in en az 2 karakter girin"})}):0===m.length?(0,Gi.jsx)("div",{className:"no-results",children:(0,Gi.jsx)("p",{children:"Kullan\u0131c\u0131 bulunamad\u0131"})}):m.map(e=>{var t;return(0,Gi.jsxs)("div",{className:"search-result-item","data-testid":"search-result-".concat(e.id),children:[(0,Gi.jsx)("div",{className:"result-avatar",style:{background:e.color||"#5b9bd5"},children:null===(t=e.username)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Gi.jsx)("div",{className:"result-info",children:(0,Gi.jsx)("span",{className:"result-name",children:e.username})}),(0,Gi.jsxs)("button",{className:"add-btn",onClick:()=>(async e=>{y(!0);try{await l(e)}catch(t){console.error(t)}y(!1)})(e.id),disabled:v,"data-testid":"add-friend-btn-".concat(e.id),children:[(0,Gi.jsx)(Ja,{size:16})," Ekle"]})]},e.id)})})]})]})]})},Xa=as("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),eo=as("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),to=as("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),no=e=>{var t;let{userId:n,onClose:i}=e;const{users:s,currentUser:a,friends:o,sendFriendRequest:l,banUser:c,setUserRole:u,isAdmin:d}=Qi(),[h,f]=(0,r.useState)(!1),p=s[n],m=n===(null===a||void 0===a?void 0:a.id),g=o.some(e=>e.id===n);if(!p)return(0,Gi.jsx)("div",{className:"profile-modal-overlay",onClick:i,children:(0,Gi.jsx)("div",{className:"profile-modal",onClick:e=>e.stopPropagation(),children:(0,Gi.jsx)("div",{className:"profile-loading",children:"Y\xfckleniyor..."})})});return(0,Gi.jsx)("div",{className:"profile-modal-overlay",onClick:i,"data-testid":"profile-modal",children:(0,Gi.jsxs)("div",{className:"profile-modal",onClick:e=>e.stopPropagation(),children:[(0,Gi.jsx)("div",{className:"profile-banner",style:{background:"linear-gradient(135deg, ".concat(p.color||"#5b9bd5","44, ").concat(p.color||"#5b9bd5","22)")},children:(0,Gi.jsx)("button",{className:"close-btn",onClick:i,children:(0,Gi.jsx)(za,{size:20})})}),(0,Gi.jsx)("div",{className:"profile-avatar-wrap",children:(0,Gi.jsxs)("div",{className:"profile-avatar",style:{background:p.color||"#5b9bd5"},children:[null===(t=p.username)||void 0===t?void 0:t.charAt(0).toUpperCase(),(0,Gi.jsx)("div",{className:"status-indicator ".concat(p.online?"online":"offline")})]})}),(0,Gi.jsxs)("div",{className:"profile-info",children:[(0,Gi.jsxs)("h2",{className:"profile-username",children:[p.username,"admin"===p.role&&(0,Gi.jsx)("span",{className:"role-badge admin",children:"\u2b50 Admin"}),"mod"===p.role&&(0,Gi.jsx)("span",{className:"role-badge mod",children:"\ud83d\udee1\ufe0f Mod"}),p.banned&&(0,Gi.jsx)("span",{className:"role-badge banned",children:"\ud83d\udeab Banl\u0131"})]}),(0,Gi.jsx)("p",{className:"profile-status",children:p.online?"\ud83d\udfe2 \xc7evrimii\xe7i":"\u26ab \xc7evrimd\u0131\u015f\u0131"})]}),(0,Gi.jsxs)("div",{className:"profile-details",children:[p.email&&(0,Gi.jsxs)("div",{className:"detail-item",children:[(0,Gi.jsx)(Xa,{size:16}),(0,Gi.jsx)("span",{children:p.email})]}),p.origin&&(0,Gi.jsxs)("div",{className:"detail-item",children:[(0,Gi.jsx)(eo,{size:16}),(0,Gi.jsx)("span",{children:p.origin})]}),p.createdAt&&(0,Gi.jsxs)("div",{className:"detail-item",children:[(0,Gi.jsx)(to,{size:16}),(0,Gi.jsxs)("span",{children:["Kat\u0131l\u0131m: ",(v=p.createdAt,v?ka(new Date(v),"dd MMMM yyyy",{locale:Ta}):"Bilinmiyor")]})]})]}),!m&&(0,Gi.jsxs)("div",{className:"profile-actions",children:[(0,Gi.jsxs)("button",{className:"action-btn message","data-testid":"profile-message-btn",children:[(0,Gi.jsx)(Ga,{size:16})," Mesaj G\xf6nder"]}),!g&&(0,Gi.jsxs)("button",{className:"action-btn add-friend",onClick:async()=>{f(!0);try{await l(n)}catch(e){console.error(e)}f(!1)},disabled:h,"data-testid":"profile-add-friend-btn",children:[(0,Gi.jsx)(Ja,{size:16})," Arkada\u015f Ekle"]}),d()&&!p.banned&&(0,Gi.jsxs)("button",{className:"action-btn ban",onClick:async()=>{if(window.confirm("".concat(p.username," kullan\u0131c\u0131s\u0131n\u0131 banlamak istedi\u011finize emin misiniz?"))){f(!0);try{await c(n,"Profil \xfczerinden banland\u0131"),i()}catch(e){console.error(e)}f(!1)}},disabled:h,"data-testid":"profile-ban-btn",children:[(0,Gi.jsx)(ja,{size:16})," Banla"]})]})]})});var v},ro=as("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),io=as("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),so=as("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),ao=as("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),oo=as("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),lo=as("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),co=e=>{var t;let{onClose:n}=e;const{theme:r,layout:i,changeTheme:s,changeLayout:a}=Qi(),o=[{id:"dark",name:"Koyu",icon:ro,desc:"Orijinal koyu tema"},{id:"light",name:"A\xe7\u0131k",icon:io,desc:"Ayd\u0131nl\u0131k tema"},{id:"nature",name:"Do\u011fa",icon:so,desc:"Ye\u015fil do\u011fa temas\u0131"},{id:"blue",name:"Mavi",icon:ao,desc:"Mavi okyanus temas\u0131"}];return(0,Gi.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Gi.jsxs)("div",{className:"modal-content settings-modal",onClick:e=>e.stopPropagation(),children:[(0,Gi.jsxs)("div",{className:"modal-header",children:[(0,Gi.jsx)("h2",{children:"\u2699\ufe0f Ayarlar"}),(0,Gi.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,Gi.jsxs)("div",{className:"settings-body",children:[(0,Gi.jsxs)("section",{className:"settings-section",children:[(0,Gi.jsxs)("div",{className:"settings-section-header",children:[(0,Gi.jsx)(oo,{size:20}),(0,Gi.jsx)("h3",{children:"Tema Se\xe7imi"})]}),(0,Gi.jsx)("div",{className:"theme-grid",children:o.map(e=>{let{id:t,name:n,icon:i,desc:a}=e;return(0,Gi.jsxs)("div",{className:"theme-card ".concat(r===t?"active":""),onClick:()=>s(t),children:[(0,Gi.jsx)(i,{size:32}),(0,Gi.jsx)("div",{className:"theme-name",children:n}),(0,Gi.jsx)("div",{className:"theme-desc",children:a}),r===t&&(0,Gi.jsx)("div",{className:"theme-check",children:(0,Gi.jsx)(Qa,{size:18})})]},t)})})]}),(0,Gi.jsxs)("section",{className:"settings-section",children:[(0,Gi.jsxs)("div",{className:"settings-section-header",children:[(0,Gi.jsx)(lo,{size:20}),(0,Gi.jsx)("h3",{children:"Aray\xfcz D\xfczeni"})]}),(0,Gi.jsx)("div",{className:"layout-options",children:[{id:"original",name:"Orijinal",desc:"index.html tasar\u0131m\u0131"},{id:"modern",name:"Modern",desc:"G\xfcncellenmi\u015f tasar\u0131m"}].map(e=>{let{id:t,name:n,desc:r}=e;return(0,Gi.jsxs)("div",{className:"layout-option ".concat(i===t?"active":""),onClick:()=>a(t),children:[(0,Gi.jsx)("div",{className:"layout-radio",children:i===t&&(0,Gi.jsx)("div",{className:"layout-radio-dot"})}),(0,Gi.jsxs)("div",{className:"layout-info",children:[(0,Gi.jsx)("div",{className:"layout-name",children:n}),(0,Gi.jsx)("div",{className:"layout-desc",children:r})]}),i===t&&(0,Gi.jsx)(Qa,{size:20,className:"layout-check"})]},t)})})]}),(0,Gi.jsxs)("section",{className:"settings-section",children:[(0,Gi.jsx)("div",{className:"settings-section-header",children:(0,Gi.jsx)("h3",{children:"\xd6nizleme"})}),(0,Gi.jsx)("div",{className:"theme-preview",children:(0,Gi.jsxs)("div",{className:"preview-box",style:{background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"8px",padding:"16px"},children:[(0,Gi.jsx)("div",{style:{color:"var(--text-hi)",marginBottom:"8px"},children:"Merhaba! \ud83d\udc4b"}),(0,Gi.jsx)("div",{style:{color:"var(--text)",fontSize:"0.9rem"},children:"Bu mesaj \xf6nizlemesidir."}),(0,Gi.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",background:"var(--surface)",borderRadius:"6px",color:"var(--text)",fontSize:"0.85rem"},children:["Se\xe7ili tema: ",(0,Gi.jsx)("strong",{style:{color:"var(--accent)"},children:null===(t=o.find(e=>e.id===r))||void 0===t?void 0:t.name})]})]})})]})]}),(0,Gi.jsx)("div",{className:"modal-footer",children:(0,Gi.jsx)("button",{className:"btn-secondary",onClick:n,children:"Kapat"})})]})})},uo=as("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ho=as("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fo=()=>{const{userStatus:e,updateUserStatus:t,currentUser:n}=Qi(),[i,s]=(0,r.useState)(!1),a=[{value:"online",label:"\xc7evrimi\xe7i",color:"#43b581",emoji:"\ud83d\udfe2"},{value:"away",label:"Uzakta",color:"#faa61a",emoji:"\ud83d\udfe1"},{value:"busy",label:"Me\u015fgul",color:"#f04747",emoji:"\ud83d\udd34"},{value:"invisible",label:"G\xf6r\xfcnmez",color:"#747f8d",emoji:"\u26ab"}],o=a.find(t=>t.value===e)||a[0];return n?(0,Gi.jsxs)("div",{className:"status-dropdown-container",children:[(0,Gi.jsxs)("button",{className:"status-dropdown-trigger",onClick:()=>s(!i),children:[(0,Gi.jsx)("span",{className:"status-emoji",children:o.emoji}),(0,Gi.jsx)("span",{className:"status-label",children:o.label}),(0,Gi.jsx)(uo,{size:14})]}),i&&(0,Gi.jsxs)(Gi.Fragment,{children:[(0,Gi.jsx)("div",{className:"status-dropdown-overlay",onClick:()=>s(!1)}),(0,Gi.jsx)("div",{className:"status-dropdown-menu",children:a.map(n=>(0,Gi.jsxs)("button",{className:"status-option ".concat(e===n.value?"active":""),onClick:()=>(e=>{t&&t(e),s(!1)})(n.value),children:[(0,Gi.jsx)("span",{className:"status-emoji",children:n.emoji}),(0,Gi.jsx)("div",{className:"status-option-info",children:(0,Gi.jsx)("span",{className:"status-option-label",children:n.label})}),e===n.value&&(0,Gi.jsx)(ho,{size:8,fill:"currentColor"})]},n.value))})]})]}):null},po=e=>{let{size:t=120,animate:n=!0,interactive:i=!1}=e;const[s,a]=(0,r.useState)(!1);return(0,Gi.jsxs)("div",{style:{position:"relative",width:t,height:1.5*t,display:"inline-block"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,Gi.jsxs)("svg",{id:"natureBotPet",viewBox:"0 0 64 96",width:t,height:1.5*t,xmlns:"http://www.w3.org/2000/svg",style:{filter:s?"drop-shadow(0 6px 20px rgba(74,143,64,.55))":"drop-shadow(0 4px 12px rgba(74,143,64,.35))",transition:"filter 0.3s ease",cursor:i?"pointer":"default"},children:[(0,Gi.jsxs)("defs",{children:[(0,Gi.jsxs)("radialGradient",{id:"bodyGrad",cx:"50%",cy:"40%",r:"55%",children:[(0,Gi.jsx)("stop",{offset:"0%",stopColor:"#2e5c28"}),(0,Gi.jsx)("stop",{offset:"100%",stopColor:"#1a3318"})]}),(0,Gi.jsxs)("radialGradient",{id:"eyeGrad",cx:"50%",cy:"30%",r:"60%",children:[(0,Gi.jsx)("stop",{offset:"0%",stopColor:"#a5e6a0"}),(0,Gi.jsx)("stop",{offset:"100%",stopColor:"#4a8f40"})]}),(0,Gi.jsxs)("radialGradient",{id:"headGrad",cx:"50%",cy:"35%",r:"60%",children:[(0,Gi.jsx)("stop",{offset:"0%",stopColor:"#365e2e"}),(0,Gi.jsx)("stop",{offset:"100%",stopColor:"#1e3d18"})]}),(0,Gi.jsxs)("linearGradient",{id:"screenGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Gi.jsx)("stop",{offset:"0%",stopColor:"rgba(107,191,103,.12)"}),(0,Gi.jsx)("stop",{offset:"100%",stopColor:"rgba(74,143,64,.06)"})]}),(0,Gi.jsxs)("linearGradient",{id:"legGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Gi.jsx)("stop",{offset:"0%",stopColor:"#2e5c28"}),(0,Gi.jsx)("stop",{offset:"100%",stopColor:"#1a3318"})]}),(0,Gi.jsxs)("filter",{id:"eyeGlow",children:[(0,Gi.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"blur"}),(0,Gi.jsxs)("feMerge",{children:[(0,Gi.jsx)("feMergeNode",{in:"blur"}),(0,Gi.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,Gi.jsxs)("g",{className:"bot-body-group",children:[(0,Gi.jsx)("line",{x1:"32",y1:"8",x2:"32",y2:"17",stroke:"#4a8f40",strokeWidth:"2",strokeLinecap:"round"}),(0,Gi.jsx)("circle",{cx:"32",cy:"7",r:"3.5",fill:"#4a8f40"}),(0,Gi.jsx)("circle",{cx:"32",cy:"7",r:"2",fill:"#a5e6a0",className:"bot-antenna-light",children:n&&(0,Gi.jsx)("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"2.4s",repeatCount:"indefinite"})}),(0,Gi.jsx)("rect",{x:"14",y:"16",width:"36",height:"28",rx:"9",fill:"url(#headGrad)",stroke:"#4a8f40",strokeWidth:"1.2"}),(0,Gi.jsxs)("g",{filter:"url(#eyeGlow)",children:[(0,Gi.jsx)("ellipse",{cx:"24",cy:"27",rx:"5.5",ry:"5.5",fill:"url(#eyeGrad)",className:"bot-eye-glow",children:n&&(0,Gi.jsx)("animate",{attributeName:"ry",values:"5.5;5.5;5.5;0.8;5.5",dur:"4s",repeatCount:"indefinite"})}),(0,Gi.jsx)("circle",{cx:"24",cy:"26",r:"2.2",fill:"#0d1f0c",opacity:"0.9"}),(0,Gi.jsx)("circle",{cx:"25.2",cy:"25",r:"1",fill:"rgba(255,255,255,.7)"}),(0,Gi.jsx)("ellipse",{cx:"40",cy:"27",rx:"5.5",ry:"5.5",fill:"url(#eyeGrad)",className:"bot-eye-glow",children:n&&(0,Gi.jsx)("animate",{attributeName:"ry",values:"5.5;5.5;5.5;0.8;5.5",dur:"4s",begin:"0.2s",repeatCount:"indefinite"})}),(0,Gi.jsx)("circle",{cx:"40",cy:"26",r:"2.2",fill:"#0d1f0c",opacity:"0.9"}),(0,Gi.jsx)("circle",{cx:"41.2",cy:"25",r:"1",fill:"rgba(255,255,255,.7)"})]}),(0,Gi.jsxs)("g",{className:"bot-mouth-grid",opacity:"0.85",children:[(0,Gi.jsx)("rect",{x:"25",y:"37",width:"3",height:"2.5",rx:".5",fill:"#4a8f40"}),(0,Gi.jsx)("rect",{x:"29",y:"37",width:"3",height:"2.5",rx:".5",fill:"#6dbf67"}),(0,Gi.jsx)("rect",{x:"33",y:"37",width:"3",height:"2.5",rx:".5",fill:"#4a8f40"}),(0,Gi.jsx)("rect",{x:"37",y:"37",width:"3",height:"2.5",rx:".5",fill:"#6dbf67"})]}),(0,Gi.jsx)("rect",{x:"16",y:"44",width:"32",height:"26",rx:"8",fill:"url(#bodyGrad)",stroke:"#3a7a34",strokeWidth:"1"}),(0,Gi.jsx)("rect",{x:"22",y:"48",width:"20",height:"13",rx:"4",fill:"url(#screenGrad)",stroke:"rgba(74,143,64,.3)",strokeWidth:".8"}),(0,Gi.jsx)("text",{x:"32",y:"57",textAnchor:"middle",fontSize:"5.5",fill:"#6dbf67",fontFamily:"monospace",opacity:".8",children:"NAT"}),(0,Gi.jsx)("line",{x1:"22",y1:"60",x2:"42",y2:"60",stroke:"rgba(74,143,64,.2)",strokeWidth:".5"}),(0,Gi.jsx)("circle",{cx:"24",cy:"64",r:"2.2",fill:"#3a7a34",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("circle",{cx:"40",cy:"64",r:"2.2",fill:"#3a7a34",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("circle",{cx:"32",cy:"65",r:"1.8",fill:"#2d6b25"}),(0,Gi.jsx)("circle",{cx:"32",cy:"65",r:"1",fill:"#4a8f40",opacity:".6",children:n&&(0,Gi.jsx)("animate",{attributeName:"opacity",values:".6;1;.6",dur:"1.8s",repeatCount:"indefinite"})})]}),(0,Gi.jsxs)("g",{className:"bot-arm-left",children:[(0,Gi.jsx)("rect",{x:"5",y:"36",width:"11",height:"18",rx:"5",fill:"url(#bodyGrad)",stroke:"#3a7a34",strokeWidth:"1"}),(0,Gi.jsx)("circle",{cx:"10.5",cy:"54",r:"4.5",fill:"#2e5c28",stroke:"#4a8f40",strokeWidth:".8"}),(0,Gi.jsx)("circle",{cx:"10.5",cy:"54",r:"2",fill:"#4a8f40",opacity:".5"})]}),(0,Gi.jsxs)("g",{className:"bot-arm-right",children:[(0,Gi.jsx)("rect",{x:"48",y:"36",width:"11",height:"18",rx:"5",fill:"url(#bodyGrad)",stroke:"#3a7a34",strokeWidth:"1"}),(0,Gi.jsx)("circle",{cx:"53.5",cy:"54",r:"4.5",fill:"#2e5c28",stroke:"#4a8f40",strokeWidth:".8"}),(0,Gi.jsx)("circle",{cx:"53.5",cy:"54",r:"2",fill:"#4a8f40",opacity:".5"})]}),(0,Gi.jsxs)("g",{className:"bot-leg-left",children:[(0,Gi.jsx)("rect",{x:"19",y:"68",width:"11",height:"17",rx:"5",fill:"url(#legGrad)",stroke:"#3a7a34",strokeWidth:".8"}),(0,Gi.jsx)("ellipse",{cx:"24.5",cy:"85",rx:"6.5",ry:"4",fill:"#1e3d18",stroke:"#4a8f40",strokeWidth:".7"})]}),(0,Gi.jsxs)("g",{className:"bot-leg-right",children:[(0,Gi.jsx)("rect",{x:"34",y:"68",width:"11",height:"17",rx:"5",fill:"url(#legGrad)",stroke:"#3a7a34",strokeWidth:".8"}),(0,Gi.jsx)("ellipse",{cx:"39.5",cy:"85",rx:"6.5",ry:"4",fill:"#1e3d18",stroke:"#4a8f40",strokeWidth:".7"})]})]}),n&&(0,Gi.jsx)("style",{jsx:!0,children:"\n          @keyframes botHover {\n            0%, 100% { transform: translateY(0px); }\n            50% { transform: translateY(-4px); }\n          }\n\n          @keyframes armSwingLeft {\n            0%, 100% { transform: rotate(0deg); }\n            30% { transform: rotate(-22deg); }\n            60% { transform: rotate(8deg); }\n          }\n\n          @keyframes armSwingRight {\n            0%, 100% { transform: rotate(0deg); }\n            30% { transform: rotate(22deg); }\n            60% { transform: rotate(-8deg); }\n          }\n\n          @keyframes legWalkLeft {\n            0%, 100% { transform: rotate(0deg) translateY(0px); }\n            25% { transform: rotate(-12deg) translateY(-2px); }\n            75% { transform: rotate(10deg) translateY(1px); }\n          }\n\n          @keyframes legWalkRight {\n            0%, 100% { transform: rotate(0deg) translateY(0px); }\n            25% { transform: rotate(12deg) translateY(-2px); }\n            75% { transform: rotate(-10deg) translateY(1px); }\n          }\n\n          .bot-body-group {\n            animation: botHover 3.2s ease-in-out infinite;\n            transform-origin: center center;\n          }\n\n          .bot-arm-left {\n            transform-origin: 10.5px 36px;\n            animation: armSwingLeft 1.6s ease-in-out infinite;\n          }\n\n          .bot-arm-right {\n            transform-origin: 53.5px 36px;\n            animation: armSwingRight 1.6s ease-in-out infinite;\n            animation-delay: -0.8s;\n          }\n\n          .bot-leg-left {\n            transform-origin: 24.5px 68px;\n            animation: legWalkLeft 1.6s ease-in-out infinite;\n          }\n\n          .bot-leg-right {\n            transform-origin: 39.5px 68px;\n            animation: legWalkRight 1.6s ease-in-out infinite;\n            animation-delay: -0.8s;\n          }\n        "})]})},mo=as("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),go=as("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),vo=as("tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),yo=()=>{const{currentUser:e,currentRoom:t,setCurrentRoom:n,isAdmin:i,servers:s,currentServer:a}=Qi(),[o,l]=(0,r.useState)("home"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),v=(s[a],e=>{h(e),u(!0)}),y=e=>{let{size:t=32}=e;return(0,Gi.jsxs)("svg",{viewBox:"0 0 120 120",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Gi.jsx)("defs",{children:(0,Gi.jsx)("clipPath",{id:"leafClip",children:(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z"})})}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"#0e2b0c"}),(0,Gi.jsxs)("g",{clipPath:"url(#leafClip)",children:[(0,Gi.jsx)("line",{x1:"60",y1:"14",x2:"60",y2:"108",stroke:"#4a8f40",strokeWidth:"1.2"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"78",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"35",x2:"42",y2:"55",stroke:"#4a8f40",strokeWidth:".7"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"82",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"52",x2:"38",y2:"68",stroke:"#4a8f40",strokeWidth:".6"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"78",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"68",x2:"42",y2:"82",stroke:"#4a8f40",strokeWidth:".5"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"70",y2:"94",stroke:"#4a8f40",strokeWidth:".4"}),(0,Gi.jsx)("line",{x1:"60",y1:"82",x2:"50",y2:"94",stroke:"#4a8f40",strokeWidth:".4"})]}),(0,Gi.jsx)("path",{d:"M60 14 C76 22 98 44 98 68 C98 92 81 108 60 108 C39 108 22 92 22 68 C22 44 44 22 60 14Z",fill:"none",stroke:"#4a8f40",strokeWidth:"1.2"})]})},b=()=>(0,Gi.jsxs)("svg",{width:"26",height:"22",viewBox:"0 0 110 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Gi.jsx)("ellipse",{cx:"55",cy:"88",rx:"46",ry:"6",fill:"rgba(74,143,64,.25)"}),(0,Gi.jsx)("rect",{x:"10",y:"42",width:"90",height:"46",rx:"4",fill:"#1a2a1a",stroke:"#2d5a2d",strokeWidth:"1.5"}),(0,Gi.jsx)("path",{d:"M4 44 L55 6 L106 44 Z",fill:"#2d5a20",stroke:"#4a8f40",strokeWidth:"1.5"}),(0,Gi.jsx)("path",{d:"M8 44 L55 10 L102 44 Z",fill:"#3a7a28"}),(0,Gi.jsx)("line",{x1:"55",y1:"10",x2:"55",y2:"44",stroke:"#2d5a20",strokeWidth:"1"}),(0,Gi.jsx)("line",{x1:"29",y1:"32",x2:"81",y2:"32",stroke:"#2d5a20",strokeWidth:".8"}),(0,Gi.jsx)("circle",{cx:"55",cy:"6",r:"4",fill:"#4a8f40"}),(0,Gi.jsx)("circle",{cx:"55",cy:"6",r:"2",fill:"#6dbf67"}),(0,Gi.jsx)("rect",{x:"10",y:"44",width:"90",height:"44",rx:"3",fill:"#0f1f0f",stroke:"#1a3a1a",strokeWidth:"1"}),(0,Gi.jsx)("path",{d:"M38 88 L38 62 Q38 52 55 52 Q72 52 72 62 L72 88 Z",fill:"#0a150a"}),(0,Gi.jsx)("rect",{x:"34",y:"30",width:"42",height:"13",rx:"4",fill:"#1a3a10",stroke:"#4a8f40",strokeWidth:"1"}),(0,Gi.jsx)("text",{x:"55",y:"40",textAnchor:"middle",fontSize:"7",fontWeight:"bold",fill:"#6dbf67",fontFamily:"monospace",children:"NatureBot"}),(0,Gi.jsx)("rect",{x:"15",y:"52",width:"18",height:"14",rx:"2",fill:"#0a1a0a",stroke:"#2d5a2d",strokeWidth:"1"}),(0,Gi.jsx)("line",{x1:"24",y1:"52",x2:"24",y2:"66",stroke:"#2d5a2d",strokeWidth:".8"}),(0,Gi.jsx)("line",{x1:"15",y1:"59",x2:"33",y2:"59",stroke:"#2d5a2d",strokeWidth:".8"}),(0,Gi.jsx)("rect",{x:"77",y:"52",width:"18",height:"14",rx:"2",fill:"#0a1a0a",stroke:"#2d5a2d",strokeWidth:"1"}),(0,Gi.jsx)("line",{x1:"86",y1:"52",x2:"86",y2:"66",stroke:"#2d5a2d",strokeWidth:".8"}),(0,Gi.jsx)("line",{x1:"77",y1:"59",x2:"95",y2:"59",stroke:"#2d5a2d",strokeWidth:".8"}),(0,Gi.jsx)("circle",{cx:"15",cy:"72",r:"3",fill:"#2d5a20",opacity:".9"}),(0,Gi.jsx)("circle",{cx:"95",cy:"72",r:"3",fill:"#2d5a20",opacity:".9"})]});return(0,Gi.jsxs)("div",{id:"desktopShell","data-testid":"main-app",children:[(0,Gi.jsxs)("div",{id:"deskRail",children:[(0,Gi.jsx)("div",{className:"rail-logo",title:"Sunucu De\u011fi\u015ftir",style:{cursor:"pointer",padding:"4px"},children:(0,Gi.jsx)(y,{})}),(0,Gi.jsx)("div",{className:"rail-sep"}),(0,Gi.jsx)("div",{className:"rail-btn ".concat("home"===o?"act":""),onClick:()=>l("home"),title:"Ana Sayfa","data-testid":"rail-home",id:"rb-home",children:(0,Gi.jsx)("div",{className:"rail-btn-ic",style:{fontSize:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Gi.jsx)(mo,{size:22})})}),(0,Gi.jsx)("div",{className:"rail-btn ".concat("forum"===o?"act":""),onClick:()=>l("forum"),title:"Forum","data-testid":"rail-forum",id:"rb-forum",children:(0,Gi.jsx)("div",{className:"rail-btn-ic",style:{fontSize:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Gi.jsx)(go,{size:22})})}),(0,Gi.jsx)("div",{className:"rail-btn ".concat("friends"===o?"act":""),onClick:()=>l("friends"),title:"Arkada\u015flar","data-testid":"rail-friends",id:"rb-friends",children:(0,Gi.jsx)("div",{className:"rail-btn-ic",style:{fontSize:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Gi.jsx)(vs,{size:22})})}),(0,Gi.jsx)("div",{className:"rail-btn ".concat("watch"===o?"act":""),onClick:()=>l("watch"),title:"Canl\u0131 \u0130zle","data-testid":"rail-watch",id:"rb-watch",children:(0,Gi.jsx)("div",{className:"rail-btn-ic",style:{fontSize:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Gi.jsx)(vo,{size:22})})}),(0,Gi.jsx)("div",{className:"rail-btn",title:"Robot Evi","data-testid":"rail-robot",id:"rb-botHome",children:(0,Gi.jsx)("div",{className:"rail-btn-ic",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Gi.jsx)(b,{})})}),(0,Gi.jsx)("div",{className:"rail-sep"}),i()&&(0,Gi.jsx)("div",{className:"rail-btn ".concat("admin"===o?"act":""),onClick:()=>l("admin"),title:"Admin Paneli","data-testid":"rail-admin",id:"rb-admin",style:{display:i()?"flex":"none"},children:(0,Gi.jsx)("div",{className:"rail-btn-ic",children:(0,Gi.jsx)(Ra,{size:22})})}),(0,Gi.jsxs)("div",{id:"deskRailUser",children:[(0,Gi.jsx)(fo,{}),(0,Gi.jsx)("div",{className:"rail-btn",onClick:()=>g(!0),title:"Ayarlar (Tema & Layout)","data-testid":"settings-btn",style:{marginBottom:"8px",marginTop:"8px"},children:(0,Gi.jsx)("div",{className:"rail-btn-ic",children:(0,Gi.jsx)(Ra,{size:22})})}),(0,Gi.jsx)("div",{className:"sdot"})]})]}),(0,Gi.jsx)(fs,{activePanel:o,setActivePanel:l,onRoomSelect:e=>{n(e),l("chat")},onViewProfile:v}),(0,Gi.jsxs)("div",{id:"deskMain",children:["home"===o&&!t&&(0,Gi.jsxs)("div",{id:"deskEmptyState","data-testid":"empty-state",children:[(0,Gi.jsx)("div",{style:{position:"relative",marginBottom:"20px"},children:(0,Gi.jsx)(po,{size:160,animate:!0})}),(0,Gi.jsx)("div",{className:"big-title",children:"Nature.co'ya Ho\u015f Geldin"}),(0,Gi.jsx)("div",{className:"big-sub",children:"Soldaki listeden bir kanal, grup veya ki\u015fi se\xe7erek sohbete ba\u015fla"}),(0,Gi.jsxs)("div",{style:{marginTop:"16px",display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center"},children:[(0,Gi.jsx)("div",{style:{background:"rgba(74,143,64,.15)",border:"1px solid rgba(74,143,64,.25)",borderRadius:"10px",padding:"8px 14px",fontSize:".78rem",color:"#a5d6a7",cursor:"pointer",transition:"background .15s"},children:"\ud83d\udcac Kanal Se\xe7"}),(0,Gi.jsx)("div",{style:{background:"rgba(91,155,213,.12)",border:"1px solid rgba(91,155,213,.2)",borderRadius:"10px",padding:"8px 14px",fontSize:".78rem",color:"#90caf9",cursor:"pointer",transition:"background .15s"},onClick:()=>l("friends"),children:"\ud83d\udc65 Arkada\u015flar"})]})]}),("chat"===o||t)&&t&&(0,Gi.jsx)(Na,{room:t,showMembers:f,setShowMembers:p,onViewProfile:v}),"admin"===o&&(0,Gi.jsx)(Va,{}),"forum"===o&&(0,Gi.jsx)($a,{onViewProfile:v}),"friends"===o&&(0,Gi.jsx)(Za,{onViewProfile:v})]}),c&&(0,Gi.jsx)(no,{userId:d,onClose:()=>u(!1)}),m&&(0,Gi.jsx)(co,{onClose:()=>g(!1)})]})},bo=()=>{const{currentServer:e,currentUser:t,isLoading:n,initServer:r}=Qi();return n?(0,Gi.jsxs)("div",{className:"loading-screen","data-testid":"loading-screen",children:[(0,Gi.jsx)("div",{className:"loading-spinner",children:(0,Gi.jsx)("div",{className:"spinner"})}),(0,Gi.jsx)("p",{children:"Y\xfckleniyor..."})]}):e?t?(0,Gi.jsx)(yo,{}):(0,Gi.jsx)(us,{onBack:()=>r(null)}):(0,Gi.jsx)(Xi,{})};const _o=function(){return(0,Gi.jsx)(Ji,{children:(0,Gi.jsx)("div",{className:"App","data-testid":"app-root",children:(0,Gi.jsx)(bo,{})})})};i.createRoot(document.getElementById("root")).render((0,Gi.jsx)(r.StrictMode,{children:(0,Gi.jsx)(_o,{})}))})();
//# sourceMappingURL=main.283d2c7b.js.map